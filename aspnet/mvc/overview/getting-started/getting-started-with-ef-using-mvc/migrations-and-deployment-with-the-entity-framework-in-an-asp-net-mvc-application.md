---
uid: mvc/overview/getting-started/getting-started-with-ef-using-mvc/migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application
title: 最初にコードを移行し、Entity Framework、ASP.NET MVC アプリケーションと展開 |Microsoft ドキュメント
author: tdykstra
description: Contoso 大学でサンプル web アプリケーションでは、Entity Framework 6 の Code First と Visual Studio を使用して ASP.NET MVC 5 アプリケーションを作成する方法について説明しています.
ms.author: aspnetcontent
manager: wpickett
ms.date: 11/07/2014
ms.topic: article
ms.assetid: d4dfc435-bda6-4621-9762-9ba270f8de4e
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/getting-started/getting-started-with-ef-using-mvc/migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application
msc.type: authoredcontent
ms.openlocfilehash: 04d393edca0469df140f06a7d083a48aa8f84b65
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/06/2018
---
<a name="code-first-migrations-and-deployment-with-the-entity-framework-in-an-aspnet-mvc-application"></a><span data-ttu-id="499a4-103">最初にコードを移行し、Entity Framework、ASP.NET MVC アプリケーションと展開</span><span class="sxs-lookup"><span data-stu-id="499a4-103">Code First Migrations and Deployment with the Entity Framework in an ASP.NET MVC Application</span></span>
====================
<span data-ttu-id="499a4-104">によって[Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="499a4-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="499a4-105">[完成したプロジェクトをダウンロード](http://code.msdn.microsoft.com/ASPNET-MVC-Application-b01a9fe8)または[PDF のダウンロード](http://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20Entity%20Framework%206%20Code%20First%20using%20MVC%205.pdf)</span><span class="sxs-lookup"><span data-stu-id="499a4-105">[Download Completed Project](http://code.msdn.microsoft.com/ASPNET-MVC-Application-b01a9fe8) or [Download PDF](http://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20Entity%20Framework%206%20Code%20First%20using%20MVC%205.pdf)</span></span>

> <span data-ttu-id="499a4-106">Contoso 大学でサンプル web アプリケーションでは、Entity Framework 6 の Code First と Visual Studio 2013 を使用して ASP.NET MVC 5 アプリケーションを作成する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="499a4-106">The Contoso University sample web application demonstrates how to create ASP.NET MVC 5 applications using the Entity Framework 6 Code First and Visual Studio 2013.</span></span> <span data-ttu-id="499a4-107">チュートリアル シリーズについては、[シリーズの最初のチュートリアル](creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md)をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="499a4-107">For information about the tutorial series, see [the first tutorial in the series](creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md).</span></span>

<span data-ttu-id="499a4-108">これまで、アプリケーションが実行されているローカル IIS Express で開発用コンピューター上。</span><span class="sxs-lookup"><span data-stu-id="499a4-108">So far the application has been running locally in IIS Express on your development computer.</span></span> <span data-ttu-id="499a4-109">実際のアプリケーションをインターネット経由で使用するには、他のユーザーに使用できるようにするには、web ホスティング プロバイダーに配置する必要があります。</span><span class="sxs-lookup"><span data-stu-id="499a4-109">To make a real application available for other people to use over the Internet, you have to deploy it to a web hosting provider.</span></span> <span data-ttu-id="499a4-110">このチュートリアルで、Contoso 大学アプリケーションを Azure でクラウドに展開します。</span><span class="sxs-lookup"><span data-stu-id="499a4-110">In this tutorial, you'll deploy the Contoso University application to the cloud in Azure.</span></span>

<span data-ttu-id="499a4-111">このチュートリアルには、次のセクションが含まれています。</span><span class="sxs-lookup"><span data-stu-id="499a4-111">The tutorial contains the following sections:</span></span>

- <span data-ttu-id="499a4-112">Code First Migrations を有効にします。</span><span class="sxs-lookup"><span data-stu-id="499a4-112">Enable Code First Migrations.</span></span> <span data-ttu-id="499a4-113">移行機能を使用すると、データ モデルを変更および削除し、データベースを再作成しなくても、データベース スキーマを更新することにより、実稼働環境に変更を配置できます。</span><span class="sxs-lookup"><span data-stu-id="499a4-113">The Migrations feature enables you to change the data model and deploy your changes to production by updating the database schema without having to drop and re-create the database.</span></span>
- <span data-ttu-id="499a4-114">Azure に展開します。</span><span class="sxs-lookup"><span data-stu-id="499a4-114">Deploy to Azure.</span></span> <span data-ttu-id="499a4-115">この手順は省略可能です。残りのチュートリアルを続行するには、プロジェクトを配置することなしです。</span><span class="sxs-lookup"><span data-stu-id="499a4-115">This step is optional; you can continue with the remaining tutorials without having deployed the project.</span></span>

<span data-ttu-id="499a4-116">ソース管理と展開については、継続的インテグレーション プロセスを使用するが、このチュートリアルではこれらのトピックについては説明しないことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="499a4-116">We recommend that you use a continuous integration process with source control for deployment, but this tutorial does not cover those topics.</span></span> <span data-ttu-id="499a4-117">詳細については、次を参照してください。、[ソース コントロール](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/source-control)と[継続的インテグレーション](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/continuous-integration-and-continuous-delivery)の章、 [Azure と実際のクラウド アプリのビルド](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/introduction)電子書籍します。</span><span class="sxs-lookup"><span data-stu-id="499a4-117">For more information, see the [source control](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/source-control) and [continuous integration](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/continuous-integration-and-continuous-delivery) chapters of the [Building Real-World Cloud Apps with Azure](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/introduction) e-book.</span></span>

## <a name="enable-code-first-migrations"></a><span data-ttu-id="499a4-118">Code First Migrations を有効にします。</span><span class="sxs-lookup"><span data-stu-id="499a4-118">Enable Code First Migrations</span></span>

<span data-ttu-id="499a4-119">新しいアプリケーションを開発して、データ モデルが頻繁に変更される場合、モデルが変更されるたびに、モデルはデータベースと同期されなくなります。</span><span class="sxs-lookup"><span data-stu-id="499a4-119">When you develop a new application, your data model changes frequently, and each time the model changes, it gets out of sync with the database.</span></span> <span data-ttu-id="499a4-120">自動的に削除し、データ モデルを変更するたびにデータベースを再作成するには、Entity Framework を構成しておきます。</span><span class="sxs-lookup"><span data-stu-id="499a4-120">You have configured the Entity Framework to automatically drop and re-create the database each time you change the data model.</span></span> <span data-ttu-id="499a4-121">ときに、追加、削除、またはエンティティ クラスを変更または変更、`DbContext`クラスを次に、アプリケーションを実行したときに自動的に、既存のデータベースを削除すると、作成、モデルと一致し、テスト データのシードを設定するか、新しいです。</span><span class="sxs-lookup"><span data-stu-id="499a4-121">When you add, remove, or change entity classes or change your `DbContext` class, the next time you run the application it automatically deletes your existing database, creates a new one that matches the model, and seeds it with test data.</span></span>

<span data-ttu-id="499a4-122">このメソッドは、実稼働環境にアプリケーションを展開するまで、データベースとデータ モデルの同期の維持がうまく機能します。</span><span class="sxs-lookup"><span data-stu-id="499a4-122">This method of keeping the database in sync with the data model works well until you deploy the application to production.</span></span> <span data-ttu-id="499a4-123">アプリケーションは、実稼働環境で実行中は、データを保持して、新しい列を追加するなどの変更を加えるたびにすべてのものが失われるしたくないが通常格納されます。</span><span class="sxs-lookup"><span data-stu-id="499a4-123">When the application is running in production, it is usually storing data that you want to keep, and you don't want to lose everything each time you make a change such as adding a new column.</span></span> <span data-ttu-id="499a4-124">[Code First Migrations](https://msdn.microsoft.com/data/jj591621)機能が Code First を削除して、データベースを再作成ではなく、データベース スキーマを更新するようにすることでこの問題を解決します。</span><span class="sxs-lookup"><span data-stu-id="499a4-124">The [Code First Migrations](https://msdn.microsoft.com/data/jj591621) feature solves this problem by enabling Code First to update the database schema instead of dropping and re-creating the database.</span></span> <span data-ttu-id="499a4-125">このチュートリアルでは、アプリケーションを展開してを準備するを移行できます。</span><span class="sxs-lookup"><span data-stu-id="499a4-125">In this tutorial, you'll deploy the application, and to prepare for that you'll enable Migrations.</span></span>

1. <span data-ttu-id="499a4-126">前のコメント アウトまたは削除すると、設定した初期化子を無効にする、`contexts`アプリケーションの Web.config ファイルに追加する要素です。</span><span class="sxs-lookup"><span data-stu-id="499a4-126">Disable the initializer that you set up earlier by commenting out or deleting the `contexts` element that you added to the application Web.config file.</span></span>

    [!code-xml[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample1.xml?highlight=2,6)]
2. <span data-ttu-id="499a4-127">アプリケーションでも*Web.config*ファイル、ContosoUniversity2 に接続文字列でデータベースの名前を変更します。</span><span class="sxs-lookup"><span data-stu-id="499a4-127">Also in the application *Web.config* file, change the name of the database in the connection string to ContosoUniversity2.</span></span>

    [!code-xml[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample2.xml?highlight=2)]

    <span data-ttu-id="499a4-128">この変更では、最初の移行で新しいデータベースが作成されるように、プロジェクトを設定します。</span><span class="sxs-lookup"><span data-stu-id="499a4-128">This change sets up the project so that the first migration will create a new database.</span></span> <span data-ttu-id="499a4-129">これには必要ありませんが、後述することをお勧めする理由。</span><span class="sxs-lookup"><span data-stu-id="499a4-129">This isn't required but you'll see later why it's a good idea.</span></span>
3. <span data-ttu-id="499a4-130">**ツール** メニューのをクリックして**ライブラリ パッケージ マネージャー**し**Package Manager Console**です。</span><span class="sxs-lookup"><span data-stu-id="499a4-130">From the **Tools** menu, click **Library Package Manager** and then **Package Manager Console**.</span></span>

    ![Selecting_Package_Manager_Console](https://asp.net/media/4336350/1pm.png)
4. <span data-ttu-id="499a4-132">`PM>`プロンプトに次のコマンドを入力してください。</span><span class="sxs-lookup"><span data-stu-id="499a4-132">At the `PM>` prompt enter the following commands:</span></span>

    `enable-migrations`  
    `add-migration InitialCreate`

    ![enable-migrations コマンド](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/image1.png)

    <span data-ttu-id="499a4-134">`enable-migrations`コマンドを作成、*移行*ContosoUniversity プロジェクト内のフォルダーはそのフォルダーに格納、*される Configuration.cs*ファイルの移行を構成することができます。</span><span class="sxs-lookup"><span data-stu-id="499a4-134">The `enable-migrations` command creates a *Migrations* folder in the ContosoUniversity project, and it puts in that folder a *Configuration.cs* file that you can edit to configure Migrations.</span></span>

    <span data-ttu-id="499a4-135">(データベース名を変更するように指示する上記の手順をされなかった場合に移行は、既存のデータベースを見つけるし、自動的には、`add-migration`コマンド。</span><span class="sxs-lookup"><span data-stu-id="499a4-135">(If you missed the step above that directs you to change the database name, Migrations will find the existing database and automatically do the `add-migration` command.</span></span> <span data-ttu-id="499a4-136">これは問題ありません、これらのデータベースを展開する前に、移行コードのテストを実行しません。</span><span class="sxs-lookup"><span data-stu-id="499a4-136">That's OK, it just means you won't run a test of the migrations code before you deploy the database.</span></span> <span data-ttu-id="499a4-137">後で実行するときに、`update-database`コマンドは、データベースが既に存在するため、何も起こりません)。</span><span class="sxs-lookup"><span data-stu-id="499a4-137">Later when you run the `update-database` command nothing will happen because the database will already exist.)</span></span>

    ![Migrations フォルダー](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/image2.png)

    <span data-ttu-id="499a4-139">先ほど、見た initializer クラスと同様に、`Configuration`クラスが含まれています、`Seed`メソッドです。</span><span class="sxs-lookup"><span data-stu-id="499a4-139">Like the initializer class that you saw earlier, the `Configuration` class includes a `Seed` method.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample3.cs)]

    <span data-ttu-id="499a4-140">目的、[シード](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx)メソッドを挿入または Code First を作成またはデータベースを更新した後、テスト データを更新することを有効にします。</span><span class="sxs-lookup"><span data-stu-id="499a4-140">The purpose of the [Seed](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) method is to enable you to insert or update test data after Code First creates or updates the database.</span></span> <span data-ttu-id="499a4-141">メソッドは、データベースの作成時に、そのデータ モデルを変更した後、データベース スキーマが更新されるたびに呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="499a4-141">The method is called when the database is created and every time the database schema is updated after a data model change.</span></span>

### <a name="set-up-the-seed-method"></a><span data-ttu-id="499a4-142">Seed メソッドを設定します。</span><span class="sxs-lookup"><span data-stu-id="499a4-142">Set up the Seed Method</span></span>

<span data-ttu-id="499a4-143">削除しているし、初期化子クラスを使用するデータ モデルのすべての変更のデータベースを再作成するには、`Seed`モデル変更のたびに、データベースが削除されるため、テスト データを挿入するメソッドとすべてのテスト データは失われます。</span><span class="sxs-lookup"><span data-stu-id="499a4-143">When you are dropping and re-creating the database for every data model change, you use the initializer class's `Seed` method to insert test data, because after every model change the database is dropped and all the test data is lost.</span></span> <span data-ttu-id="499a4-144">テスト データを保持するデータベースの変更後に、Code First Migrations にテスト データを含むため、[シード](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx)メソッド通常必要はありません。</span><span class="sxs-lookup"><span data-stu-id="499a4-144">With Code First Migrations, test data is retained after database changes, so including test data in the [Seed](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) method is typically not necessary.</span></span> <span data-ttu-id="499a4-145">実際には、したくない、`Seed`場合、使用する移行を実稼働でデータベースを配置するためにテスト データを挿入するメソッド、`Seed`メソッドは、実稼働環境で実行されます。</span><span class="sxs-lookup"><span data-stu-id="499a4-145">In fact, you don't want the `Seed` method to insert test data if you'll be using Migrations to deploy the database to production, because the `Seed` method will run in production.</span></span> <span data-ttu-id="499a4-146">場合は、`Seed`実稼働環境で、データベースに必要なデータのみを挿入するメソッド。</span><span class="sxs-lookup"><span data-stu-id="499a4-146">In that case you want the `Seed` method to insert into the database only the data that you need in production.</span></span> <span data-ttu-id="499a4-147">たとえば、ことができます、データベース内の実際の部門名を含める、`Department`表に、アプリケーションは実稼働環境で使用可能です。</span><span class="sxs-lookup"><span data-stu-id="499a4-147">For example, you might want the database to include actual department names in the `Department` table when the application becomes available in production.</span></span>

<span data-ttu-id="499a4-148">このチュートリアルで使用する移行展開についても`Seed`メソッドが大量のデータを手動で挿入することがなくアプリケーションの機能のしくみを確認しやすくためにテスト データをこのまま挿入されます。</span><span class="sxs-lookup"><span data-stu-id="499a4-148">For this tutorial, you'll be using Migrations for deployment, but your `Seed` method will insert test data anyway in order to make it easier to see how application functionality works without having to manually insert a lot of data.</span></span>

1. <span data-ttu-id="499a4-149">内容を置き換える、*される Configuration.cs*ファイルを次のコードは、新しいデータベースにテスト データが読み込まれます。</span><span class="sxs-lookup"><span data-stu-id="499a4-149">Replace the contents of the *Configuration.cs* file with the following code, which will load test data into the new database.</span></span> 

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample4.cs)]

    <span data-ttu-id="499a4-150">[シード](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx)メソッドを受け取り、入力パラメーターとして、データベース コンテキストのオブジェクト、メソッドのコードはそのオブジェクトを使用して、データベースに新しいエンティティを追加します。</span><span class="sxs-lookup"><span data-stu-id="499a4-150">The [Seed](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) method takes the database context object as an input parameter, and the code in the method uses that object to add new entities to the database.</span></span> <span data-ttu-id="499a4-151">エンティティ型ごとに、コードは新しいエンティティのコレクションを作成、適切なにそれらを追加[DbSet](https://msdn.microsoft.com/library/system.data.entity.dbset(v=vs.103).aspx)プロパティ、および、データベースへの変更を保存します。</span><span class="sxs-lookup"><span data-stu-id="499a4-151">For each entity type, the code creates a collection of new entities, adds them to the appropriate [DbSet](https://msdn.microsoft.com/library/system.data.entity.dbset(v=vs.103).aspx) property, and then saves the changes to the database.</span></span> <span data-ttu-id="499a4-152">呼び出す必要はありません、 [SaveChanges](https://msdn.microsoft.com/library/system.data.entity.dbcontext.savechanges(v=VS.103).aspx)メソッドのエンティティの各グループの後に、ここでは、として行われますが、これを行うコードは、データベースに書き込んでいるときに例外が発生した場合、問題の原因を特定できます。</span><span class="sxs-lookup"><span data-stu-id="499a4-152">It isn't necessary to call the [SaveChanges](https://msdn.microsoft.com/library/system.data.entity.dbcontext.savechanges(v=VS.103).aspx) method after each group of entities, as is done here, but doing that helps you locate the source of a problem if an exception occurs while the code is writing to the database.</span></span>

    <span data-ttu-id="499a4-153">一部のデータを挿入するステートメントを使用して、 [AddOrUpdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) "upsert"操作を実行するメソッド。</span><span class="sxs-lookup"><span data-stu-id="499a4-153">Some of the statements that insert data use the [AddOrUpdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) method to perform an "upsert" operation.</span></span> <span data-ttu-id="499a4-154">`Seed`メソッドの実行を実行するたびに、`update-database`追加しようとしている行が既にありますデータベースを作成する最初の移行後にあるため、データを挿入することはできませんだけを各移行後に通常コマンドします。</span><span class="sxs-lookup"><span data-stu-id="499a4-154">Because the `Seed` method runs every time you execute the `update-database` command, typically after each migration, you can't just insert data, because the rows you are trying to add will already be there after the first migration that creates the database.</span></span> <span data-ttu-id="499a4-155">"Upsert"操作が既に存在する行を挿入しようとする場合に発生するとエラーを防ぐこと***オーバーライド***アプリケーションのテスト中に対して行ったデータに対する変更。</span><span class="sxs-lookup"><span data-stu-id="499a4-155">The "upsert" operation prevents errors that would happen if you try to insert a row that already exists, but it ***overrides*** any changes to data that you may have made while testing the application.</span></span> <span data-ttu-id="499a4-156">いくつかのテーブルでのテスト データを使用しない場合発生すること。 場合によってはテスト中にデータを変更すると、変更するデータベースの更新後に残します。</span><span class="sxs-lookup"><span data-stu-id="499a4-156">With test data in some tables you might not want that to happen: in some cases when you change data while testing you want your changes to remain after database updates.</span></span> <span data-ttu-id="499a4-157">条件付きの挿入操作を実行する場合: 存在しない場合にのみ行を挿入します。</span><span class="sxs-lookup"><span data-stu-id="499a4-157">In that case you want to do a conditional insert operation: insert a row only if it doesn't already exist.</span></span> <span data-ttu-id="499a4-158">Seed メソッドは、両方のアプローチを使用します。</span><span class="sxs-lookup"><span data-stu-id="499a4-158">The Seed method uses both approaches.</span></span>

    <span data-ttu-id="499a4-159">渡される最初のパラメーター、 [AddOrUpdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx)メソッドが使用して、行が既に存在するかどうかを確認するプロパティを指定します。</span><span class="sxs-lookup"><span data-stu-id="499a4-159">The first parameter passed to the [AddOrUpdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) method specifies the property to use to check if a row already exists.</span></span> <span data-ttu-id="499a4-160">次の情報を提供して、テスト学生データの`LastName`最後の各リストの名前は一意なので、この目的のプロパティを使用できます。</span><span class="sxs-lookup"><span data-stu-id="499a4-160">For the test student data that you are providing, the `LastName` property can be used for this purpose since each last name in the list is unique:</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample5.cs)]

    <span data-ttu-id="499a4-161">このコードでは、最後に名前が一意であることを前提としています。</span><span class="sxs-lookup"><span data-stu-id="499a4-161">This code assumes that last names are unique.</span></span> <span data-ttu-id="499a4-162">重複する姓を持つ、受講者を手動で追加する場合は、次回の移行を実行する次の例外が表示されます。</span><span class="sxs-lookup"><span data-stu-id="499a4-162">If you manually add a student with a duplicate last name, you'll get the following exception the next time you perform a migration.</span></span>

    <span data-ttu-id="499a4-163">シーケンスには、複数の要素が含まれています。</span><span class="sxs-lookup"><span data-stu-id="499a4-163">Sequence contains more than one element</span></span>

    <span data-ttu-id="499a4-164">"Alexander Carson"という 2 つの受講者などの冗長なデータを処理する方法については、次を参照してください。[シード処理、およびデバッグ Entity Framework (EF) Db](https://blogs.msdn.com/b/rickandy/archive/2013/02/12/seeding-and-debugging-entity-framework-ef-dbs.aspx) Rick Anderson のブログです。</span><span class="sxs-lookup"><span data-stu-id="499a4-164">For information about how to handle redundant data such as two students named "Alexander Carson", see [Seeding and Debugging Entity Framework (EF) DBs](https://blogs.msdn.com/b/rickandy/archive/2013/02/12/seeding-and-debugging-entity-framework-ef-dbs.aspx) on Rick Anderson's blog.</span></span> <span data-ttu-id="499a4-165">詳細については、`AddOrUpdate`メソッドを参照してください[EF 4.3 AddOrUpdate メソッドを使用して注意](http://thedatafarm.com/blog/data-access/take-care-with-ef-4-3-addorupdate-method/)Julie Lerman ブログ。</span><span class="sxs-lookup"><span data-stu-id="499a4-165">For more information about the `AddOrUpdate` method, see [Take care with EF 4.3 AddOrUpdate Method](http://thedatafarm.com/blog/data-access/take-care-with-ef-4-3-addorupdate-method/) on Julie Lerman's blog.</span></span>

    <span data-ttu-id="499a4-166">作成するコード`Enrollment`エンティティには、必要、`ID`内のエンティティの値、`students`コレクション、コレクションを作成するコードでそのプロパティを設定しませんでした。</span><span class="sxs-lookup"><span data-stu-id="499a4-166">The code that creates `Enrollment` entities assumes you have the `ID` value in the entities in the `students` collection, although you didn't set that property in the code that creates the collection.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample6.cs?highlight=2)]

    <span data-ttu-id="499a4-167">使用することができます、`ID`プロパティは、ここため、`ID`を呼び出すときに値が設定`SaveChanges`の`students`コレクション。</span><span class="sxs-lookup"><span data-stu-id="499a4-167">You can use the `ID` property here because the `ID` value is set when you call `SaveChanges` for the `students` collection.</span></span> <span data-ttu-id="499a4-168">EF は、エンティティをデータベースに挿入し、更新時に自動的に主キーの値を取得、`ID`メモリ内のエンティティのプロパティです。</span><span class="sxs-lookup"><span data-stu-id="499a4-168">EF automatically gets the primary key value when it inserts an entity into the database, and it updates the `ID` property of the entity in memory.</span></span>

    <span data-ttu-id="499a4-169">各追加コード`Enrollment`エンティティを`Enrollments`エンティティ セットを使用していない、`AddOrUpdate`メソッドです。</span><span class="sxs-lookup"><span data-stu-id="499a4-169">The code that adds each `Enrollment` entity to the `Enrollments` entity set doesn't use the `AddOrUpdate` method.</span></span> <span data-ttu-id="499a4-170">これは、エンティティが既に存在しが存在しない場合は、エンティティを挿入します。 かどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="499a4-170">It checks if an entity already exists and inserts the entity if it doesn't exist.</span></span> <span data-ttu-id="499a4-171">このアプローチには、アプリケーションの UI を使用して登録グレードに加えた変更が保存されます。</span><span class="sxs-lookup"><span data-stu-id="499a4-171">This approach will preserve changes you make to an enrollment grade by using the application UI.</span></span> <span data-ttu-id="499a4-172">各メンバーをループ処理、コード、 `Enrollment`[リスト](https://msdn.microsoft.com/library/6sh2ey19.aspx)し、データベースの登録が見つからない場合、データベースに登録を追加します。</span><span class="sxs-lookup"><span data-stu-id="499a4-172">The code loops through each member of the `Enrollment`[List](https://msdn.microsoft.com/library/6sh2ey19.aspx) and if the enrollment is not found in the database, it adds the enrollment to the database.</span></span> <span data-ttu-id="499a4-173">初めて、データベースを更新するデータベースは空になりますので、各登録を追加します。</span><span class="sxs-lookup"><span data-stu-id="499a4-173">The first time you update the database, the database will be empty, so it will add each enrollment.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample7.cs)]
2. <span data-ttu-id="499a4-174">プロジェクトをビルドします。</span><span class="sxs-lookup"><span data-stu-id="499a4-174">Build the project.</span></span>

### <a name="execute-the-first-migration"></a><span data-ttu-id="499a4-175">最初の移行を実行します。</span><span class="sxs-lookup"><span data-stu-id="499a4-175">Execute the First Migration</span></span>

<span data-ttu-id="499a4-176">実行すると、`add-migration`コマンド、移行が最初からデータベースを作成するコードを生成します。</span><span class="sxs-lookup"><span data-stu-id="499a4-176">When you executed the `add-migration` command, Migrations generated the code that would create the database from scratch.</span></span> <span data-ttu-id="499a4-177">このコードもに、*移行*という名前のファイル内のフォルダー *&lt;タイムスタンプ&gt;\_InitialCreate.cs*です。</span><span class="sxs-lookup"><span data-stu-id="499a4-177">This code is also in the *Migrations* folder, in the file named *&lt;timestamp&gt;\_InitialCreate.cs*.</span></span> <span data-ttu-id="499a4-178">`Up`のメソッド、`InitialCreate`クラスは、データ モデルのエンティティ セットに対応するデータベース テーブルを作成し、`Down`メソッドでは、それらを削除します。</span><span class="sxs-lookup"><span data-stu-id="499a4-178">The `Up` method of the `InitialCreate` class creates the database tables that correspond to the data model entity sets, and the `Down` method deletes them.</span></span>

[!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample8.cs)]

<span data-ttu-id="499a4-179">移行は、`Up` メソッドを呼び出して、移行のためのデータ モデルの変更を実装します。</span><span class="sxs-lookup"><span data-stu-id="499a4-179">Migrations calls the `Up` method to implement the data model changes for a migration.</span></span> <span data-ttu-id="499a4-180">更新をロールバックするためのコマンドを入力すると、移行が `Down` メソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="499a4-180">When you enter a command to roll back the update, Migrations calls the `Down` method.</span></span>

<span data-ttu-id="499a4-181">これは、入力したときに作成された最初の移行、`add-migration InitialCreate`コマンド。</span><span class="sxs-lookup"><span data-stu-id="499a4-181">This is the initial migration that was created when you entered the `add-migration InitialCreate` command.</span></span> <span data-ttu-id="499a4-182">パラメーター (`InitialCreate`例では)、ファイルで使用される単語または語句、移行で行われている新機能をまとめたものを選択する通常以外の名前を指定し、希望することができます。</span><span class="sxs-lookup"><span data-stu-id="499a4-182">The parameter (`InitialCreate` in the example) is used for the file name and can be whatever you want; you typically choose a word or phrase that summarizes what is being done in the migration.</span></span> <span data-ttu-id="499a4-183">たとえば、後で移行を名前可能性があります&quot;AddDepartmentTable&quot;です。</span><span class="sxs-lookup"><span data-stu-id="499a4-183">For example, you might name a later migration &quot;AddDepartmentTable&quot;.</span></span>

<span data-ttu-id="499a4-184">データベースが既に存在するときに、初期移行を作成した場合、データベースの作成コードが生成されますが、データベースは既にデータと一致しているため、作成コードを実行する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="499a4-184">If you created the initial migration when the database already exists, the database creation code is generated but it doesn't have to run because the database already matches the data model.</span></span> <span data-ttu-id="499a4-185">データベースがまだ存在しない別の環境にアプリを展開する場合、データベースを作成するために、このコードが実行されるため、最初にテストを行うことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="499a4-185">When you deploy the app to another environment where the database doesn't exist yet, this code will run to create your database, so it's a good idea to test it first.</span></span> <span data-ttu-id="499a4-186">これが、移行で新しいデータベースを最初から作成できるように、前の接続文字列でデータベースの名前を変更した理由です。</span><span class="sxs-lookup"><span data-stu-id="499a4-186">That's why you changed the name of the database in the connection string earlier -- so that migrations can create a new one from scratch.</span></span>

1. <span data-ttu-id="499a4-187">**パッケージ マネージャー コンソール**ウィンドウで、次のコマンドを入力します。</span><span class="sxs-lookup"><span data-stu-id="499a4-187">In the **Package Manager Console** window, enter the following command:</span></span>

    `update-database`

    ![](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/image3.png)

    <span data-ttu-id="499a4-188">`update-database`コマンドを実行する、`Up`データベースし、それを作成するメソッドの実行、`Seed`メソッドは、データベースを設定します。</span><span class="sxs-lookup"><span data-stu-id="499a4-188">The `update-database` command runs the `Up` method to create the database and then it runs the `Seed` method to populate the database.</span></span> <span data-ttu-id="499a4-189">同じプロセス自動的に実行されます実稼働環境で、アプリケーションを展開するように、次のセクションが表示されます。</span><span class="sxs-lookup"><span data-stu-id="499a4-189">The same process will run automatically in production after you deploy the application, as you'll see in the following section.</span></span>
2. <span data-ttu-id="499a4-190">使用して**サーバー エクスプ ローラー**を最初のチュートリアルで行ったように、データベースを調査し、動作を確認することのすべてが同じまでと同様、アプリケーションを実行します。</span><span class="sxs-lookup"><span data-stu-id="499a4-190">Use **Server Explorer** to inspect the database as you did in the first tutorial, and run the application to verify that everything still works the same as before.</span></span>

## <a name="deploy-to-azure"></a><span data-ttu-id="499a4-191">Azure への配置します。</span><span class="sxs-lookup"><span data-stu-id="499a4-191">Deploy to Azure</span></span>

<span data-ttu-id="499a4-192">これまで、アプリケーションが実行されているローカル IIS Express で開発用コンピューター上。</span><span class="sxs-lookup"><span data-stu-id="499a4-192">So far the application has been running locally in IIS Express on your development computer.</span></span> <span data-ttu-id="499a4-193">使用可能にする他の人に、インターネット経由で使用して、web ホスティング プロバイダーに配置する必要です。</span><span class="sxs-lookup"><span data-stu-id="499a4-193">To make it available for other people to use over the Internet, you have to deploy it to a web hosting provider.</span></span> <span data-ttu-id="499a4-194">チュートリアルのこのセクションでは、Azure にデプロイします。</span><span class="sxs-lookup"><span data-stu-id="499a4-194">In this section of the tutorial you'll deploy it to Azure.</span></span> <span data-ttu-id="499a4-195">このセクションは省略可能です。この手順をスキップして次のチュートリアルを続行または任意の別のホスティング プロバイダーのこのセクションの手順を適合させることができます。</span><span class="sxs-lookup"><span data-stu-id="499a4-195">This section is optional; you can skip this and continue with the following tutorial, or you can adapt the instructions in this section for a different hosting provider of your choice.</span></span>

### <a name="using-code-first-migrations-to-deploy-the-database"></a><span data-ttu-id="499a4-196">Code First Migrations を使用して、データベースを展開するには</span><span class="sxs-lookup"><span data-stu-id="499a4-196">Using Code First Migrations to Deploy the Database</span></span>

<span data-ttu-id="499a4-197">データベースを展開するには、Code First Migrations を使用します。</span><span class="sxs-lookup"><span data-stu-id="499a4-197">To deploy the database you'll use Code First Migrations.</span></span> <span data-ttu-id="499a4-198">というチェック ボックスを選択する設定を構成する Visual Studio から展開するために使用する発行プロファイルを作成するときに**更新データベース**です。</span><span class="sxs-lookup"><span data-stu-id="499a4-198">When you create the publish profile that you use to configure settings for deploying from Visual Studio, you'll select a check box labeled **Update Database**.</span></span> <span data-ttu-id="499a4-199">この設定により、展開プロセスを自動的にアプリケーションを構成する*Web.config* Code First を使用するように、移行先サーバー上のファイル、`MigrateDatabaseToLatestVersion`初期化子のクラスです。</span><span class="sxs-lookup"><span data-stu-id="499a4-199">This setting causes the deployment process to automatically configure the application *Web.config* file on the destination server so that Code First uses the `MigrateDatabaseToLatestVersion` initializer class.</span></span>

<span data-ttu-id="499a4-200">Visual Studio を処理しません、データベースと、展開プロセス中に、プロジェクトが移行先サーバーにコピー中にします。</span><span class="sxs-lookup"><span data-stu-id="499a4-200">Visual Studio doesn't do anything with the database during the deployment process while it is copying your project to the destination server.</span></span> <span data-ttu-id="499a4-201">展開済みアプリケーションを実行すると、展開後に最初に、データベースにアクセスする、Code First チェックがデータベースには、データ モデルが一致すます。</span><span class="sxs-lookup"><span data-stu-id="499a4-201">When you run the deployed application and it accesses the database for the first time after deployment, Code First checks if the database matches the data model.</span></span> <span data-ttu-id="499a4-202">不一致がある場合 Code First 自動的にデータベースを作成します (まだ存在しない) 場合または (データベースが存在しますが、モデルと一致しない) 場合は、最新バージョンにデータベース スキーマを更新します。</span><span class="sxs-lookup"><span data-stu-id="499a4-202">If there's a mismatch, Code First automatically creates the database (if it doesn't exist yet) or updates the database schema to the latest version (if a database exists but doesn't match the model).</span></span> <span data-ttu-id="499a4-203">アプリケーションには、移行が実装されている場合`Seed`メソッド、メソッドの実行後、データベースが作成されるか、スキーマを更新します。</span><span class="sxs-lookup"><span data-stu-id="499a4-203">If the application implements a Migrations `Seed` method, the method runs after the database is created or the schema is updated.</span></span>

<span data-ttu-id="499a4-204">使用して移行`Seed`メソッドは、テスト データを挿入します。</span><span class="sxs-lookup"><span data-stu-id="499a4-204">Your Migrations `Seed` method inserts test data.</span></span> <span data-ttu-id="499a4-205">変更する必要がありますを実稼働環境に配置された場合、`Seed`メソッドが、実稼働データベースに挿入するデータの挿入のみようにします。</span><span class="sxs-lookup"><span data-stu-id="499a4-205">If you were deploying to a production environment, you would have to change the `Seed` method so that it only inserts data that you want to be inserted into your production database.</span></span> <span data-ttu-id="499a4-206">たとえば、現在のデータ モデルのことができますが、実際のコース、架空の受講者に、開発用データベースで。</span><span class="sxs-lookup"><span data-stu-id="499a4-206">For example, in your current data model you might want to have real courses but fictional students in the development database.</span></span> <span data-ttu-id="499a4-207">記述することができます、`Seed`を読み込みの両方で、開発し、実稼働環境に展開する前に、架空の受講者をコメントします。</span><span class="sxs-lookup"><span data-stu-id="499a4-207">You can write a `Seed` method to load both in development, and then comment out the fictional students before you deploy to production.</span></span> <span data-ttu-id="499a4-208">作成して、`Seed`コースのみを読み込むし、アプリケーションの UI を使用して手動でテスト データベースに架空の受講者を入力します。</span><span class="sxs-lookup"><span data-stu-id="499a4-208">Or you can write a `Seed` method to load only courses, and enter the fictional students in the test database manually by using the application's UI.</span></span>

### <a name="get-an-azure-account"></a><span data-ttu-id="499a4-209">Azure アカウントを取得します。</span><span class="sxs-lookup"><span data-stu-id="499a4-209">Get an Azure account</span></span>

<span data-ttu-id="499a4-210">Azure アカウントが必要です。</span><span class="sxs-lookup"><span data-stu-id="499a4-210">You'll need an Azure account.</span></span> <span data-ttu-id="499a4-211">場合は、既に必要はありませんが、Visual Studio サブスクリプションが、 [、サブスクリプションの特典をアクティブ化](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/)です。</span><span class="sxs-lookup"><span data-stu-id="499a4-211">If you don't already have one, but you do have a Visual Studio subscription, you can [activate your subscription benefits](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/).</span></span> <span data-ttu-id="499a4-212">それ以外の場合、ほんの数分で無料の試用アカウントを作成できます。</span><span class="sxs-lookup"><span data-stu-id="499a4-212">Otherwise, you can create a free trial account in just a couple of minutes.</span></span> <span data-ttu-id="499a4-213">詳細については、「 [Azure 無料評価版](https://azure.microsoft.com/free/)です。</span><span class="sxs-lookup"><span data-stu-id="499a4-213">For details, see [Azure Free Trial](https://azure.microsoft.com/free/).</span></span>

### <a name="create-a-web-site-and-a-sql-database-in-azure"></a><span data-ttu-id="499a4-214">Azure で web サイトおよび SQL データベースを作成します。</span><span class="sxs-lookup"><span data-stu-id="499a4-214">Create a web site and a SQL database in Azure</span></span>

<span data-ttu-id="499a4-215">Azure で web アプリは、Azure の他のクライアントと共有されている仮想マシン (Vm) で実行されることを意味する共有ホスティング環境で実行されます。</span><span class="sxs-lookup"><span data-stu-id="499a4-215">Your web app in Azure will run in a shared hosting environment, which means it runs on virtual machines (VMs) that are shared with other Azure clients.</span></span> <span data-ttu-id="499a4-216">共有ホスティング環境は、クラウドで作業を開始する低コスト方法です。</span><span class="sxs-lookup"><span data-stu-id="499a4-216">A shared hosting environment is a low-cost way to get started in the cloud.</span></span> <span data-ttu-id="499a4-217">その後、web トラフィックが増加すると、アプリケーションを専用の仮想マシンで実行して、ニーズに対応するスケールできます。</span><span class="sxs-lookup"><span data-stu-id="499a4-217">Later, if your web traffic increases, the application can scale to meet the need by running on dedicated VMs.</span></span> <span data-ttu-id="499a4-218">Azure App Service の料金オプションの詳細については、上のドキュメントを読み取る[Azure ドキュメント](https://azure.microsoft.com/pricing/details/app-service/)</span><span class="sxs-lookup"><span data-stu-id="499a4-218">To learn more about Pricing Options for Azure App Service, read the documentation on [Azure Docs](https://azure.microsoft.com/pricing/details/app-service/)</span></span>

<span data-ttu-id="499a4-219">Azure SQL Database にデータベースを配置します。</span><span class="sxs-lookup"><span data-stu-id="499a4-219">You'll deploy the database to Azure SQL Database.</span></span> <span data-ttu-id="499a4-220">SQL データベースとは、SQL Server テクノロジに基づいて構築されたクラウド ベースのリレーショナル データベース サービスです。</span><span class="sxs-lookup"><span data-stu-id="499a4-220">SQL Database is a cloud-based relational database service that is built on SQL Server technologies.</span></span> <span data-ttu-id="499a4-221">ツールと SQL Server で動作するアプリケーションも、SQL Database で動作します。</span><span class="sxs-lookup"><span data-stu-id="499a4-221">Tools and applications that work with SQL Server also work with SQL Database.</span></span>

1. <span data-ttu-id="499a4-222">[Azure Management Portal](https://portal.azure.com)、 をクリックして**新規**左側のタブをクリックして**すべてを参照してください**をクリックして新しいブレードで、 **Web アプリと SQL**で、**Web**セクションと最後に**作成**です。</span><span class="sxs-lookup"><span data-stu-id="499a4-222">In the [Azure Management Portal](https://portal.azure.com), click **New** in the left tab, click **See all** in new blade, and then click **Web App & SQL** in the **Web** Section and finally **Create**.</span></span>

    ![管理ポータルで新しいボタン](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/CreateWeb-Sql.png)

   <span data-ttu-id="499a4-224">**SQL の作成 (&)、新しい Web アプリ**ウィザードが開きます。</span><span class="sxs-lookup"><span data-stu-id="499a4-224">The **New Web App & SQL - Create** wizard opens.</span></span>

2. <span data-ttu-id="499a4-225">ブレードで、入力文字列に、**アプリ名**アプリケーションの一意の URL として使用するボックスです。</span><span class="sxs-lookup"><span data-stu-id="499a4-225">In the blade, enter a string in the **App name** box to use as the unique URL for your application.</span></span> <span data-ttu-id="499a4-226">入力した内容は、ここと Azure アプリのサービスの既定のドメインの完全な URL では (. azurewebsites.net)。</span><span class="sxs-lookup"><span data-stu-id="499a4-226">The complete URL will consist of what you enter here plus the default domain of Azure App Services (.azurewebsites.net).</span></span> <span data-ttu-id="499a4-227">場合、**アプリ名**は既に使用されて、ウィザードは赤いでこれを通知*アプリ名は使用できません*メッセージ。</span><span class="sxs-lookup"><span data-stu-id="499a4-227">If the **App name** is already taken, the Wizard will notify you of this with a red *The app name is not available* message.</span></span> <span data-ttu-id="499a4-228">場合、**アプリ名**が利用可能な表示される緑色のチェック マークします。</span><span class="sxs-lookup"><span data-stu-id="499a4-228">If the **App name** is available, you will get a green checkmark.</span></span>

    ![管理ポータルでデータベースのリンクを作成します。](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/Create-WebApp.png)

3. <span data-ttu-id="499a4-230">**サブスクリプション**ドロップダウン リストで、する Azure サブスクリプションを選択してください、 **App Service**を配置します。</span><span class="sxs-lookup"><span data-stu-id="499a4-230">In the **Subscription** Dropdown, please choose the Azure Subscription in which you want the **App Service** to reside.</span></span>

4. <span data-ttu-id="499a4-231">**リソース グループ**テキスト ボックスで、リソース グループを選択するか、新しいものを作成します。</span><span class="sxs-lookup"><span data-stu-id="499a4-231">In the **Resource Group** text box, choose a Resource Group or create a new one.</span></span> <span data-ttu-id="499a4-232">この設定は、データ センターで、web サイトは実行を指定します。</span><span class="sxs-lookup"><span data-stu-id="499a4-232">This setting specifies which data center your web site will run in.</span></span> <span data-ttu-id="499a4-233">リソース グループの詳細については、ドキュメントをお読みに[Azure Docs](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-overview#resource-groups)です。</span><span class="sxs-lookup"><span data-stu-id="499a4-233">For more information about Resource Groups, read the documentation on [Azure Docs](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-overview#resource-groups).</span></span>
5. <span data-ttu-id="499a4-234">新規作成**App Service プラン** をクリックして、*アプリ サービス セクションで*、**新規作成**、入力と**App Service プラン**(と同じ名前を指定できますアプリ サービス)、**場所**、および**価格レベル**(は、無料のオプション)。</span><span class="sxs-lookup"><span data-stu-id="499a4-234">Create a new **App Service Plan** by clicking the *App Service section*, **Create New**, and fill in **App Service plan** (can be same name as App Service), **Location**, and **Pricing tier** (there is a free option).</span></span>

    ![](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/Create-AppService.png)
6. <span data-ttu-id="499a4-235">クリックして、 **SQL データベース**を選択して*新規作成*または既存のデータベースを選択</span><span class="sxs-lookup"><span data-stu-id="499a4-235">Click the **SQL Database**, and choose *Create New* or select an existing database</span></span>

    ![](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/Create-Database.png)

7. <span data-ttu-id="499a4-236">**名前**ボックスで、データベースの名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="499a4-236">In the **Name** box, enter a name for your database.</span></span>
8. <span data-ttu-id="499a4-237">クリックして、**ターゲット サーバー**ボックスで、**サーバーの新規作成**です。</span><span class="sxs-lookup"><span data-stu-id="499a4-237">Click the **Target Server** box, select **Create a new server**.</span></span> <span data-ttu-id="499a4-238">また、サーバーを以前に作成した場合は、使用可能なサーバーの一覧からそのサーバーを選択できます。</span><span class="sxs-lookup"><span data-stu-id="499a4-238">Alternatively, if you previously created a server, you can select that server from list of available servers.</span></span>
9. <span data-ttu-id="499a4-239">選択**価格レベル**セクションで、選択*空き*です。</span><span class="sxs-lookup"><span data-stu-id="499a4-239">Choose **Pricing tier** section, choose *Free*.</span></span> <span data-ttu-id="499a4-240">その他のリソースが必要な場合は、データベースをいつでもにスケール アップが可能です。</span><span class="sxs-lookup"><span data-stu-id="499a4-240">If additional resources are needed, the database can be scaled up at any time.</span></span> <span data-ttu-id="499a4-241">Azure SQL の料金の詳細については、ドキュメントを読んで[Azure Docs](https://azure.microsoft.com/pricing/details/sql-database/)です。</span><span class="sxs-lookup"><span data-stu-id="499a4-241">To learn more on Azure SQL Pricing, read the documentation on [Azure Docs](https://azure.microsoft.com/pricing/details/sql-database/).</span></span>
10. <span data-ttu-id="499a4-242">変更[照合](https://docs.microsoft.com/sql/relational-databases/collations/collation-and-unicode-support)に応じて。</span><span class="sxs-lookup"><span data-stu-id="499a4-242">Modify [collation](https://docs.microsoft.com/sql/relational-databases/collations/collation-and-unicode-support) as needed.</span></span>
11. <span data-ttu-id="499a4-243">管理者の入力**SQL 管理者のユーザー名**と**SQL 管理者のパスワード**です。</span><span class="sxs-lookup"><span data-stu-id="499a4-243">Enter an administrator **SQL Admin Username** and **SQL Admin Password**.</span></span> <span data-ttu-id="499a4-244">選択した場合は**新しい SQL データベース サーバー**、既存の名前とパスワードをここに入力していない、新しい名前とデータベースにアクセスするときに後で使用するようになりました定義しているパスワードを入力しているか。</span><span class="sxs-lookup"><span data-stu-id="499a4-244">If you selected **New SQL Database server**, you aren't entering an existing name and password here, you're entering a new name and password that you're defining now to use later when you access the database.</span></span> <span data-ttu-id="499a4-245">以前作成したサーバーを選択した場合は、そのサーバーの資格情報を入力します。</span><span class="sxs-lookup"><span data-stu-id="499a4-245">If you selected a server that you created previously, you'll enter credentials for that server.</span></span>
12. <span data-ttu-id="499a4-246">Application Insights を使用してサービスをアプリに製品利用統計情報のコレクションを有効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="499a4-246">Telemetry collection can be enabled for App Service using Application Insights.</span></span> <span data-ttu-id="499a4-247">ほとんどの構成に application Insights は、重要なイベント、例外、依存関係、要求、およびトレース情報を収集します。</span><span class="sxs-lookup"><span data-stu-id="499a4-247">Application Insights with little configuration collects valuable event, exception, dependency, request, and trace information.</span></span> <span data-ttu-id="499a4-248">Application Insights の詳細についてを使い始める[Azure Docs](https://azure.microsoft.com/services/application-insights/)です。</span><span class="sxs-lookup"><span data-stu-id="499a4-248">To learn more about Application Insights, get started in [Azure Docs](https://azure.microsoft.com/services/application-insights/).</span></span>
13. <span data-ttu-id="499a4-249">をクリックして**作成**が完了したらを示すために、ブレードの下部にあります。</span><span class="sxs-lookup"><span data-stu-id="499a4-249">Click **Create** at the bottom of the blade to indicate that you're finished.</span></span>
  
    <span data-ttu-id="499a4-250">管理ポータル ページに戻る、ダッシュ ボード、および**通知**ブレードで、ページの上部にあるが、サイトが作成されていることを示しています。</span><span class="sxs-lookup"><span data-stu-id="499a4-250">The Management Portal returns to the Dashboards page, and the **Notifications** blade at the top of the page shows that the site is being created.</span></span> <span data-ttu-id="499a4-251">(通常よりも小さい 1 分間)、しばらくしてから、展開が成功したことを示す通知があります。</span><span class="sxs-lookup"><span data-stu-id="499a4-251">After a while (typically less than a minute), there will be a notification that the Deployment succeeded.</span></span> <span data-ttu-id="499a4-252">左側のナビゲーション バーで、新しい**App Service**に表示されます、 *App Services*セクションと、新しい**SQL データベース**に表示されます、 *SQL データベース*セクションです。</span><span class="sxs-lookup"><span data-stu-id="499a4-252">In the navigation bar at the left, the new **App Service** appears in the *App Services* section and the new **SQL Database** appears in the *SQL Databases* section.</span></span>

### <a name="deploy-the-application-to-azure"></a><span data-ttu-id="499a4-253">Azure にアプリケーションを展開します。</span><span class="sxs-lookup"><span data-stu-id="499a4-253">Deploy the application to Azure</span></span>

1. <span data-ttu-id="499a4-254">Visual Studio でプロジェクトを右クリックして**ソリューション エクスプ ローラー**選択**発行**コンテキスト メニューからです。</span><span class="sxs-lookup"><span data-stu-id="499a4-254">In Visual Studio, right-click the project in **Solution Explorer** and select **Publish** from the context menu.</span></span>
  
    ![プロジェクトのコンテキスト メニューを発行します。](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/image10.png)
2. <span data-ttu-id="499a4-256">**プロファイル**のタブ、 **Web の発行**ウィザード、をクリックして**Microsoft Azure App Service**です。</span><span class="sxs-lookup"><span data-stu-id="499a4-256">In the **Profile** tab of the **Publish Web** wizard, click **Microsoft Azure App Service**.</span></span>
  
    ![発行設定のインポート](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/Publish-ChooseTarget.png)
3. <span data-ttu-id="499a4-258">以前 Visual Studio で Azure サブスクリプションを追加していない場合は、画面の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="499a4-258">If you have not previously added your Azure subscription in Visual Studio, perform the steps on the screen.</span></span> <span data-ttu-id="499a4-259">次の手順が、Azure サブスクリプションに接続する Visual Studio のリストを有効にする**App Services** web サイトが含まれます。</span><span class="sxs-lookup"><span data-stu-id="499a4-259">These steps enable Visual Studio to connect to your Azure subscription so that the list of **App Services** will include your web site.</span></span>
 
4. <span data-ttu-id="499a4-260">選択、**サブスクリプション**に、アプリ サービスを追加した、 **App Service プラン**アプリ サービスの一部であるフォルダーと最後に、 **App Service**続く自体**Ok**です。</span><span class="sxs-lookup"><span data-stu-id="499a4-260">Select the **Subscription** you added the App Service to, then the **App Service Plan** folder your App Service is a part of, and finally the **App Service** itself followed by **Ok**.</span></span>

    ![App Service を選択します。](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/Publish-AppService.png)
5. <span data-ttu-id="499a4-262">プロファイルを構成した後、**接続** タブが表示されます。</span><span class="sxs-lookup"><span data-stu-id="499a4-262">After the Profile has been configured, the **Connection** tab will be shown.</span></span> <span data-ttu-id="499a4-263">をクリックして**接続の検証**設定が正しいことを確認するには</span><span class="sxs-lookup"><span data-stu-id="499a4-263">Click **Validate Connection** to make sure that the settings are correct</span></span>

    ![接続を検証します。](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/Publish-Connection.png)
6. <span data-ttu-id="499a4-265">緑のチェック マークが横に示すように、接続が検証されると、**接続の検証**ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="499a4-265">When the connection has been validated, a green check mark is shown next to the **Validate Connection** button.</span></span> <span data-ttu-id="499a4-266">**[次へ]**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="499a4-266">Click **Next**.</span></span>
  
    ![正常に検証された接続](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/Publish-SettingsValidated.png)
7. <span data-ttu-id="499a4-268">開く、**リモート接続文字列**下にあるドロップダウン リスト**SchoolContext**を作成したデータベースの接続文字列を選択します。</span><span class="sxs-lookup"><span data-stu-id="499a4-268">Open the **Remote connection string** drop-down list under **SchoolContext** and select the connection string for the database you created.</span></span>
8. <span data-ttu-id="499a4-269">選択**更新データベース**です。</span><span class="sxs-lookup"><span data-stu-id="499a4-269">Select **Update database**.</span></span>

    ![[設定] タブ](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/Publish-Settings.png)

    <span data-ttu-id="499a4-271">この設定により、展開プロセスを自動的にアプリケーションを構成する*Web.config* Code First を使用するように、移行先サーバー上のファイル、`MigrateDatabaseToLatestVersion`初期化子のクラスです。</span><span class="sxs-lookup"><span data-stu-id="499a4-271">This setting causes the deployment process to automatically configure the application *Web.config* file on the destination server so that Code First uses the `MigrateDatabaseToLatestVersion` initializer class.</span></span>
9. <span data-ttu-id="499a4-272">**[次へ]**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="499a4-272">Click **Next**.</span></span>
10. <span data-ttu-id="499a4-273">**プレビュー**  タブで、をクリックして**開始プレビュー**です。</span><span class="sxs-lookup"><span data-stu-id="499a4-273">In the **Preview** tab, click **Start Preview**.</span></span>
  
    ![[プレビュー] タブで StartPreview ボタン](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/Publish-Preview.png)
  
    <span data-ttu-id="499a4-275">タブには、サーバーにコピーされるファイルの一覧が表示されます。</span><span class="sxs-lookup"><span data-stu-id="499a4-275">The tab displays a list of the files that will be copied to the server.</span></span> <span data-ttu-id="499a4-276">プレビューを表示する、アプリケーションを発行するため必要はありませんですが便利関数を認識します。</span><span class="sxs-lookup"><span data-stu-id="499a4-276">Displaying the preview isn't required to publish the application but is a useful function to be aware of.</span></span> <span data-ttu-id="499a4-277">この場合、表示されているファイルの一覧は何もする必要はありません。</span><span class="sxs-lookup"><span data-stu-id="499a4-277">In this case, you don't need to do anything with the list of files that is displayed.</span></span> <span data-ttu-id="499a4-278">このアプリケーションを配置するときに、[次へ] に変更されたファイルだけは、この一覧になります。</span><span class="sxs-lookup"><span data-stu-id="499a4-278">The next time you deploy this application, only the files that have changed will be in this list.</span></span>
    <span data-ttu-id="499a4-279">![StartPreview ファイル出力](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/Publish-PreviewLoaded.png)</span><span class="sxs-lookup"><span data-stu-id="499a4-279">![StartPreview file output](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/Publish-PreviewLoaded.png)</span></span>

11. <span data-ttu-id="499a4-280">**[発行]**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="499a4-280">Click **Publish**.</span></span>
    <span data-ttu-id="499a4-281">Visual Studio では、Azure サーバーへのファイルのコピーのプロセスを開始します。</span><span class="sxs-lookup"><span data-stu-id="499a4-281">Visual Studio begins the process of copying the files to the Azure server.</span></span>
12. <span data-ttu-id="499a4-282">**出力**ウィンドウどのような展開アクションを実行した示し、展開の成功した完了を報告します。</span><span class="sxs-lookup"><span data-stu-id="499a4-282">The **Output** window shows what deployment actions were taken and reports successful completion of the deployment.</span></span>
  
    ![展開の成功を報告 [出力] ウィンドウ](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/Publish-BuildOutput.png)
13. <span data-ttu-id="499a4-284">配置に成功したら、既定のブラウザーは、配置の web サイトの URL を自動的に開きます。</span><span class="sxs-lookup"><span data-stu-id="499a4-284">Upon successful deployment, the default browser automatically opens to the URL of the deployed web site.</span></span>
    <span data-ttu-id="499a4-285">作成したアプリケーションは、クラウドで実行されています。</span><span class="sxs-lookup"><span data-stu-id="499a4-285">The application you created is now running in the cloud.</span></span> 
  
    ![Students_index_page_with_paging](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/Publish-Site.png)

<span data-ttu-id="499a4-287">この時点で、 *SchoolContext*データベースが作成された Azure SQL データベースで選択したので、**実行 Code First Migrations (アプリの起動時に実行)**です。</span><span class="sxs-lookup"><span data-stu-id="499a4-287">At this point your *SchoolContext* database has been created in the Azure SQL Database because you selected **Execute Code First Migrations (runs on app start)**.</span></span> <span data-ttu-id="499a4-288">*Web.config*配置済みの web サイト内のファイルが変更されたできるように、 [MigrateDatabaseToLatestVersion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx)初期化子は初めてコード データ読み取りまたは書き込み (これが発生したデータベースでの実行選択した場合、**受講者** タブ)。</span><span class="sxs-lookup"><span data-stu-id="499a4-288">The *Web.config* file in the deployed web site has been changed so that the [MigrateDatabaseToLatestVersion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx) initializer runs the first time your code reads or writes data in the database (which happened when you selected the **Students** tab):</span></span>

![](https://asp.net/media/4367421/mig.png)

<span data-ttu-id="499a4-289">展開プロセスは、新しい接続文字列も作成*(SchoolContext\_DatabasePublish*) の Code First Migrations データベース スキーマの更新と、データベースのシード処理に使用します。</span><span class="sxs-lookup"><span data-stu-id="499a4-289">The deployment process also created a new connection string *(SchoolContext\_DatabasePublish*) for Code First Migrations to use for updating the database schema and seeding the database.</span></span>

![Database_Publish 接続文字列](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/image26.png)

<span data-ttu-id="499a4-291">自分のコンピューター上の Web.config ファイルの配置済みのバージョンを見つけることができます*ContosoUniversity\obj\Release\Package\PackageTmp\Web.config*です。展開されたアクセスできる*Web.config* FTP を使用してファイル自体です。</span><span class="sxs-lookup"><span data-stu-id="499a4-291">You can find the deployed version of the Web.config file on your own computer in *ContosoUniversity\obj\Release\Package\PackageTmp\Web.config*. You can access the deployed *Web.config* file itself by using FTP.</span></span> <span data-ttu-id="499a4-292">手順については、次を参照してください。 [Visual Studio を使用した ASP.NET Web 展開: コードの更新を展開する](xref:web-forms/overview/deployment/visual-studio-web-deployment/deploying-a-code-update)です。</span><span class="sxs-lookup"><span data-stu-id="499a4-292">For instructions, see [ASP.NET Web Deployment using Visual Studio: Deploying a Code Update](xref:web-forms/overview/deployment/visual-studio-web-deployment/deploying-a-code-update).</span></span> <span data-ttu-id="499a4-293">開始される指示に従って、"FTP ツールを使用する次の 3 つ必要があります: FTP の URL、ユーザー名とパスワードです"。</span><span class="sxs-lookup"><span data-stu-id="499a4-293">Follow the instructions that start with "To use an FTP tool, you need three things: the FTP URL, the user name, and the password."</span></span>

> [!NOTE]
> <span data-ttu-id="499a4-294">Web アプリは、すべての URL を検索するユーザー データを変更できるようにセキュリティを実装しません。</span><span class="sxs-lookup"><span data-stu-id="499a4-294">The web app doesn't implement security, so anyone who finds the URL can change the data.</span></span> <span data-ttu-id="499a4-295">Web サイトをセキュリティで保護する方法については、次を参照してください。[メンバーシップ、OAuth、SQL データベースでのセキュリティで保護された ASP.NET MVC アプリケーションを Azure にデプロイ](https://docs.microsoft.com/aspnet/core/security/authorization/secure-data)です。</span><span class="sxs-lookup"><span data-stu-id="499a4-295">For instructions on how to secure the web site, see [Deploy a Secure ASP.NET MVC app with Membership, OAuth, and SQL Database to Azure](https://docs.microsoft.com/aspnet/core/security/authorization/secure-data).</span></span> <span data-ttu-id="499a4-296">他の人が、Azure 管理ポータルを使用して、サイトを使用するようにまたは**サーバー エクスプ ローラー** Visual studio にサイトを停止します。</span><span class="sxs-lookup"><span data-stu-id="499a4-296">You can prevent other people from using the site by using the Azure Management Portal or **Server Explorer** in Visual Studio to stop the site.</span></span>


![](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/Stop-Service.png)

## <a name="advanced-migrations-scenarios"></a><span data-ttu-id="499a4-297">高度な移行シナリオ</span><span class="sxs-lookup"><span data-stu-id="499a4-297">Advanced Migrations Scenarios</span></span>

<span data-ttu-id="499a4-298">このチュートリアルで示すように自動的に移行を実行してデータベースを展開する複数のサーバーで実行される web サイトに配置する場合は、同時に移行を実行しようとしています。 複数のサーバーを取得するでした。</span><span class="sxs-lookup"><span data-stu-id="499a4-298">If you deploy a database by running migrations automatically as shown in this tutorial, and you are deploying to a web site that runs on multiple servers, you could get multiple servers trying to run migrations at the same time.</span></span> <span data-ttu-id="499a4-299">2 つのサーバーが同じへ移行を実行しようとすると、一方が成功して (場合、操作を 2 回実行することはできません) はできません、他の移行は atomic。</span><span class="sxs-lookup"><span data-stu-id="499a4-299">Migrations are atomic, so if two servers try to run the same migration, one will succeed and the other will fail (assuming the operations can't be done twice).</span></span> <span data-ttu-id="499a4-300">このシナリオでは、これらの問題を回避する場合の移行を手動で呼び出すできのみ 1 回行われるように、独自のコードを設定できます。</span><span class="sxs-lookup"><span data-stu-id="499a4-300">In that scenario if you want to avoid those issues, you can call migrations manually and set up your own code so that it only happens once.</span></span> <span data-ttu-id="499a4-301">詳細については、次を参照してください。[実行とコードからのスクリプトの移行](http://romiller.com/2012/02/09/running-scripting-migrations-from-code/)Rowan Miller ブログと[Migrate.exe](https://msdn.microsoft.com/data/jj618307) (コマンドラインからの移行を実行する) の MSDN のです。</span><span class="sxs-lookup"><span data-stu-id="499a4-301">For more information, see [Running and Scripting Migrations from Code](http://romiller.com/2012/02/09/running-scripting-migrations-from-code/) on Rowan Miller's blog and [Migrate.exe](https://msdn.microsoft.com/data/jj618307) (for executing migrations from the command line) on MSDN.</span></span>

<span data-ttu-id="499a4-302">その他の移行シナリオについては、次を参照してください。[移行スクリーン キャスト系列](https://blogs.msdn.com/b/adonet/archive/2014/03/12/migrations-screencast-series.aspx)です。</span><span class="sxs-lookup"><span data-stu-id="499a4-302">For information about other migrations scenarios, see [Migrations Screencast Series](https://blogs.msdn.com/b/adonet/archive/2014/03/12/migrations-screencast-series.aspx).</span></span>

## <a name="code-first-initializers"></a><span data-ttu-id="499a4-303">コードの最初の初期化子</span><span class="sxs-lookup"><span data-stu-id="499a4-303">Code First Initializers</span></span>

<span data-ttu-id="499a4-304">展開に関するセクションで説明しました、 [MigrateDatabaseToLatestVersion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx)初期化子が使用されています。</span><span class="sxs-lookup"><span data-stu-id="499a4-304">In the deployment section you saw the [MigrateDatabaseToLatestVersion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx) initializer being used.</span></span> <span data-ttu-id="499a4-305">最初のコードなどの他の初期化子を提供[CreateDatabaseIfNotExists](https://msdn.microsoft.com/library/gg679221(v=vs.103).aspx) (既定)、 [DropCreateDatabaseIfModelChanges](https://msdn.microsoft.com/library/gg679604(v=VS.103).aspx)を使用する前) と[DropCreateDatabaseAlways](https://msdn.microsoft.com/library/gg679506(v=VS.103).aspx)です。</span><span class="sxs-lookup"><span data-stu-id="499a4-305">Code First also provides other initializers, including [CreateDatabaseIfNotExists](https://msdn.microsoft.com/library/gg679221(v=vs.103).aspx) (the default), [DropCreateDatabaseIfModelChanges](https://msdn.microsoft.com/library/gg679604(v=VS.103).aspx) (which you used earlier) and [DropCreateDatabaseAlways](https://msdn.microsoft.com/library/gg679506(v=VS.103).aspx).</span></span> <span data-ttu-id="499a4-306">`DropCreateAlways`初期化子は単体テストの条件を設定するため役に立ちます。</span><span class="sxs-lookup"><span data-stu-id="499a4-306">The `DropCreateAlways` initializer can be useful for setting up conditions for unit tests.</span></span> <span data-ttu-id="499a4-307">独自の初期化子を記述することもでき、アプリケーションからの読み取りまたはデータベースに書き込みます。 するまで待機したくない場合は、明示的に初期化子を呼び出すことができます。</span><span class="sxs-lookup"><span data-stu-id="499a4-307">You can also write your own initializers, and you can call an initializer explicitly if you don't want to wait until the application reads from or writes to the database.</span></span> <span data-ttu-id="499a4-308">このチュートリアルは、2013 年 11 月版で記述されている時に移行を有効にする前に作成および DropCreate 初期化子をのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="499a4-308">At the time this tutorial is being written in November, 2013, you can only use the Create and DropCreate initializers before you enable migrations.</span></span> <span data-ttu-id="499a4-309">Entity Framework チームが作業にも移行で使用可能なこれらの初期化子を作成します。</span><span class="sxs-lookup"><span data-stu-id="499a4-309">The Entity Framework team is working on making these initializers usable with migrations as well.</span></span>

<span data-ttu-id="499a4-310">初期化子の詳細については、次を参照してください[についてデータベース初期化子の Entity Framework Code First](http://www.codeguru.com/csharp/article.php/c19999/Understanding-Database-Initializers-in-Entity-Framework-Code-First.htm)と書籍の第 6 章[Entity Framework のプログラミング: Code First](http://shop.oreilly.com/product/0636920022220.do) Julie Lerman によって。および Rowan Miller です。</span><span class="sxs-lookup"><span data-stu-id="499a4-310">For more information about initializers, see [Understanding Database Initializers in Entity Framework Code First](http://www.codeguru.com/csharp/article.php/c19999/Understanding-Database-Initializers-in-Entity-Framework-Code-First.htm) and chapter 6 of the book [Programming Entity Framework: Code First](http://shop.oreilly.com/product/0636920022220.do) by Julie Lerman and Rowan Miller.</span></span>

## <a name="summary"></a><span data-ttu-id="499a4-311">まとめ</span><span class="sxs-lookup"><span data-stu-id="499a4-311">Summary</span></span>

<span data-ttu-id="499a4-312">このチュートリアルでは、移行を有効にしてアプリケーションを展開する方法を説明しました。</span><span class="sxs-lookup"><span data-stu-id="499a4-312">In this tutorial you've seen how to enable migrations and deploy the application.</span></span> <span data-ttu-id="499a4-313">次のチュートリアルでは、データ モデルを展開してより高度なトピックを見るが始めます。</span><span class="sxs-lookup"><span data-stu-id="499a4-313">In the next tutorial you'll begin looking at more advanced topics by expanding the data model.</span></span>

<span data-ttu-id="499a4-314">このチュートリアルをリンクする方法と、何を改善にフィードバックを送信してください。</span><span class="sxs-lookup"><span data-stu-id="499a4-314">Please leave feedback on how you liked this tutorial and what we could improve.</span></span> <span data-ttu-id="499a4-315">新しいトピックを要求することもできます。 [Me 方法でコードの表示](http://aspnet.uservoice.com/forums/228522-show-me-how-with-code)です。</span><span class="sxs-lookup"><span data-stu-id="499a4-315">You can also request new topics at [Show Me How With Code](http://aspnet.uservoice.com/forums/228522-show-me-how-with-code).</span></span>

<span data-ttu-id="499a4-316">その他の Entity Framework リソースへのリンクは含まれて[ASP.NET データ アクセス - リソースのことをお勧め](xref:whitepapers/aspnet-data-access-content-map)です。</span><span class="sxs-lookup"><span data-stu-id="499a4-316">Links to other Entity Framework resources can be found in [ASP.NET Data Access - Recommended Resources](xref:whitepapers/aspnet-data-access-content-map).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="499a4-317">[前へ](xref:mvc/overview/getting-started/getting-started-with-ef-using-mvc/connection-resiliency-and-command-interception-with-the-entity-framework-in-an-asp-net-mvc-application)
> [次へ](xref:mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-a-more-complex-data-model-for-an-asp-net-mvc-application)</span><span class="sxs-lookup"><span data-stu-id="499a4-317">[Previous](xref:mvc/overview/getting-started/getting-started-with-ef-using-mvc/connection-resiliency-and-command-interception-with-the-entity-framework-in-an-asp-net-mvc-application)
[Next](xref:mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-a-more-complex-data-model-for-an-asp-net-mvc-application)</span></span>
