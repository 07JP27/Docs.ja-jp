---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs
title: 挿入、更新、およびデータ (c#) の削除の概要 |Microsoft ドキュメント
author: rick-anderson
description: このチュートリアルではおとが表示され、ObjectDataSource の Insert()、Update() にマップする方法を構成する方法だけでなく、BLL のメソッドに Delete() メソッドがクラス.
ms.author: aspnetcontent
manager: wpickett
ms.date: 07/17/2006
ms.topic: article
ms.assetid: b651dc58-93c7-4f83-a74e-3b99f6d60848
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs
msc.type: authoredcontent
ms.openlocfilehash: dbd111f79eda6006cb9aed59d8fd0b0342415833
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/06/2018
---
<a name="an-overview-of-inserting-updating-and-deleting-data-c"></a><span data-ttu-id="dfcb5-103">挿入、更新、およびデータ (c#) の削除の概要</span><span class="sxs-lookup"><span data-stu-id="dfcb5-103">An Overview of Inserting, Updating, and Deleting Data (C#)</span></span>
====================
<span data-ttu-id="dfcb5-104">によって[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="dfcb5-105">[サンプル アプリをダウンロード](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_16_CS.exe)または[PDF のダウンロード](an-overview-of-inserting-updating-and-deleting-data-cs/_static/datatutorial16cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_16_CS.exe) or [Download PDF](an-overview-of-inserting-updating-and-deleting-data-cs/_static/datatutorial16cs1.pdf)</span></span>

> <span data-ttu-id="dfcb5-106">このチュートリアルでは、ObjectDataSource の Insert()、Update() にマップする方法を見てみましょうおよびデータ変更機能を提供する GridView、DetailsView、フォーム ビューの各コントロールを構成する方法だけでなく、BLL のメソッドに Delete() メソッドがクラスです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-106">In this tutorial we'll see how to map an ObjectDataSource's Insert(), Update(), and Delete() methods to the methods of BLL classes, as well as how to configure the GridView, DetailsView, and FormView controls to provide data modification capabilities.</span></span>


## <a name="introduction"></a><span data-ttu-id="dfcb5-107">はじめに</span><span class="sxs-lookup"><span data-stu-id="dfcb5-107">Introduction</span></span>

<span data-ttu-id="dfcb5-108">過去のいくつかのチュートリアルでは、GridView、DetailsView、フォーム ビューのコントロールを使用して、ASP.NET ページでデータを表示する方法について説明しました。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-108">Over the past several tutorials we've examined how to display data in an ASP.NET page using the GridView, DetailsView, and FormView controls.</span></span> <span data-ttu-id="dfcb5-109">これらのコントロールは、それらに指定されたデータで単に動作します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-109">These controls simply work with data supplied to them.</span></span> <span data-ttu-id="dfcb5-110">一般的には、これらのコントロール、ObjectDataSource などのデータ ソース コントロールを使用してデータにアクセスします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-110">Commonly, these controls access data through the use of a data source control, such as the ObjectDataSource.</span></span> <span data-ttu-id="dfcb5-111">ASP.NET ページと基になるデータの間のプロキシとしての ObjectDataSource の機能説明しました。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-111">We've seen how the ObjectDataSource acts as a proxy between the ASP.NET page and the underlying data.</span></span> <span data-ttu-id="dfcb5-112">その ObjectDataSource の GridView は、データを表示する必要があると、呼び出さ`Select()`メソッドで、さらにメソッドを呼び出しから、ビジネス ロジック層 (BLL)、適切なデータ アクセス レイヤーの (DAL) のメソッドを呼び出すが、TableAdapter に送信する、`SELECT` Northwind データベースへのクエリ。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-112">When a GridView needs to display data, it invokes its ObjectDataSource's `Select()` method, which in turn invokes a method from our Business Logic Layer (BLL), which calls a method in the appropriate Data Access Layer's (DAL) TableAdapter, which in turn sends a `SELECT` query to the Northwind database.</span></span>

<span data-ttu-id="dfcb5-113">DAL で Tableadapter を作成した際に注意してくださいを[、最初のチュートリアル](../introduction/creating-a-data-access-layer-cs.md)、Visual Studio が自動的に追加メソッドを挿入、更新、およびデータベース テーブルを基になるからデータを削除します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-113">Recall that when we created the TableAdapters in the DAL in [our first tutorial](../introduction/creating-a-data-access-layer-cs.md), Visual Studio automatically added methods for inserting, updating, and deleting data from the underlying database table.</span></span> <span data-ttu-id="dfcb5-114">さらに、[ビジネス ロジック層を作成する](../introduction/creating-a-business-logic-layer-cs.md)と呼ばれる BLL 内のメソッドにこれらのデータ変更 DAL メソッドように設計します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-114">Moreover, in [Creating a Business Logic Layer](../introduction/creating-a-business-logic-layer-cs.md) we designed methods in the BLL that called down into these data modification DAL methods.</span></span>

<span data-ttu-id="dfcb5-115">加え、 `Select()` 、ObjectDataSource も`Insert()`、 `Update()`、および`Delete()`メソッドです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-115">In addition to its `Select()` method, the ObjectDataSource also has `Insert()`, `Update()`, and `Delete()` methods.</span></span> <span data-ttu-id="dfcb5-116">同様に、`Select()`メソッド、3 つの方法は、基になるオブジェクトのメソッドにマップすることができます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-116">Like the `Select()` method, these three methods can be mapped to methods in an underlying object.</span></span> <span data-ttu-id="dfcb5-117">挿入、更新、またはデータを削除するように構成、GridView、DetailsView、フォーム ビュー コントロールは基になるデータを変更するユーザー インターフェイスを提供します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-117">When configured to insert, update, or delete data, the GridView, DetailsView, and FormView controls provide a user interface for modifying the underlying data.</span></span> <span data-ttu-id="dfcb5-118">このユーザー インターフェイスを呼び出す、 `Insert()`、 `Update()`、および`Delete()`基になるオブジェクトを呼び出し、ObjectDataSource のメソッドに関連付けられているメソッド (図 1 を参照してください)。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-118">This user interface calls the `Insert()`, `Update()`, and `Delete()` methods of the ObjectDataSource, which then invoke the underlying object's associated methods (see Figure 1).</span></span>


<span data-ttu-id="dfcb5-119">[![ObjectDataSource の Insert()、Update()、および Delete() メソッド、BLL にプロキシとして機能します。](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image2.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-119">[![The ObjectDataSource's Insert(), Update(), and Delete() Methods Serve as a Proxy into the BLL](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image2.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image1.png)</span></span>

<span data-ttu-id="dfcb5-120">**図 1**:、ObjectDataSource `Insert()`、 `Update()`、および`Delete()`メソッドが、BLL にプロキシとして機能 ([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-120">**Figure 1**: The ObjectDataSource's `Insert()`, `Update()`, and `Delete()` Methods Serve as a Proxy into the BLL ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image3.png))</span></span>


<span data-ttu-id="dfcb5-121">このチュートリアルでは、ObjectDataSource をマップする方法を会いしましょう`Insert()`、 `Update()`、および`Delete()`BLL とデータの変更を提供する GridView、DetailsView、およびフォーム コントロールを構成する方法でクラスのメソッドをメソッド機能します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-121">In this tutorial we'll see how to map the ObjectDataSource's `Insert()`, `Update()`, and `Delete()` methods to methods of classes in the BLL, as well as how to configure the GridView, DetailsView, and FormView controls to provide data modification capabilities.</span></span>

## <a name="step-1-creating-the-insert-update-and-delete-tutorials-web-pages"></a><span data-ttu-id="dfcb5-122">手順 1: Insert、Update、および Delete のチュートリアルの Web ページの作成</span><span class="sxs-lookup"><span data-stu-id="dfcb5-122">Step 1: Creating the Insert, Update, and Delete Tutorials Web Pages</span></span>

<span data-ttu-id="dfcb5-123">挿入、更新、およびデータを削除する方法の探索を開始して、前にまずみましょう。 このチュートリアルを次のいくつかのものが必要な web サイト プロジェクトに、ASP.NET ページを作成します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-123">Before we start exploring how to insert, update, and delete data, let's first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial and the next several ones.</span></span> <span data-ttu-id="dfcb5-124">という名前の新しいフォルダーを追加することによって開始`EditInsertDelete`です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-124">Start by adding a new folder named `EditInsertDelete`.</span></span> <span data-ttu-id="dfcb5-125">次に、各ページに関連付けるように、そのフォルダーに次の ASP.NET ページを追加、`Site.master`マスター ページ。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-125">Next, add the following ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `Basics.aspx`
- `DataModificationEvents.aspx`
- `ErrorHandling.aspx`
- `UIValidation.aspx`
- `CustomizedUI.aspx`
- `OptimisticConcurrency.aspx`
- `ConfirmationOnDelete.aspx`
- `UserLevelAccess.aspx`


![データの変更に関連するチュートリアルについては、ASP.NET ページを追加します。](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image4.png)

<span data-ttu-id="dfcb5-127">**図 2**: データの変更に関連するチュートリアルについては、ASP.NET ページを追加します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-127">**Figure 2**: Add the ASP.NET Pages for the Data Modification-Related Tutorials</span></span>


<span data-ttu-id="dfcb5-128">などの他のフォルダーで`Default.aspx`で、`EditInsertDelete`フォルダーは、チュートリアルのセクションに一覧表示します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-128">Like in the other folders, `Default.aspx` in the `EditInsertDelete` folder will list the tutorials in its section.</span></span> <span data-ttu-id="dfcb5-129">注意してください、`SectionLevelTutorialListing.ascx`ユーザー コントロールは、この機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-129">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="dfcb5-130">そのため、このユーザー コントロールを追加`Default.aspx`ページの [デザイン] ビューに、ソリューション エクスプ ローラーからドラッグしています。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-130">Therefore, add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page's Design view.</span></span>


<span data-ttu-id="dfcb5-131">[![Default.aspx に SectionLevelTutorialListing.ascx ユーザー コントロールを追加します。](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image6.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-131">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image6.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image5.png)</span></span>

<span data-ttu-id="dfcb5-132">**図 3**: 追加、`SectionLevelTutorialListing.ascx`ユーザー コントロールを`Default.aspx`([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-132">**Figure 3**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image7.png))</span></span>


<span data-ttu-id="dfcb5-133">最後に、エントリとして、ページを追加、`Web.sitemap`ファイル。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-133">Lastly, add the pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="dfcb5-134">具体的には、カスタマイズされた書式設定後に、次のマークアップを追加`<siteMapNode>`:</span><span class="sxs-lookup"><span data-stu-id="dfcb5-134">Specifically, add the following markup after the Customized Formatting `<siteMapNode>`:</span></span>


[!code-xml[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample1.xml)]

<span data-ttu-id="dfcb5-135">更新した後に`Web.sitemap`ブラウザーを使って、チュートリアルの web サイトを表示します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-135">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="dfcb5-136">左側のメニューには、編集、挿入、およびチュートリアルを削除する項目が含まれています。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-136">The menu on the left now includes items for the editing, inserting, and deleting tutorials.</span></span>


![サイト マップでは、編集、挿入、および削除のチュートリアルのエントリが含まれるようになりました](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image8.png)

<span data-ttu-id="dfcb5-138">**図 4**: サイト マップでは、編集、挿入、および削除のチュートリアルのエントリが含まれるようになりました</span><span class="sxs-lookup"><span data-stu-id="dfcb5-138">**Figure 4**: The Site Map Now Includes Entries for the Editing, Inserting, and Deleting Tutorials</span></span>


## <a name="step-2-adding-and-configuring-the-objectdatasource-control"></a><span data-ttu-id="dfcb5-139">手順 2: 追加して、ObjectDataSource コントロールを構成します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-139">Step 2: Adding and Configuring the ObjectDataSource Control</span></span>

<span data-ttu-id="dfcb5-140">以降、GridView、DetailsView、およびそのデータ変更機能やレイアウトが異なる各 FormView、それぞれを個別に調べてみましょう。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-140">Since the GridView, DetailsView, and FormView each differ in their data modification capabilities and layout, let's examine each one individually.</span></span> <span data-ttu-id="dfcb5-141">独自の ObjectDataSource を使用して各コントロールがあるのではなくただし、作成してみましょうだけ 3 つのコントロールの例はすべてを共有できる単一 ObjectDataSource。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-141">Rather than have each control using its own ObjectDataSource, however, let's just create a single ObjectDataSource that all three control examples can share.</span></span>

<span data-ttu-id="dfcb5-142">開く、 `Basics.aspx`  ページで、ObjectDataSource をツールボックスからデザイナーにドラッグして、スマート タグからのデータ ソースの構成リンクをクリックします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-142">Open the `Basics.aspx` page, drag an ObjectDataSource from the Toolbox onto the Designer, and click the Configure Data Source link from its smart tag.</span></span> <span data-ttu-id="dfcb5-143">以降、`ProductsBLL`編集、挿入、および削除する方法、構成をこのクラスを使用する ObjectDataSource を提供する唯一の BLL クラスです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-143">Since the `ProductsBLL` is the only BLL class that provides editing, inserting, and deleting methods, configure the ObjectDataSource to use this class.</span></span>


<span data-ttu-id="dfcb5-144">[![構成、ObjectDataSource ProductsBLL クラスを使用するには](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image10.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-144">[![Configure the ObjectDataSource to Use the ProductsBLL Class](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image10.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image9.png)</span></span>

<span data-ttu-id="dfcb5-145">**図 5**: 構成を使用する ObjectDataSource、`ProductsBLL`クラス ([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-145">**Figure 5**: Configure the ObjectDataSource to Use the `ProductsBLL` Class ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image11.png))</span></span>


<span data-ttu-id="dfcb5-146">次の画面では、どのような手段を指定できます、`ProductsBLL`クラスは、ObjectDataSource にマップされます`Select()`、 `Insert()`、 `Update()`、および`Delete()`を適切なタブを選択し、ドロップダウン リストからメソッドを選択します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-146">In the next screen we can specify what methods of the `ProductsBLL` class are mapped to the ObjectDataSource's `Select()`, `Insert()`, `Update()`, and `Delete()` by selecting the appropriate tab and choosing the method from the drop-down list.</span></span> <span data-ttu-id="dfcb5-147">図 6 はなじみのここまでで、マップ、ObjectDataSource`Select()`メソッドを`ProductsBLL`クラスの`GetProducts()`メソッドです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-147">Figure 6, which should look familiar by now, maps the ObjectDataSource's `Select()` method to the `ProductsBLL` class's `GetProducts()` method.</span></span> <span data-ttu-id="dfcb5-148">`Insert()`、 `Update()`、および`Delete()`メソッドは、上部にある一覧から適切なタブを選択して構成できます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-148">The `Insert()`, `Update()`, and `Delete()` methods can be configured by selecting the appropriate tab from the list along the top.</span></span>


<span data-ttu-id="dfcb5-149">[![ObjectDataSource を返すすべての製品](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image13.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-149">[![Have the ObjectDataSource Return All of the Products](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image13.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image12.png)</span></span>

<span data-ttu-id="dfcb5-150">**図 6**: ObjectDataSource を返すすべての製品のある ([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-150">**Figure 6**: Have the ObjectDataSource Return All of the Products ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image14.png))</span></span>


<span data-ttu-id="dfcb5-151">図 7、8、9 ObjectDataSource の更新、挿入、および削除を表示するタブ。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-151">Figures 7, 8, and 9 show the ObjectDataSource's UPDATE, INSERT, and DELETE tabs.</span></span> <span data-ttu-id="dfcb5-152">これらのタブを構成できるように、 `Insert()`、 `Update()`、および`Delete()`メソッドを呼び出し、`ProductsBLL`クラスの`UpdateProduct`、 `AddProduct`、および`DeleteProduct`メソッド、それぞれします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-152">Configure these tabs so that the `Insert()`, `Update()`, and `Delete()` methods invoke the `ProductsBLL` class's `UpdateProduct`, `AddProduct`, and `DeleteProduct` methods, respectively.</span></span>


<span data-ttu-id="dfcb5-153">[![ObjectDataSource の Update() メソッドに、ProductBLL UpdateProduct クラスをマップします。](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image16.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-153">[![Map the ObjectDataSource's Update() Method to the ProductBLL Class's UpdateProduct Method](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image16.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image15.png)</span></span>

<span data-ttu-id="dfcb5-154">**図 7**: マップ ObjectDataSource の`Update()`メソッドを`ProductBLL`クラスの`UpdateProduct`メソッド ([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-154">**Figure 7**: Map the ObjectDataSource's `Update()` Method to the `ProductBLL` Class's `UpdateProduct` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image17.png))</span></span>


<span data-ttu-id="dfcb5-155">[![ObjectDataSource の Insert() メソッドに、ProductBLL AddProduct クラスをマップします。](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image19.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-155">[![Map the ObjectDataSource's Insert() Method to the ProductBLL Class's AddProduct Method](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image19.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image18.png)</span></span>

<span data-ttu-id="dfcb5-156">**図 8**: マップ ObjectDataSource の`Insert()`メソッドを`ProductBLL`クラスの追加`Product`メソッド ([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-156">**Figure 8**: Map the ObjectDataSource's `Insert()` Method to the `ProductBLL` Class's Add `Product` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image20.png))</span></span>


<span data-ttu-id="dfcb5-157">[![ObjectDataSource の Delete() メソッドに、ProductBLL DeleteProduct クラスをマップします。](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image22.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-157">[![Map the ObjectDataSource's Delete() Method to the ProductBLL Class's DeleteProduct Method](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image22.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image21.png)</span></span>

<span data-ttu-id="dfcb5-158">**図 9**: マップ ObjectDataSource の`Delete()`メソッドを`ProductBLL`クラスの`DeleteProduct`メソッド ([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-158">**Figure 9**: Map the ObjectDataSource's `Delete()` Method to the `ProductBLL` Class's `DeleteProduct` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image23.png))</span></span>


<span data-ttu-id="dfcb5-159">お気付き UPDATE、INSERT、および DELETE の各タブで、ドロップダウン リストが選択されているこれらのメソッドに既に存在します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-159">You may have noticed that the drop-down lists in the UPDATE, INSERT, and DELETE tabs already had these methods selected.</span></span> <span data-ttu-id="dfcb5-160">これは、使用についてのご協力に感謝、`DataObjectMethodAttribute`のメソッドを装飾する`ProducstBLL`です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-160">This is thanks to our use of the `DataObjectMethodAttribute` that decorates the methods of `ProducstBLL`.</span></span> <span data-ttu-id="dfcb5-161">たとえば、DeleteProduct メソッドは、次のシグネチャを持ちます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-161">For example, the DeleteProduct method has the following signature:</span></span>


[!code-csharp[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample2.cs)]

<span data-ttu-id="dfcb5-162">`DataObjectMethodAttribute`属性を選択すると、挿入、更新、または削除、および既定値であるかどうかは、かどうか、各メソッドの目的を示します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-162">The `DataObjectMethodAttribute` attribute indicates the purpose of each method whether it is for selecting, inserting, updating, or deleting and whether or not it's the default value.</span></span> <span data-ttu-id="dfcb5-163">これらの属性を省略すると、BLL クラスを作成するときを必要がありますを手動で更新プログラムからメソッドを選択挿入、およびタブを削除します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-163">If you omitted these attributes when creating your BLL classes, you'll need to manually select the methods from the UPDATE, INSERT, and DELETE tabs.</span></span>

<span data-ttu-id="dfcb5-164">適切なことを確認した後`ProductsBLL`メソッドが ObjectDataSource にマップされます`Insert()`、 `Update()`、および`Delete()`メソッド、ウィザードを完了するには、[完了] をクリックします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-164">After ensuring that the appropriate `ProductsBLL` methods are mapped to the ObjectDataSource's `Insert()`, `Update()`, and `Delete()` methods, click Finish to complete the wizard.</span></span>

## <a name="examining-the-objectdatasources-markup"></a><span data-ttu-id="dfcb5-165">ObjectDataSource のマークアップを確認します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-165">Examining the ObjectDataSource's Markup</span></span>

<span data-ttu-id="dfcb5-166">構成した後、ウィザードを通じて ObjectDataSource に生成された宣言型マークアップをソース ビューに移動します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-166">After configuring the ObjectDataSource through its wizard, go to the Source view to examine the generated declarative markup.</span></span> <span data-ttu-id="dfcb5-167">`<asp:ObjectDataSource>`タグは、基になるオブジェクトと呼び出すメソッドを指定します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-167">The `<asp:ObjectDataSource>` tag specifies the underlying object and the methods to invoke.</span></span> <span data-ttu-id="dfcb5-168">さらは`DeleteParameters`、 `UpdateParameters`、および`InsertParameters`の入力パラメーターにマップされる、`ProductsBLL`クラスの`AddProduct`、 `UpdateProduct`、および`DeleteProduct`メソッド。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-168">Additionally, there are `DeleteParameters`, `UpdateParameters`, and `InsertParameters` that map to the input parameters for the `ProductsBLL` class's `AddProduct`, `UpdateProduct`, and `DeleteProduct` methods:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample3.aspx)]

<span data-ttu-id="dfcb5-169">ObjectDataSource の一覧と同じように、その関連付けられているメソッドの入力パラメーターの各パラメーターが含まれる`SelectParameter`s は現在の入力パラメーターを受け取る select メソッドを呼び出す、ObjectDataSource が構成されている場合 (など`GetProductsByCategoryID(categoryID)`).</span><span class="sxs-lookup"><span data-stu-id="dfcb5-169">The ObjectDataSource includes a parameter for each of the input parameters for its associated methods, just like a list of `SelectParameter` s is present when the ObjectDataSource is configured to call a select method that expects an input parameter (such as `GetProductsByCategoryID(categoryID)`).</span></span> <span data-ttu-id="dfcb5-170">おについては後ほど、これらの値として`DeleteParameters`、 `UpdateParameters`、および`InsertParameters`GridView、DetailsView、およびフォーム ビューで、ObjectDataSource を呼び出す前に自動的に設定されます`Insert()`、 `Update()`、または`Delete()`メソッド。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-170">As we'll see shortly, values for these `DeleteParameters`, `UpdateParameters`, and `InsertParameters` are set automatically by the GridView, DetailsView, and FormView prior to invoking the ObjectDataSource's `Insert()`, `Update()`, or `Delete()` method.</span></span> <span data-ttu-id="dfcb5-171">これらの値も設定できます必要に応じて、プログラムで今後のチュートリアルで説明するようです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-171">These values can also be set programmatically as needed, as we'll discuss in a future tutorial.</span></span>

<span data-ttu-id="dfcb5-172">ObjectDataSource するように構成ウィザードを使用する 1 つの副作用は、Visual Studio が設定される、 [OldValuesParameterFormatString プロパティ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.oldvaluesparameterformatstring(VS.80).aspx)に`original_{0}`です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-172">One side effect of using the wizard to configure to ObjectDataSource is that Visual Studio sets the [OldValuesParameterFormatString property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.oldvaluesparameterformatstring(VS.80).aspx) to `original_{0}`.</span></span> <span data-ttu-id="dfcb5-173">このプロパティの値は編集対象のデータの元の値を含めるに使用され、2 つのシナリオで役に立ちます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-173">This property value is used to include the original values of the data being edited and is useful in two scenarios:</span></span>

- <span data-ttu-id="dfcb5-174">レコードを編集するには、ユーザーは、主キーの値を変更します。 場合、</span><span class="sxs-lookup"><span data-stu-id="dfcb5-174">If, when editing a record, users are able to change the primary key value.</span></span> <span data-ttu-id="dfcb5-175">この場合、新しい主キーの値と元のプライマリ キーの値の両方必要がありますを指定する元のプライマリ キーの値を持つレコードが見つかりませんしてそれに従って更新その値を持つできるようにします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-175">In this case, both the new primary key value and the original primary key value must be provided so that the record with the original primary key value can be found and have its value updated accordingly.</span></span>
- <span data-ttu-id="dfcb5-176">ときに、オプティミスティック同時実行制御を使用します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-176">When using optimistic concurrency.</span></span> <span data-ttu-id="dfcb5-177">オプティミスティック同時実行制御ことを確認する 2 つの手法の同時ユーザーは、いずれかに別の変更を上書きしないし、今後のチュートリアルのトピックは、です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-177">Optimistic concurrency is a technique to ensure that two simultaneous users don't overwrite one another's changes, and is the topic for a future tutorial.</span></span>

<span data-ttu-id="dfcb5-178">`OldValuesParameterFormatString`プロパティは、基になるオブジェクトの更新プログラムと元の値の削除メソッドで、入力パラメーターの名前を示します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-178">The `OldValuesParameterFormatString` property indicates the name of the input parameters in the underlying object's update and delete methods for the original values.</span></span> <span data-ttu-id="dfcb5-179">オプティミスティック同時実行制御をナビゲートするときは、このプロパティは、さらに詳しくは、その目的について説明します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-179">We'll discuss this property and its purpose in greater detail when we explore optimistic concurrency.</span></span> <span data-ttu-id="dfcb5-180">移行ここで、ただし、当社 BLL のメソッドでは、元の値が予期しないと、したがってはこのプロパティを削除する必要があるためです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-180">I bring it up now, however, because our BLL's methods do not expect the original values and therefore it's important that we remove this property.</span></span> <span data-ttu-id="dfcb5-181">終了、`OldValuesParameterFormatString`プロパティが既定値以外に設定 (`{0}`) Web コントロールのデータが、ObjectDataSource を起動しようとしたときにエラーが発生`Update()`または`Delete()`メソッド、ObjectDataSource のため両方に渡して、`UpdateParameters`または`DeleteParameters`と、元の値パラメーターを指定します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-181">Leaving the `OldValuesParameterFormatString` property set to anything other than the default (`{0}`) will cause an error when a data Web control attempts to invoke the ObjectDataSource's `Update()` or `Delete()` methods because the ObjectDataSource will attempt to pass in both the `UpdateParameters` or `DeleteParameters` specified as well as original value parameters.</span></span>

<span data-ttu-id="dfcb5-182">これがいない場合それほど明確この時点で、ご安心ください今後のチュートリアルでこのプロパティは、そのユーティリティについて見ていきましょう。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-182">If this isn't terribly clear at this juncture, don't worry, we'll examine this property and its utility in a future tutorial.</span></span> <span data-ttu-id="dfcb5-183">ここでは、だけを必ず宣言構文から完全にこのプロパティの宣言を削除するか、既定値 ({0}) に値を設定します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-183">For now, just be certain to either remove this property declaration entirely from the declarative syntax or set the value to the default value ({0}).</span></span>

> [!NOTE]
> <span data-ttu-id="dfcb5-184">だけオフにした場合、`OldValuesParameterFormatString`プロパティ [デザイン] ビューで [プロパティ] ウィンドウからプロパティ値は、宣言の構文では引き続き存在しますが、空の文字列に設定します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-184">If you simply clear out the `OldValuesParameterFormatString` property value from the Properties window in the Design view, the property will still exist in the declarative syntax, but be set to an empty string.</span></span> <span data-ttu-id="dfcb5-185">これには、残念ながら、引き続き、上記で説明した同じ問題が発生されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-185">This, unfortunately, will still result in the same problem discussed above.</span></span> <span data-ttu-id="dfcb5-186">そのため、削除するか完全宣言構文から、または、[プロパティ] ウィンドウからプロパティ値、既定値と`{0}`です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-186">Therefore, either remove the property altogether from the declarative syntax or, from the Properties window, set the value to the default, `{0}`.</span></span>


## <a name="step-3-adding-a-data-web-control-and-configuring-it-for-data-modification"></a><span data-ttu-id="dfcb5-187">手順 3: データ Web コントロールを追加して、データ変更用に構成します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-187">Step 3: Adding a Data Web Control and Configuring It for Data Modification</span></span>

<span data-ttu-id="dfcb5-188">ObjectDataSource をページに追加し、構成後は、データの表示し、変更を加えて、エンドユーザーの手段を提供の両方のページに Web コントロールのデータを追加する準備ができました。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-188">Once the ObjectDataSource has been added to the page and configured, we're ready to add data Web controls to the page to both display the data and provide a means for the end user to modify it.</span></span> <span data-ttu-id="dfcb5-189">紹介 GridView、DetailsView、およびフォーム ビューとは別に、これらの Web コントロールのデータは、データ変更機能と構成で異なる。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-189">We'll look at the GridView, DetailsView, and FormView separately, as these data Web controls differ in their data modification capabilities and configuration.</span></span>

<span data-ttu-id="dfcb5-190">後ほどお見せこの記事の残りの部分で非常に基本的な編集、挿入、および GridView DetailsView、によるサポートの削除を追加すると FormView 制御は本当に簡単に、いくつかのチェック ボックスをチェックします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-190">As we'll see in the remainder of this article, adding very basic editing, inserting, and deleting support through the GridView, DetailsView, and FormView controls is really as simple as checking a couple of checkboxes.</span></span> <span data-ttu-id="dfcb5-191">多くの微妙なとよりも複雑だけにポイントしをクリックしてこのような機能を提供することを構成する実際のエッジ ケースがあります。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-191">There are many subtleties and edge cases in the real-world that make providing such functionality more involved than just point and click.</span></span> <span data-ttu-id="dfcb5-192">このチュートリアルでは、ただし、単純なデータ変更機能を証明するについてのみ説明します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-192">This tutorial, however, focuses solely on proving simplistic data modification capabilities.</span></span> <span data-ttu-id="dfcb5-193">今後のチュートリアルでは、必ず実際の設定で発生する問題を確認します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-193">Future tutorials will examine concerns that will undoubtedly arise in a real-world setting.</span></span>

## <a name="deleting-data-from-the-gridview"></a><span data-ttu-id="dfcb5-194">GridView からデータを削除します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-194">Deleting Data from the GridView</span></span>

<span data-ttu-id="dfcb5-195">GridView をツールボックスからデザイナーにドラッグして開始します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-195">Start by dragging a GridView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="dfcb5-196">GridView のスマート タグのドロップ ダウン リストから選択することによって GridView に、ObjectDataSource を次に、バインドします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-196">Next, bind the ObjectDataSource to the GridView by selecting it from the drop-down list in the GridView's smart tag.</span></span> <span data-ttu-id="dfcb5-197">この時点で、GridView の宣言型マークアップになります。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-197">At this point the GridView's declarative markup will be:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample4.aspx)]

<span data-ttu-id="dfcb5-198">スマート タグから ObjectDataSource、GridView にバインドすると、2 つの利点があります。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-198">Binding the GridView to the ObjectDataSource through its smart tag has two benefits:</span></span>

- <span data-ttu-id="dfcb5-199">BoundFields と CheckBoxFields は、ObjectDataSource によって返されるフィールドの各自動的に作成されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-199">BoundFields and CheckBoxFields are automatically created for each of the fields returned by the ObjectDataSource.</span></span> <span data-ttu-id="dfcb5-200">さらに、BoundField および CheckBoxField のプロパティは、基になるフィールドのメタデータに基づいて設定されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-200">Moreover, the BoundField and CheckBoxField's properties are set based on the underlying field's metadata.</span></span> <span data-ttu-id="dfcb5-201">たとえば、 `ProductID`、 `CategoryName`、および`SupplierName`フィールドは読み取り専用とでマークされて、`ProductsDataTable`のためべきでは更新可能な編集時にします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-201">For example, the `ProductID`, `CategoryName`, and `SupplierName` fields are marked as read-only in the `ProductsDataTable` and therefore shouldn't be updatable when editing.</span></span> <span data-ttu-id="dfcb5-202">この、これらの BoundFields をそれに合わせて[読み取り専用プロパティ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.boundfield.readonly(VS.80).aspx)に設定されている`true`です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-202">To accommodate this, these BoundFields' [ReadOnly properties](https://msdn.microsoft.com/library/system.web.ui.webcontrols.boundfield.readonly(VS.80).aspx) are set to `true`.</span></span>
- <span data-ttu-id="dfcb5-203">[DataKeyNames プロパティ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames(VS.80).aspx)は基になるオブジェクトの主キー フィールドに割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-203">The [DataKeyNames property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames(VS.80).aspx) is assigned to the primary key field(s) of the underlying object.</span></span> <span data-ttu-id="dfcb5-204">これは、プロセスを使用して GridView データの削除、編集、またはこのプロパティは、フィールド (または一連のフィールド) を示します。 つまり一意各レコードを識別します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-204">This is essential when using the GridView for editing or deleting data, as this property indicates the field (or set of fields) that unique identifies each record.</span></span> <span data-ttu-id="dfcb5-205">詳細については、`DataKeyNames`プロパティに戻って、[マスター/詳細 DetailView で選択可能なマスター GridView の使用について詳しく説明](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md)チュートリアルです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-205">For more information on the `DataKeyNames` property, refer back to the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial.</span></span>

<span data-ttu-id="dfcb5-206">GridView は、[プロパティ] ウィンドウまたは宣言の構文を ObjectDataSource にバインドすることができます、そう必要がありますに適切な BoundField を手動で追加して`DataKeyNames`マークアップ。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-206">While the GridView can be bound to the ObjectDataSource through the Properties window or declarative syntax, doing so requires you to manually add the appropriate BoundField and `DataKeyNames` markup.</span></span>

<span data-ttu-id="dfcb5-207">GridView コントロールは、行レベルの編集および削除するための組み込みサポートを提供します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-207">The GridView control provides built-in support for row-level editing and deleting.</span></span> <span data-ttu-id="dfcb5-208">削除をサポートする GridView を構成するには、削除ボタンの列が追加されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-208">Configuring a GridView to support deleting adds a column of Delete buttons.</span></span> <span data-ttu-id="dfcb5-209">エンドユーザーは、特定の行の削除 ボタンをクリックするとポストバックに陥ります GridView は、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-209">When the end user clicks the Delete button for a particular row, a postback ensues and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="dfcb5-210">ObjectDataSource の`DeleteParameters`値が割り当てられています。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-210">The ObjectDataSource's `DeleteParameters` value(s) are assigned</span></span>
2. <span data-ttu-id="dfcb5-211">ObjectDataSource の`Delete()`メソッドが呼び出され、指定されたレコードを削除します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-211">The ObjectDataSource's `Delete()` method is invoked, deleting the specified record</span></span>
3. <span data-ttu-id="dfcb5-212">GridView の再バインド数自体、ObjectDataSource を呼び出すことによってその`Select()`メソッド</span><span class="sxs-lookup"><span data-stu-id="dfcb5-212">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>

<span data-ttu-id="dfcb5-213">割り当てられた値、`DeleteParameters`の値が格納されて、`DataKeyNames`の削除 ボタンがクリックしてされた行のフィールドです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-213">The values assigned to the `DeleteParameters` are the values of the `DataKeyNames` field(s) for the row whose Delete button was clicked.</span></span> <span data-ttu-id="dfcb5-214">したがってことが重要を GridView の`DataKeyNames`プロパティが正しく設定されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-214">Therefore it's vital that a GridView's `DataKeyNames` property be correctly set.</span></span> <span data-ttu-id="dfcb5-215">存在しない場合、`DeleteParameters`が割り当てられる、 `null` 、さらに、いずれかでは発生しませんが、手順 1. の値は、手順 2. でレコードを削除します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-215">If it's missing, the `DeleteParameters` will be assigned a `null` value in Step 1, which in turn will not result in any deleted records in Step 2.</span></span>

> [!NOTE]
> <span data-ttu-id="dfcb5-216">`DataKeys`つまり GridView のコントロールの状態でコレクションが格納された、 `DataKeys` GridView のビュー ステートが無効になっている場合でも、ポストバック間で値が記憶されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-216">The `DataKeys` collection is stored in the GridView s control state, meaning that the `DataKeys` values will be remembered across postback even if the GridView s view state has been disabled.</span></span> <span data-ttu-id="dfcb5-217">ただし、編集または削除する (既定の動作) をサポートする Gridview のビュー ステートを有効のまま、非常に重要なは。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-217">However, it is very important that view state remains enabled for GridViews that support editing or deleting (the default behavior).</span></span> <span data-ttu-id="dfcb5-218">GridView s を設定した場合`EnableViewState`プロパティを`false`、編集、および動作を削除すると、1 人のユーザーを問題なく動作が、同時実行ユーザーがデータを削除する場合は、これらの同時実行ユーザーが誤ってが発生する可能性が存在するがあります削除または編集を記録するようにでした t 予定です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-218">If you set the GridView s `EnableViewState` property to `false`, the editing and deleting behavior will work fine for a single user, but if there are concurrent users deleting data, there exists the possibility that these concurrent users may accidentally delete or edit records that they didn t intend.</span></span> <span data-ttu-id="dfcb5-219">私のブログ記事を参照してください[警告: 同時実行の問題と ASP.NET 2.0 Gridview/DetailsView/FormViews その編集をサポートするか削除すると、をビュー ステートが無効になっている](http://scottonwriting.net/sowblog/archive/2006/10/03/163215.aspx)、詳細についてはします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-219">See my blog entry, [WARNING: Concurrency Issue with ASP.NET 2.0 GridViews/DetailsView/FormViews that Support Editing and/or Deleting and Whose View State is Disabled](http://scottonwriting.net/sowblog/archive/2006/10/03/163215.aspx), for more information.</span></span>


<span data-ttu-id="dfcb5-220">この同じ警告は、DetailsViews FormViews にも適用されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-220">This same warning also applies to DetailsViews and FormViews.</span></span>

<span data-ttu-id="dfcb5-221">に GridView を削除する機能を追加するには、のスマート タグに移動し、削除を有効にする チェック ボックスを確認します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-221">To add deleting capabilities to a GridView, simply go to its smart tag and check the Enable Deleting checkbox.</span></span>


![有効にする チェック ボックスを削除の確認します。](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image24.png)

<span data-ttu-id="dfcb5-223">**図 10**: 有効にする チェック ボックスを削除の確認</span><span class="sxs-lookup"><span data-stu-id="dfcb5-223">**Figure 10**: Check the Enable Deleting Checkbox</span></span>


<span data-ttu-id="dfcb5-224">スマート タグからの削除を有効にするチェック ボックスをオン、CommandField を GridView に追加します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-224">Checking the Enable Deleting checkbox from the smart tag adds a CommandField to the GridView.</span></span> <span data-ttu-id="dfcb5-225">次のタスクの 1 つ以上を実行するためのボタンを備えた GridView 内の列をレンダリングする、CommandField: レコードを選択して、レコードの編集、レコードを削除します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-225">The CommandField renders a column in the GridView with buttons for performing one or more of the following tasks: selecting a record, editing a record, and deleting a record.</span></span> <span data-ttu-id="dfcb5-226">内のレコードを選択する操作において CommandField を以前に説明しました、[マスター/詳細 DetailView で選択可能なマスター GridView の使用について詳しく説明](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md)チュートリアルです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-226">We previously saw the CommandField in action with selecting records in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial.</span></span>

<span data-ttu-id="dfcb5-227">桁数を格納する、CommandField`ShowXButton`プロパティを示す、CommandField でどのような一連のボタンが表示されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-227">The CommandField contains a number of `ShowXButton` properties that indicate what series of buttons are displayed in the CommandField.</span></span> <span data-ttu-id="dfcb5-228">削除を有効にするチェック ボックスをオン、CommandField が`ShowDeleteButton`プロパティは`true`が GridView の Columns コレクションに追加されました。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-228">By checking the Enable Deleting checkbox a CommandField whose `ShowDeleteButton` property is `true` has been added to the GridView's Columns collection.</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample5.aspx)]

<span data-ttu-id="dfcb5-229">この時点で、信じられないおは完了して GridView に削除のサポートを追加します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-229">At this point, believe it or not, we're done with adding deleting support to the GridView!</span></span> <span data-ttu-id="dfcb5-230">図 11 では、ブラウザーの削除 ボタンの列からこのページへのアクセスが存在する場合です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-230">As Figure 11 shows, when visiting this page through a browser a column of Delete buttons is present.</span></span>


<span data-ttu-id="dfcb5-231">[![CommandField 削除 ボタンの列を追加します。](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image26.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-231">[![The CommandField Adds a Column of Delete Buttons](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image26.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image25.png)</span></span>

<span data-ttu-id="dfcb5-232">**図 11**: CommandField ボタンを追加、列の削除 ([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-232">**Figure 11**: The CommandField Adds a Column of Delete Buttons ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image27.png))</span></span>


<span data-ttu-id="dfcb5-233">構築してきたこのチュートリアルをゼロから自分でをクリックすると、このページをテストするときに場合、[削除] ボタンには、例外が発生します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-233">If you've been building this tutorial from the ground up on your own, when testing this page clicking the Delete button will raise an exception.</span></span> <span data-ttu-id="dfcb5-234">あとは、これらの例外が発生した理由、およびそれらを修正する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-234">Continue reading to learn as to why these exceptions were raised and how to fix them.</span></span>

> [!NOTE]
> <span data-ttu-id="dfcb5-235">このチュートリアルに付属するダウンロードして使用している場合は、これらの問題が既にされて反映されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-235">If you're following along using the download accompanying this tutorial, these problems have already been accounted for.</span></span> <span data-ttu-id="dfcb5-236">ただし、ことをお勧めすると、発生する可能性のある問題と適切な回避策を識別できるように、以下に示す詳細情報を読み取る。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-236">However, I encourage you to read through the details listed below to help identify problems that may arise and suitable workarounds.</span></span>


<span data-ttu-id="dfcb5-237">場合、そのメッセージがに似ていますが、例外が発生する製品を削除すると、"*ObjectDataSource 'ObjectDataSource1' 非ジェネリック メソッドのパラメーターを持つ ' DeleteProduct' が見つかりませんでした: productID、オリジナル\_ProductID*、"を削除する忘れた可能性があります、 `OldValuesParameterFormatString` ObjectDataSource からプロパティです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-237">If, when attempting to delete a product, you get an exception whose message is similar to "*ObjectDataSource 'ObjectDataSource1' could not find a non-generic method 'DeleteProduct' that has parameters: productID, original\_ProductID*," you likely forgot to remove the `OldValuesParameterFormatString` property from the ObjectDataSource.</span></span> <span data-ttu-id="dfcb5-238">`OldValuesParameterFormatString` 、ObjectDataSource 両方で渡すしようとしました。 プロパティが指定された`productID`と`original_ProductID`入力パラメーター、`DeleteProduct`メソッドです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-238">With the `OldValuesParameterFormatString` property specified, the ObjectDataSource attempts to pass in both `productID` and `original_ProductID` input parameters to the `DeleteProduct` method.</span></span> <span data-ttu-id="dfcb5-239">`DeleteProduct`、ただし、のみ 1 つ入力パラメーターを受け取り、そのため、例外。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-239">`DeleteProduct`, however, only accepts a single input parameter, hence the exception.</span></span> <span data-ttu-id="dfcb5-240">削除、`OldValuesParameterFormatString`プロパティ (または設定する`{0}`) ObjectDataSource いない元の入力パラメーターに渡してしようとするように指示します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-240">Removing the `OldValuesParameterFormatString` property (or setting it to `{0}`) instructs the ObjectDataSource to not attempt to pass in the original input parameter.</span></span>


<span data-ttu-id="dfcb5-241">[![OldValuesParameterFormatString プロパティがクリアされたことを確認してください。](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image29.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-241">[![Ensure That the OldValuesParameterFormatString Property Has Been Cleared Out](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image29.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image28.png)</span></span>

<span data-ttu-id="dfcb5-242">**図 12**: いることを確認、`OldValuesParameterFormatString`プロパティがされた消去アウト ([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-242">**Figure 12**: Ensure That the `OldValuesParameterFormatString` Property Has Been Cleared Out ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image30.png))</span></span>


<span data-ttu-id="dfcb5-243">削除した場合でも、`OldValuesParameterFormatString`プロパティ、まだは例外が発生した製品を削除するメッセージを使用しようとしています:"*参照制約と競合して DELETE ステートメント ' FK\_順序\_の詳細\_の製品の*"。Northwind データベースには間の外部キー制約が含まれています、`Order Details`と`Products`テーブルでの 1 つまたは複数のレコードがある場合、製品をシステムから削除できないことを意味、`Order Details`テーブル。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-243">Even if you had removed the `OldValuesParameterFormatString` property, you still will get an exception when trying to delete a product with the message: "*The DELETE statement conflicted with the REFERENCE constraint 'FK\_Order\_Details\_Products'*." The Northwind database contains a foreign key constraint between the `Order Details` and `Products` table, meaning that a product cannot be deleted from the system if there are one or more records for it in the `Order Details` table.</span></span> <span data-ttu-id="dfcb5-244">Northwind データベース内のすべての製品内には、少なくとも 1 つのレコードがあるので`Order Details`、ため、最初に、製品の関連する注文詳細レコードを削除するまで、すべての製品を削除できません。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-244">Since every product in the Northwind database has at least one record in `Order Details`, we cannot delete any products until we first delete the product's associated order details records.</span></span>


<span data-ttu-id="dfcb5-245">[![外部キー制約には、製品の削除が禁止されています](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image32.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-245">[![A Foreign Key Constraint Prohibits the Deletion of Products](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image32.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image31.png)</span></span>

<span data-ttu-id="dfcb5-246">**図 13**: 外部キー制約には、製品の削除が禁止されています ([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-246">**Figure 13**: A Foreign Key Constraint Prohibits the Deletion of Products ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image33.png))</span></span>


<span data-ttu-id="dfcb5-247">このチュートリアルでみましょうだけを削除、すべてのレコードから、`Order Details`テーブル。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-247">For our tutorial, let's just delete all of the records from the `Order Details` table.</span></span> <span data-ttu-id="dfcb5-248">実際のアプリケーションでは、いずれかに必要があります。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-248">In a real-world application we'd need to either:</span></span>

- <span data-ttu-id="dfcb5-249">別の画面が注文明細情報を管理するには</span><span class="sxs-lookup"><span data-stu-id="dfcb5-249">Have another screen to manage order details information</span></span>
- <span data-ttu-id="dfcb5-250">補強、`DeleteProduct`メソッドを指定した製品の注文の詳細を削除するためのロジックを含める</span><span class="sxs-lookup"><span data-stu-id="dfcb5-250">Augment the `DeleteProduct` method to include logic to delete the specified product's order details</span></span>
- <span data-ttu-id="dfcb5-251">TableAdapter を指定した製品の注文の詳細の削除を含めるために使用する SQL クエリを変更します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-251">Modify the SQL query used by the TableAdapter to include deletion of the specified product's order details</span></span>

<span data-ttu-id="dfcb5-252">説明のみを削除、すべてのレコードから、`Order Details`外部キー制約を回避するためのテーブルです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-252">Let's just delete all of the records from the `Order Details` table to circumvent the foreign key constraint.</span></span> <span data-ttu-id="dfcb5-253">Visual Studio でサーバー エクスプ ローラーを右クリックし、`NORTHWND.MDF`ノード、新しいクエリを選択します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-253">Go to the Server Explorer in Visual Studio, right-click on the `NORTHWND.MDF` node, and choose New Query.</span></span> <span data-ttu-id="dfcb5-254">次に、クエリ ウィンドウでは、次の SQL ステートメントを実行します。 `DELETE FROM [Order Details]`</span><span class="sxs-lookup"><span data-stu-id="dfcb5-254">Then, in the query window, run the following SQL statement: `DELETE FROM [Order Details]`</span></span>


<span data-ttu-id="dfcb5-255">[![Order Details テーブルからすべてのレコードを削除します。](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image35.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-255">[![Delete All Records from the Order Details Table](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image35.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image34.png)</span></span>

<span data-ttu-id="dfcb5-256">**図 14**: からのすべてのレコードを削除、`Order Details`テーブル ([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-256">**Figure 14**: Delete All Records from the `Order Details` Table ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image36.png))</span></span>


<span data-ttu-id="dfcb5-257">消去した後、`Order Details`テーブルの削除 ボタンをクリックするとエラーが発生せず、製品が削除されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-257">After clearing out the `Order Details` table clicking on the Delete button will delete the product without error.</span></span> <span data-ttu-id="dfcb5-258">GridView のことを確認する場合は [削除] ボタンをクリックすると、製品が削除されることはできない、確認`DataKeyNames`プロパティが主キー フィールドに設定 (`ProductID`)。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-258">If clicking on the Delete button does not delete the product, check to ensure that the GridView's `DataKeyNames` property is set to the primary key field (`ProductID`).</span></span>

> [!NOTE]
> <span data-ttu-id="dfcb5-259">[削除] ボタンをクリックするとポストバックに陥りますされ、レコードが削除されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-259">When clicking on the Delete button a postback ensues and the record is deleted.</span></span> <span data-ttu-id="dfcb5-260">これはする誤って正しくない行の削除 ボタンをクリックする簡単であるため危険です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-260">This can be dangerous since it is easy to accidentally click on the wrong row's Delete button.</span></span> <span data-ttu-id="dfcb5-261">今後のチュートリアルでは、レコードを削除するときに、クライアント側の確認を追加する方法が表示されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-261">In a future tutorial we'll see how to add a client-side confirmation when deleting a record.</span></span>


## <a name="editing-data-with-the-gridview"></a><span data-ttu-id="dfcb5-262">GridView にデータの編集</span><span class="sxs-lookup"><span data-stu-id="dfcb5-262">Editing Data with the GridView</span></span>

<span data-ttu-id="dfcb5-263">削除、と共に GridView コントロールは組み込み行レベルの編集機能も提供します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-263">Along with deleting, the GridView control also provides built-in row-level editing support.</span></span> <span data-ttu-id="dfcb5-264">編集をサポートする GridView を構成するには、編集ボタンの列が追加されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-264">Configuring a GridView to support editing adds a column of Edit buttons.</span></span> <span data-ttu-id="dfcb5-265">編集可能になる行の行の編集 ボタンの原因をクリックすると、エンドユーザーの視点からは、既存の値を格納していると、更新プログラムの編集 ボタンと キャンセル ボタンを置換テキスト ボックスに、セルにすることです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-265">From the end user's perspective, clicking a row's Edit button causes that row to become editable, turning the cells into textboxes containing the existing values and replacing the Edit button with Update and Cancel buttons.</span></span> <span data-ttu-id="dfcb5-266">必要な変更を行った後は変更をコミットする更新ボタンまたは [キャンセル] ボタンをクリックして破棄するエンド ユーザーことができますをクリックします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-266">After making their desired changes, the end user can click the Update button to commit the changes or the Cancel button to discard them.</span></span> <span data-ttu-id="dfcb5-267">Update または [キャンセル] をクリックした後をいずれの場合、GridView はその編集済み状態に戻ります。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-267">In either case, after clicking Update or Cancel the GridView returns to its pre-editing state.</span></span>

<span data-ttu-id="dfcb5-268">ページ開発者は、当社の観点から、エンドユーザーには、特定の行の編集 ボタンがクリックすると、ポストバックに陥ります、GridView は、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-268">From our perspective as the page developer, when the end user clicks the Edit button for a particular row, a postback ensues and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="dfcb5-269">GridView の`EditItemIndex`プロパティがある編集ボタンがクリックされた行のインデックスに割り当てられています。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-269">The GridView's `EditItemIndex` property is assigned to the index of the row whose Edit button was clicked</span></span>
2. <span data-ttu-id="dfcb5-270">GridView の再バインド数自体、ObjectDataSource を呼び出すことによってその`Select()`メソッド</span><span class="sxs-lookup"><span data-stu-id="dfcb5-270">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>
3. <span data-ttu-id="dfcb5-271">一致する行のインデックス、 `EditItemIndex` 「編集モード」で表示されます</span><span class="sxs-lookup"><span data-stu-id="dfcb5-271">The row index that matches the `EditItemIndex` is rendered in "edit mode."</span></span> <span data-ttu-id="dfcb5-272">このモードでは、[編集] ボタンが置き換えの更新および [キャンセル] ボタンと BoundFields が`ReadOnly`プロパティが False (既定値) の TextBox Web コントロールとしてレンダリングされます`Text`プロパティが、データ フィールドの値に割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-272">In this mode, the Edit button is replaced by Update and Cancel buttons and BoundFields whose `ReadOnly` properties are False (the default) are rendered as TextBox Web controls whose `Text` properties are assigned to the data fields' values.</span></span>

<span data-ttu-id="dfcb5-273">この時点で、マークアップがエンドユーザーに行のデータを変更する、ブラウザーに返されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-273">At this point the markup is returned to the browser, allowing the end user to make any changes to the row's data.</span></span> <span data-ttu-id="dfcb5-274">ユーザーには、[更新] ボタンがクリックすると、ポストバックが発生し、GridView は、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-274">When the user clicks the Update button, a postback occurs and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="dfcb5-275">ObjectDataSource の`UpdateParameters`値には、エンドユーザーが GridView の編集用のインターフェイスに入力した値が割り当てられます</span><span class="sxs-lookup"><span data-stu-id="dfcb5-275">The ObjectDataSource's `UpdateParameters` value(s) are assigned the values entered by the end user into the GridView's editing interface</span></span>
2. <span data-ttu-id="dfcb5-276">ObjectDataSource の`Update()`メソッドが呼び出され、指定されたレコードの更新</span><span class="sxs-lookup"><span data-stu-id="dfcb5-276">The ObjectDataSource's `Update()` method is invoked, updating the specified record</span></span>
3. <span data-ttu-id="dfcb5-277">GridView の再バインド数自体、ObjectDataSource を呼び出すことによってその`Select()`メソッド</span><span class="sxs-lookup"><span data-stu-id="dfcb5-277">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>

<span data-ttu-id="dfcb5-278">割り当てられている主キーの値、`UpdateParameters`手順 1. で指定された値から取得、`DataKeyNames`プロパティを編集した行の TextBox Web コントロールのテキストを取得する非プライマリ キー値がします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-278">The primary key values assigned to the `UpdateParameters` in Step 1 come from the values specified in the `DataKeyNames` property, whereas the non-primary key values come from the text in the TextBox Web controls for the edited row.</span></span> <span data-ttu-id="dfcb5-279">削除することが重要とされる GridView の`DataKeyNames`プロパティが正しく設定されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-279">As with deleting, it is vital that a GridView's `DataKeyNames` property be correctly set.</span></span> <span data-ttu-id="dfcb5-280">存在しない場合、`UpdateParameters`主キーの値が割り当てられる、 `null` 、さらに、いずれかでは発生しませんが、手順 1. の値には、手順 2. でレコードが更新されました。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-280">If it's missing, the `UpdateParameters` primary key value will be assigned a `null` value in Step 1, which in turn will not result in any updated records in Step 2.</span></span>

<span data-ttu-id="dfcb5-281">GridView のスマート タグの編集を有効にするチェック ボックスをチェックするだけで、編集機能をアクティブにできます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-281">Editing functionality can be activated by simply checking the Enable Editing checkbox in the GridView's smart tag.</span></span>


![有効にする チェック ボックスを編集の確認します。](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image37.png)

<span data-ttu-id="dfcb5-283">**図 15**: 有効にする チェック ボックスを編集の確認</span><span class="sxs-lookup"><span data-stu-id="dfcb5-283">**Figure 15**: Check the Enable Editing Checkbox</span></span>


<span data-ttu-id="dfcb5-284">編集を有効にする チェック ボックスは、(必要な場合)、CommandField に追加されますをチェックし、セット、`ShowEditButton`プロパティを`true`です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-284">Checking the Enable Editing checkbox will add a CommandField (if needed) and set its `ShowEditButton` property to `true`.</span></span> <span data-ttu-id="dfcb5-285">前述のように、CommandField の個数`ShowXButton`プロパティを示す、CommandField でどのような一連のボタンが表示されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-285">As we saw earlier, the CommandField contains a number of `ShowXButton` properties that indicate what series of buttons are displayed in the CommandField.</span></span> <span data-ttu-id="dfcb5-286">追加の編集を有効にするチェック ボックスをオン、`ShowEditButton`既存 CommandField プロパティ。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-286">Checking the Enable Editing checkbox adds the `ShowEditButton` property to the existing CommandField:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample6.aspx)]

<span data-ttu-id="dfcb5-287">すべて基本的な編集のサポートを追加するのには存在します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-287">That's all there is to adding rudimentary editing support.</span></span> <span data-ttu-id="dfcb5-288">Figure16 に示す編集インターフェイスはなく粗雑各 BoundField を`ReadOnly`プロパティに設定されている`false`(既定) は、テキスト ボックスとしてレンダリングされます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-288">As Figure16 shows, the editing interface is rather crude each BoundField whose `ReadOnly` property is set to `false` (the default) is rendered as a TextBox.</span></span> <span data-ttu-id="dfcb5-289">ようなフィールドが含まれます`CategoryID`と`SupplierID`、他のテーブルにキーがあります。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-289">This includes fields like `CategoryID` and `SupplierID`, which are keys to other tables.</span></span>


<span data-ttu-id="dfcb5-290">[![クリックすると Chai s の編集 ボタンが編集モードで、行を表示します。](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image39.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-290">[![Clicking Chai s Edit Button Displays the Row in Edit Mode](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image39.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image38.png)</span></span>

<span data-ttu-id="dfcb5-291">**図 16**: クリックすると Chai s [編集] ボタンが編集モードで、行を表示 ([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image40.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-291">**Figure 16**: Clicking Chai s Edit Button Displays the Row in Edit Mode ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image40.png))</span></span>


<span data-ttu-id="dfcb5-292">外部キーの値を直接編集するユーザーを確認するだけでなく編集インターフェイスのインターフェイスは、次の方法で不足しています。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-292">In addition to asking users to edit foreign key values directly, the editing interface's interface is lacking in the following ways:</span></span>

- <span data-ttu-id="dfcb5-293">ユーザーが入力した場合、`CategoryID`または`SupplierID`、データベースに存在しない、`UPDATE`が発生する例外を発生させる、外部キー制約に違反します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-293">If the user enters a `CategoryID` or `SupplierID` that does not exist in the database, the `UPDATE` will violate a foreign key constraint, causing an exception to be raised.</span></span>
- <span data-ttu-id="dfcb5-294">編集のインターフェイスには、いずれかの検証が含まれていません。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-294">The editing interface doesn't include any validation.</span></span> <span data-ttu-id="dfcb5-295">必須の値を指定しない場合 (など`ProductName`)、または入力文字列 (「が多すぎる!」を入力するなどの数値が必要な場所</span><span class="sxs-lookup"><span data-stu-id="dfcb5-295">If you don't provide a required value (such as `ProductName`), or enter a string value where a numeric value is expected (such as entering "Too much!"</span></span> <span data-ttu-id="dfcb5-296">`UnitPrice`  ボックスに)、例外がスローされます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-296">into the `UnitPrice` textbox), an exception will be thrown.</span></span> <span data-ttu-id="dfcb5-297">今後のチュートリアルでは、編集のユーザー インターフェイスに検証コントロールを追加する方法を確認します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-297">A future tutorial will examine how to add validation controls to the editing user interface.</span></span>
- <span data-ttu-id="dfcb5-298">現在、*すべて*GridView で読み取り専用ではない製品フィールドを含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-298">Currently, *all* product fields that are not read-only must be included in the GridView.</span></span> <span data-ttu-id="dfcb5-299">GridView からフィールドを削除する場合、たとえば`UnitPrice`GridView のデータ更新が設定されていない場合、 `UnitPrice` `UpdateParameters`値で、変更、データベース レコードの`UnitPrice`を`NULL`値。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-299">If we were to remove a field from the GridView, say `UnitPrice`, when updating the data the GridView would not set the `UnitPrice` `UpdateParameters` value, which would change the database record's `UnitPrice` to a `NULL` value.</span></span> <span data-ttu-id="dfcb5-300">同様に場合の必須フィールドなど`ProductName`が削除された GridView から更新プログラムは同じで失敗"*列 'ProductName' が null を許容しない*"例外が上記です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-300">Similarly, if a required field, such as `ProductName`, is removed from the GridView, the update will fail with the same "*Column 'ProductName' does not allow nulls*" exception mentioned above.</span></span>
- <span data-ttu-id="dfcb5-301">必要なことはたくさんのまま編集のインターフェイスの書式設定します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-301">The editing interface formatting leaves a lot to be desired.</span></span> <span data-ttu-id="dfcb5-302">`UnitPrice`が 4 つの 10 進数のポイントを表示します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-302">The `UnitPrice` is shown with four decimal points.</span></span> <span data-ttu-id="dfcb5-303">理想的には、`CategoryID`と`SupplierID`値には、システム内のカテゴリと仕入先を一覧表示 DropDownLists にが含まれます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-303">Ideally the `CategoryID` and `SupplierID` values would contain DropDownLists that list the categories and suppliers in the system.</span></span>

<span data-ttu-id="dfcb5-304">これらをここがの有効期限がないすべての欠点は、今後のチュートリアルでアドレス指定することです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-304">These are all shortcomings that we'll have to live with for now, but will be addressed in future tutorials.</span></span>

## <a name="inserting-editing-and-deleting-data-with-the-detailsview"></a><span data-ttu-id="dfcb5-305">挿入する、編集、および DetailsView でデータを削除します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-305">Inserting, Editing, and Deleting Data with the DetailsView</span></span>

<span data-ttu-id="dfcb5-306">以前のチュートリアルでは、コントロールを一度に 1 つのレコードを表示でき、GridView のように編集および現在表示されているレコードの削除を DetailsView 説明しました。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-306">As we've seen in earlier tutorials, the DetailsView control displays one record at a time and, like the GridView, allows for editing and deleting of the currently displayed record.</span></span> <span data-ttu-id="dfcb5-307">DetailsView と ASP.NET 側からワークフローのアイテムの削除を編集して両方、エンドユーザーのエクスペリエンスは GridView のものと同じです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-307">Both the end user's experience with editing and deleting items from a DetailsView and the workflow from the ASP.NET side is identical to that of the GridView.</span></span> <span data-ttu-id="dfcb5-308">DetailsView と異なる GridView は、挿入の組み込みサポートも提供します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-308">Where the DetailsView differs from the GridView is that it also provides built-in inserting support.</span></span>

<span data-ttu-id="dfcb5-309">GridView のデータ変更機能を示すためを起動する DetailsView を追加することによって、`Basics.aspx`既存 GridView 上のページし、DetailsView のスマート タグから既存の ObjectDataSource にバインドします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-309">To demonstrate the data modification capabilities of the GridView, start by adding a DetailsView to the `Basics.aspx` page above the existing GridView and bind it to the existing ObjectDataSource through the DetailsView's smart tag.</span></span> <span data-ttu-id="dfcb5-310">次に、DetailsView をクリアします`Height`と`Width`プロパティ、およびスマート タグからのページングを有効にするオプションをチェックします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-310">Next, clear out the DetailsView's `Height` and `Width` properties, and check the Enable Paging option from the smart tag.</span></span> <span data-ttu-id="dfcb5-311">編集を可能に挿入、および削除のサポート、単に編集を有効にする、挿入を有効にするには、および削除を有効にするチェック ボックスをオン スマート タグにします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-311">To enable editing, inserting, and deleting support, simply check the Enable Editing, Enable Inserting, and Enable Deleting checkboxes in the smart tag.</span></span>


![サポートの編集、挿入、および削除を DetailsView を構成します。](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image41.png)

<span data-ttu-id="dfcb5-313">**図 17**: サポートの編集、挿入、および削除を DetailsView を構成します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-313">**Figure 17**: Configure the DetailsView to Support Editing, Inserting, and Deleting</span></span>


<span data-ttu-id="dfcb5-314">として、GridView、編集、追加で挿入、またはサポートを削除、CommandField を DetailsView、として追加宣言の構文を示します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-314">As with the GridView, adding editing, inserting, or deleting support adds a CommandField to the DetailsView, as the following declarative syntax shows:</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample7.aspx)]

<span data-ttu-id="dfcb5-315">なお DetailsView、CommandField の既定で列のコレクションの末尾に表示されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-315">Note that for the DetailsView the CommandField appears at the end of the Columns collection by default.</span></span> <span data-ttu-id="dfcb5-316">DetailsView のフィールドは行としてレンダリングされます、Insert の行として表示されます、CommandField のため、編集、および、DetailsView の下部にあるボタンを削除します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-316">Since the DetailsView's fields are rendered as rows, the CommandField appears as a row with Insert, Edit, and Delete buttons at the bottom of the DetailsView.</span></span>


<span data-ttu-id="dfcb5-317">[![サポートの編集、挿入、および削除を DetailsView を構成します。](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image43.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image42.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-317">[![Configure the DetailsView to Support Editing, Inserting, and Deleting](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image43.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image42.png)</span></span>

<span data-ttu-id="dfcb5-318">**図 18**: 編集をサポート、挿入、および削除を DetailsView を構成する ([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image44.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-318">**Figure 18**: Configure the DetailsView to Support Editing, Inserting, and Deleting ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image44.png))</span></span>


<span data-ttu-id="dfcb5-319">GridView と同様のイベントの同じシーケンスを開始する [削除] ボタンをクリックすると: ポストバック; a設定、ObjectDataSource の DetailsView 続けて`DeleteParameters`に基づいて、 `DataKeyNames` ; の値し、その ObjectDataSource の呼び出しで完了`Delete()`メソッドで、実際には、データベースから製品を削除します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-319">Clicking on the Delete button starts the same sequence of events as with the GridView: a postback; followed by the DetailsView populating its ObjectDataSource's `DeleteParameters` based on the `DataKeyNames` values; and completed with a call its ObjectDataSource's `Delete()` method, which actually removes the product from the database.</span></span> <span data-ttu-id="dfcb5-320">DetailsView で編集でも、GridView のものと同じ方法で動作します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-320">Editing in the DetailsView also works in a fashion identical to that of the GridView.</span></span>

<span data-ttu-id="dfcb5-321">挿入すると、エンドユーザーが表示されます、New とボタンをクリックすると、「insert モード」で DetailsView のレンダリング</span><span class="sxs-lookup"><span data-stu-id="dfcb5-321">For inserting, the end user is presented with a New button that, when clicked, renders the DetailsView in "insert mode."</span></span> <span data-ttu-id="dfcb5-322">「挿入モード」では、新しいボタンが置き換え挿入し、[キャンセル] ボタンとそれらの BoundFields のみが`InsertVisible`プロパティに設定されている`true`(既定) が表示されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-322">With "insert mode" the New button is replaced by Insert and Cancel buttons and only those BoundFields whose `InsertVisible` property is set to `true` (the default) are displayed.</span></span> <span data-ttu-id="dfcb5-323">など、自動インクリメント フィールドとして識別されるデータ フィールド`ProductID`がその[InsertVisible プロパティ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.insertvisible(VS.80).aspx)'éý' `false` DetailsView をスマート タグからのデータ ソースにバインドするときにします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-323">Those data fields identified as auto-increment fields, such as `ProductID`, have their [InsertVisible property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.insertvisible(VS.80).aspx) set to `false` when binding the DetailsView to the data source through the smart tag.</span></span>

<span data-ttu-id="dfcb5-324">Visual Studio の設定、スマート タグから DetailsView にデータ ソースをバインドするときに、`InsertVisible`プロパティを`false`自動インクリメント フィールドに対してのみです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-324">When binding a data source to a DetailsView through the smart tag, Visual Studio sets the `InsertVisible` property to `false` only for auto-increment fields.</span></span> <span data-ttu-id="dfcb5-325">読み取り専用のフィールドと同様に`CategoryName`と`SupplierName`、しない限り、「insert モード」のユーザー インターフェイスに表示されます、`InsertVisible`プロパティ明示的に`false`です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-325">Read-only fields, like `CategoryName` and `SupplierName`, will be displayed in the "insert mode" user interface unless their `InsertVisible` property is explicitly set to `false`.</span></span> <span data-ttu-id="dfcb5-326">これら 2 つのフィールドを設定するには、しばらく時間かかる`InsertVisible`プロパティを`false`、スマート タグのリンク DetailsView の宣言構文またはフィールドを編集します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-326">Take a moment to set these two fields' `InsertVisible` properties to `false`, either through the DetailsView's declarative syntax or through the Edit Fields link in the smart tag.</span></span> <span data-ttu-id="dfcb5-327">図 19 の設定を表示する、`InsertVisible`プロパティを`false`でフィールドの編集 をクリックしてリンクします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-327">Figure 19 shows setting the `InsertVisible` properties to `false` by clicking on the Edit Fields link.</span></span>


<span data-ttu-id="dfcb5-328">[![Northwind traders 社に Acme Tea が用意されています](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image46.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-328">[![Northwind Traders Now Offers Acme Tea](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image46.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image45.png)</span></span>

<span data-ttu-id="dfcb5-329">**図 19**: Northwind Traders ここでは、Acme 紅茶 ([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image47.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-329">**Figure 19**: Northwind Traders Now Offers Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image47.png))</span></span>


<span data-ttu-id="dfcb5-330">設定した後、`InsertVisible`プロパティ、ビュー、`Basics.aspx`ブラウザーでページおよび新しいボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-330">After setting the `InsertVisible` properties, view the `Basics.aspx` page in a browser and click the New button.</span></span> <span data-ttu-id="dfcb5-331">新しい飲み物を追加するときに、図 20 が DetailsView を示しています、製品ラインに、Acme Tea です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-331">Figure 20 shows the DetailsView when adding a new beverage, Acme Tea, to our product line.</span></span>


<span data-ttu-id="dfcb5-332">[![Northwind traders 社に Acme Tea が用意されています](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image49.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-332">[![Northwind Traders Now Offers Acme Tea](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image49.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image48.png)</span></span>

<span data-ttu-id="dfcb5-333">**図 20**: Northwind Traders ここでは、Acme 紅茶 ([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image50.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-333">**Figure 20**: Northwind Traders Now Offers Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image50.png))</span></span>


<span data-ttu-id="dfcb5-334">ポストバックに陥ります Acme 紅茶の詳細を入力すると、[挿入] ボタンをクリックするとに、新しいレコードを追加、`Products`データベース テーブルです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-334">After entering the details for Acme Tea and clicking the Insert button, a postback ensues and the new record is added to the `Products` database table.</span></span> <span data-ttu-id="dfcb5-335">この DetailsView には、データベース テーブルに存在する順序では、製品が一覧表示、ためお必要がありますページの最後の製品、新しい製品を確認するためにします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-335">Since this DetailsView lists the products in order with which they exist in the database table, we must page to the last product in order to see the new product.</span></span>


<span data-ttu-id="dfcb5-336">[![Acme 紅茶の詳細](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image52.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image51.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-336">[![Details for Acme Tea](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image52.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image51.png)</span></span>

<span data-ttu-id="dfcb5-337">**図 21**: Acme 紅茶の詳細 ([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image53.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-337">**Figure 21**: Details for Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image53.png))</span></span>


> [!NOTE]
> <span data-ttu-id="dfcb5-338">DetailsView の[CurrentMode プロパティ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.currentmode(VS.80).aspx)表示されているインターフェイスを示し、値は次のいずれかになります: `Edit`、 `Insert`、または`ReadOnly`です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-338">The DetailsView's [CurrentMode property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.currentmode(VS.80).aspx) indicates the interface being displayed and can be one of the following values: `Edit`, `Insert`, or `ReadOnly`.</span></span> <span data-ttu-id="dfcb5-339">[DefaultMode プロパティ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.defaultmode(VS.80).aspx)を示し、DetailsView が、編集の後に戻るか、または挿入モードが完了したは永続的に編集または挿入モードを DetailsView を表示するために便利です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-339">The [DefaultMode property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.defaultmode(VS.80).aspx) indicates the mode the DetailsView returns to after an edit or insert has been completed and is useful for displaying a DetailsView that is permanently in edit or insert mode.</span></span>


<span data-ttu-id="dfcb5-340">ポイント アンド クリックを挿入して、編集、DetailsView の機能は、GridView と同じ制限に悩まさ: 既存のユーザーが入力する必要があります`CategoryID`と`SupplierID`テキスト ボックスを使用して値以外のインターフェイスに検証ロジック以外のすべて許可されていない製品フィールド`NULL`値または、既定値がありません。 挿入のインターフェイスを示すで、データベース レベルで指定された値を含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-340">The point and click inserting and editing capabilities of the DetailsView suffer from the same limitations as the GridView: the user must enter existing `CategoryID` and `SupplierID` values through a textbox; the interface lacks any validation logic; all product fields that do not allow `NULL` values or don't have a default value specified at the database level must be included in the inserting interface, and so on.</span></span>

<span data-ttu-id="dfcb5-341">方法について調べますの拡張、および強化 GridView の編集用のインターフェイスで将来 DetailsView コントロールの編集と同様のインターフェイスを挿入するのにはアーティクルを適用できます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-341">The techniques we will examine for extending and enhancing the GridView's editing interface in future articles can be applied to the DetailsView control's editing and inserting interfaces as well.</span></span>

## <a name="using-the-formview-for-a-more-flexible-data-modification-user-interface"></a><span data-ttu-id="dfcb5-342">FormView を使用して、柔軟なデータ変更のユーザー インターフェイスについて</span><span class="sxs-lookup"><span data-stu-id="dfcb5-342">Using the FormView for a More Flexible Data Modification User Interface</span></span>

<span data-ttu-id="dfcb5-343">FormView データの削除、挿入、編集、およびの組み込みサポートを提供するにはフィールドではなくテンプレートを使用しているため、BoundFields またはデータを提供する、GridView と DetailsView コントロールで使用される CommandField を追加する場所変更のインターフェイスです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-343">The FormView offers built-in support for inserting, editing, and deleting data, but because it uses templates instead of fields there's no place to add the BoundFields or the CommandField used by the GridView and DetailsView controls to provide the data modification interface.</span></span> <span data-ttu-id="dfcb5-344">代わりに、ユーザーを収集するための Web コントロール新しい項目の追加時の入力または編集、削除、挿入、更新、およびキャンセル ボタン、新規と既存の 1 つの編集は、このインターフェイスは、適切なテンプレートを手動で追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-344">Instead, this interface the Web controls for collecting user input when adding a new item or editing an existing one along with the New, Edit, Delete, Insert, Update, and Cancel buttons must be added manually to the appropriate templates.</span></span> <span data-ttu-id="dfcb5-345">幸いにも、Visual Studio が自動的に作成、必要なインターフェイスのスマート タグで、ドロップダウン リストをデータ ソースに、フォーム ビューをバインドするときにします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-345">Fortunately, Visual Studio will automatically create the needed interface when binding the FormView to a data source through the drop-down list in its smart tag.</span></span>

<span data-ttu-id="dfcb5-346">これらの手法を示すためを起動する FormView を追加することによって、`Basics.aspx`ページし、フォーム ビューのスマート タグから既に作成 ObjectDataSource にバインドします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-346">To illustrate these techniques, start by adding a FormView to the `Basics.aspx` page and, from the FormView's smart tag, bind it to the ObjectDataSource already created.</span></span> <span data-ttu-id="dfcb5-347">これが生成されます、 `EditItemTemplate`、 `InsertItemTemplate`、および`ItemTemplate`新規のユーザーの入力とボタンの Web コントロールを収集するための TextBox Web コントロールをフォーム ビュー、編集、削除、挿入、更新、およびキャンセル ボタン。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-347">This will generate an `EditItemTemplate`, `InsertItemTemplate`, and `ItemTemplate` for the FormView with TextBox Web controls for collecting the user's input and Button Web controls for the New, Edit, Delete, Insert, Update, and Cancel buttons.</span></span> <span data-ttu-id="dfcb5-348">さらに、FormView の`DataKeyNames`プロパティが主キー フィールドに設定 (`ProductID`)、ObjectDataSource によって返されるオブジェクトの。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-348">Additionally, the FormView's `DataKeyNames` property is set to the primary key field (`ProductID`) of the object returned by the ObjectDataSource.</span></span> <span data-ttu-id="dfcb5-349">最後に、フォーム ビューのスマート タグの表示でページングを有効にするオプションを確認します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-349">Lastly, check the Enable Paging option in the FormView's smart tag.</span></span>

<span data-ttu-id="dfcb5-350">FormView の宣言型マークアップを次に示します`ItemTemplate`FormView、ObjectDataSource をバインドした後です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-350">The following shows the declarative markup for the FormView's `ItemTemplate` after the FormView has been bound to the ObjectDataSource.</span></span> <span data-ttu-id="dfcb5-351">既定では、各非ブール値 product フィールドがバインドされている、`Text`ブール値の各フィールドの中にラベル Web コントロールのプロパティ (`Discontinued`) にバインドされて、`Checked`無効になっているチェック ボックスをオン Web コントロールのプロパティです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-351">By default, each non-Boolean value product field is bound to the `Text` property of a Label Web control while each Boolean value field (`Discontinued`) is bound to the `Checked` property of a disabled CheckBox Web control.</span></span> <span data-ttu-id="dfcb5-352">命令型は、新規、編集、および削除のボタン クリックされたときに特定のフォーム ビューの動作をトリガーするためを`CommandName`値に設定されます`New`、 `Edit`、および`Delete`、それぞれします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-352">In order for the New, Edit, and Delete buttons to trigger certain FormView behavior when clicked, it is imperative that their `CommandName` values be set to `New`, `Edit`, and `Delete`, respectively.</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample8.aspx)]

<span data-ttu-id="dfcb5-353">図 22 示します FormView の`ItemTemplate`ブラウザーで表示したときにします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-353">Figure 22 shows the FormView's `ItemTemplate` when viewed through a browser.</span></span> <span data-ttu-id="dfcb5-354">下部にある、新規、編集、および削除のボタンを持つ各 product フィールドが表示されます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-354">Each product field is listed with the New, Edit, and Delete buttons at the bottom.</span></span>


<span data-ttu-id="dfcb5-355">[![既定の FormView ItemTemplate と共に新しい各 Product フィールドを一覧表示、編集、およびボタンを削除](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image55.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image54.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-355">[![The Defaut FormView ItemTemplate Lists Each Product Field Along with New, Edit, and Delete Buttons](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image55.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image54.png)</span></span>

<span data-ttu-id="dfcb5-356">**図 22**:「既定 FormView`ItemTemplate`一覧各製品フィールドに沿った新規編集、および削除ボタンを使用 ([フルサイズのイメージを表示するには、をクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image56.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-356">**Figure 22**: The Defaut FormView `ItemTemplate` Lists Each Product Field Along with New, Edit, and Delete Buttons ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image56.png))</span></span>


<span data-ttu-id="dfcb5-357">などの GridView と削除 ボタンまたは、ボタン、LinkButton、または ImageButton をクリックして、DetailsView で持つ`CommandName`プロパティがポストバックを Delete 原因に設定されて、ObjectDataSource の設定`DeleteParameters`FormView のに基づいて`DataKeyNames`値に設定して、ObjectDataSource を呼び出す`Delete()`メソッドです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-357">Like with the GridView and DetailsView, clicking the Delete button or any Button, LinkButton, or ImageButton whose `CommandName` property is set to Delete causes a postback, populates the ObjectDataSource's `DeleteParameters` based on the FormView's `DataKeyNames` value, and invokes the ObjectDataSource's `Delete()` method.</span></span>

<span data-ttu-id="dfcb5-358">ポストバックに陥りますにデータが再バインドの編集 ボタンがクリックされたときに、 `EditItemTemplate`、これは、編集用のインターフェイスをレンダリングします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-358">When the Edit button is clicked a postback ensues and the data is rebound to the `EditItemTemplate`, which is responsible for rendering the editing interface.</span></span> <span data-ttu-id="dfcb5-359">このインターフェイスには、更新、およびキャンセル ボタンと共にデータを編集するための Web コントロールが含まれています。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-359">This interface includes the Web controls for editing data along with the Update and Cancel buttons.</span></span> <span data-ttu-id="dfcb5-360">既定値`EditItemTemplate`によって生成された Visual Studio には、自動インクリメント フィールドのラベルが含まれています (`ProductID`)、各非ブール値フィールドをテキスト ボックスおよびブール値の各フィールドのチェック ボックスをオンします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-360">The default `EditItemTemplate` generated by Visual Studio contains a Label for any auto-increment fields (`ProductID`), a TextBox for each non-Boolean value field, and a CheckBox for each Boolean value field.</span></span> <span data-ttu-id="dfcb5-361">この動作は、GridView および DetailsView コントロールに自動生成された BoundFields によく似ています。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-361">This behavior is very similar to the auto-generated BoundFields in the GridView and DetailsView controls.</span></span>

> [!NOTE]
> <span data-ttu-id="dfcb5-362">FormView の自動生成を小さな問題の 1 つ、`EditItemTemplate`レンダリング ボックスに Web にそれらのフィールドは読み取り専用などをコントロールには、`CategoryName`と`SupplierName`です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-362">One small issue with the FormView's auto-generation of the `EditItemTemplate` is that it renders TextBox Web controls for those fields that are read-only, such as `CategoryName` and `SupplierName`.</span></span> <span data-ttu-id="dfcb5-363">この問題に対応する方法をお見せ直後。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-363">We'll see how to account for this shortly.</span></span>


<span data-ttu-id="dfcb5-364">テキスト ボックス コントロールで、`EditItemTemplate`がその`Text`プロパティの対応するフィールドを使用してデータの値にバインド*双方向データ バインド*です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-364">The TextBox controls in the `EditItemTemplate` have their `Text` property bound to the value of their corresponding data field using *two-way databinding*.</span></span> <span data-ttu-id="dfcb5-365">示される双方向データ バインド、`<%# Bind("dataField") %>`テンプレートにデータをバインドするとき、およびレコードの編集を挿入したり、ObjectDataSource のパラメーターを設定するときに両方のデータをバインドを実行します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-365">Two-way databinding, denoted by `<%# Bind("dataField") %>`, performs databinding both when binding data to the template and when populating the ObjectDataSource's parameters for inserting or editing records.</span></span> <span data-ttu-id="dfcb5-366">つまり、ユーザーをクリックしたときから、[編集]、 `ItemTemplate`、`Bind()`メソッドは、指定したデータ フィールドの値を返します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-366">That is, when the user clicks the Edit button from the `ItemTemplate`, the `Bind()` method returns the specified data field value.</span></span> <span data-ttu-id="dfcb5-367">ユーザーは、変更を行い、更新プログラムをクリックして後の値がポスト バックされた対応するを使用して指定データ フィールドに`Bind()`ObjectDataSource に適用される`UpdateParameters`です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-367">After the user makes their changes and clicks Update, the values posted back that correspond to the data fields specified using `Bind()` are applied to the ObjectDataSource's `UpdateParameters`.</span></span> <span data-ttu-id="dfcb5-368">一方向のデータ バインドがで示される代わりに、 `<%# Eval("dataField") %>`、のみをテンプレートにデータをバインドするときに、データ フィールドの値を取得およびは*いない*ポストバック時にデータ ソースのパラメーターにユーザーが入力した値を返します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-368">Alternatively, one-way databinding, denoted by `<%# Eval("dataField") %>`, only retrieves the data field values when binding data to the template and does *not* return the user-entered values to the data source's parameters on postback.</span></span>

<span data-ttu-id="dfcb5-369">次の宣言型マークアップ示します FormView の`EditItemTemplate`します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-369">The following declarative markup shows the FormView's `EditItemTemplate`.</span></span> <span data-ttu-id="dfcb5-370">なお、`Bind()`メソッドは、データ バインドの構文で使用され、更新とキャンセル ボタンの Web コントロールがある、`CommandName`を適宜設定のプロパティです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-370">Note that the `Bind()` method is used in the databinding syntax here and that the Update and Cancel Button Web controls have their `CommandName` properties set accordingly.</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample9.aspx)]

<span data-ttu-id="dfcb5-371">当社`EditItemTemplate`、このポイントし、それを使用しようとしている場合にスローされる例外が発生します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-371">Our `EditItemTemplate`, at this point, will cause an exception to be thrown if we attempt to use it.</span></span> <span data-ttu-id="dfcb5-372">問題は、`CategoryName`と`SupplierName`TextBox Web コントロールのようにフィールドが表示される、`EditItemTemplate`です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-372">The problem is that the `CategoryName` and `SupplierName` fields are rendered as TextBox Web controls in the `EditItemTemplate`.</span></span> <span data-ttu-id="dfcb5-373">か、これらのテキスト ボックスをラベルに変更するか、それらを完全に削除する必要があります。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-373">We either need to change these TextBoxes to Labels or remove them altogether.</span></span> <span data-ttu-id="dfcb5-374">単に削除から完全に、`EditItemTemplate`です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-374">Let's simply delete them entirely from the `EditItemTemplate`.</span></span>

<span data-ttu-id="dfcb5-375">図 23 Chai の編集 ボタンがクリックしてされた後に、ブラウザーで、フォーム ビューを示しています。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-375">Figure 23 shows the FormView in a browser after the Edit button has been clicked for Chai.</span></span> <span data-ttu-id="dfcb5-376">なお、`SupplierName`と`CategoryName`で表示されるフィールド、`ItemTemplate`だけから削除したとは、存在しなく、`EditItemTemplate`です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-376">Note that the `SupplierName` and `CategoryName` fields shown in the `ItemTemplate` are no longer present, as we just removed them from the `EditItemTemplate`.</span></span> <span data-ttu-id="dfcb5-377">[更新] ボタンがクリックされたときに、フォーム ビュー、GridView と DetailsView コントロールとして同じ一連の手順を進めです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-377">When the Update button is clicked the FormView proceeds through the same sequence of steps as the GridView and DetailsView controls.</span></span>


<span data-ttu-id="dfcb5-378">[![既定で、EditItemTemplate が各編集可能な製品フィールドをテキスト ボックスまたはチェック ボックスを表示します。](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image58.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image57.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-378">[![By Default the EditItemTemplate Shows Each Editable Product Field as a TextBox or CheckBox](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image58.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image57.png)</span></span>

<span data-ttu-id="dfcb5-379">**図 23**: 既定では、`EditItemTemplate`示します各編集可能な製品フィールドとしてテキスト ボックスやチェック ボックスをオン ([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image59.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-379">**Figure 23**: By Default the `EditItemTemplate` Shows Each Editable Product Field as a TextBox or CheckBox ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image59.png))</span></span>


<span data-ttu-id="dfcb5-380">[挿入] ボタンが FormView のクリックされたときに`ItemTemplate`ポストバックに陥ります。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-380">When the Insert button is clicked the FormView's `ItemTemplate` a postback ensues.</span></span> <span data-ttu-id="dfcb5-381">ただし、データがバインドされていない、フォーム ビューに新しいレコードが追加されているためです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-381">However, no data is bound to the FormView because a new record is being added.</span></span> <span data-ttu-id="dfcb5-382">`InsertItemTemplate`インターフェイスに挿入し、[キャンセル] ボタンと、新しいレコードを追加するための Web コントロールが含まれています。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-382">The `InsertItemTemplate` interface includes the Web controls for adding a new record along with the Insert and Cancel buttons.</span></span> <span data-ttu-id="dfcb5-383">既定値`InsertItemTemplate`によって生成された Visual Studio には、各非ブール値フィールドをテキスト ボックスと、自動生成されるように各ブール値フィールドのチェック ボックスが含まれています。`EditItemTemplate`のインターフェイスです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-383">The default `InsertItemTemplate` generated by Visual Studio contains a TextBox for each non-Boolean value field and a CheckBox for each Boolean value field, similar to the auto-generated `EditItemTemplate`'s interface.</span></span> <span data-ttu-id="dfcb5-384">TextBox コントロールがその`Text`プロパティが双方向データ バインドを使用して、対応するデータ フィールドの値にバインドします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-384">The TextBox controls have their `Text` property bound to the value of their corresponding data field using two-way databinding.</span></span>

<span data-ttu-id="dfcb5-385">次の宣言型マークアップ示します FormView の`InsertItemTemplate`します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-385">The following declarative markup shows the FormView's `InsertItemTemplate`.</span></span> <span data-ttu-id="dfcb5-386">注意してください、`Bind()`メソッドは、データ バインドの構文で使用し、Insert およびキャンセル ボタンの Web コントロールがその`CommandName`プロパティを適宜設定します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-386">Note that the `Bind()` method is used in the databinding syntax here and that the Insert and Cancel Button Web controls have their `CommandName` properties set accordingly.</span></span>


[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample10.aspx)]

<span data-ttu-id="dfcb5-387">FormView の自動生成で注意が必要です、`InsertItemTemplate`です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-387">There's a subtlety with the FormView's auto-generation of the `InsertItemTemplate`.</span></span> <span data-ttu-id="dfcb5-388">でもそれらのフィールドは読み取り専用などを TextBox Web コントロールを作成する具体的には、`CategoryName`と`SupplierName`です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-388">Specifically, the TextBox Web controls are created even for those fields that are read-only, such as `CategoryName` and `SupplierName`.</span></span> <span data-ttu-id="dfcb5-389">使用するような`EditItemTemplate`からこれらのテキスト ボックスを削除する必要があります、`InsertItemTemplate`です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-389">Like with the `EditItemTemplate`, we need to remove these TextBoxes from the `InsertItemTemplate`.</span></span>

<span data-ttu-id="dfcb5-390">図 24 は、新しい製品、Acme コーヒーを追加するときに、ブラウザーで FormView を示します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-390">Figure 24 shows the FormView in a browser when adding a new product, Acme Coffee.</span></span> <span data-ttu-id="dfcb5-391">なお、`SupplierName`と`CategoryName`で表示されるフィールド、`ItemTemplate`だけ削除したとは、存在しなくです。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-391">Note that the `SupplierName` and `CategoryName` fields shown in the `ItemTemplate` are no longer present, as we just removed them.</span></span> <span data-ttu-id="dfcb5-392">[挿入] ボタンがクリックされた DetailsView コントロールとして同じ一連の手順を通じて FormView 収入ときに、新しいレコードの追加、`Products`テーブル。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-392">When the Insert button is clicked the FormView proceeds through the same sequence of steps as the DetailsView control, adding a new record to the `Products` table.</span></span> <span data-ttu-id="dfcb5-393">図 25 では、挿入された後に、FormView で Acme コーヒー製品の詳細を示します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-393">Figure 25 shows Acme Coffee product's details in the FormView after it has been inserted.</span></span>


<span data-ttu-id="dfcb5-394">[![FormView の挿入のインターフェイスを決定した後](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image61.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image60.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-394">[![The InsertItemTemplate Dictates the FormView's Inserting Interface](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image61.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image60.png)</span></span>

<span data-ttu-id="dfcb5-395">**図 24**: `InsertItemTemplate` FormView の挿入インターフェイスが決まります ([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image62.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-395">**Figure 24**: The `InsertItemTemplate` Dictates the FormView's Inserting Interface ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image62.png))</span></span>


<span data-ttu-id="dfcb5-396">[![FormView で新しい製品、Acme コーヒーの詳細が表示されます。](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image64.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image63.png)</span><span class="sxs-lookup"><span data-stu-id="dfcb5-396">[![The Details for New Product, Acme Coffee, are Displayed in the FormView](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image64.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image63.png)</span></span>

<span data-ttu-id="dfcb5-397">**図 25**: FormView で新しい製品、Acme コーヒーの詳細が表示されます ([フルサイズのイメージを表示するをクリックして](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image65.png))</span><span class="sxs-lookup"><span data-stu-id="dfcb5-397">**Figure 25**: The Details for New Product, Acme Coffee, are Displayed in the FormView ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image65.png))</span></span>


<span data-ttu-id="dfcb5-398">読み取り専用分割、編集、およびインターフェイスを次の 3 つの個別のテンプレートに挿入する FormView、DetailsView と GridView よりも細かくこれらのインターフェイスが細かく制御できます。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-398">By separating out the read-only, editing, and inserting interfaces into three separate templates, the FormView allows for a finer degree of control over these interfaces than the DetailsView and GridView.</span></span>

> [!NOTE]
> <span data-ttu-id="dfcb5-399">DetailsView、FormView のと同様に`CurrentMode`プロパティが表示されているインターフェイスを示すと、その`DefaultMode`プロパティは、編集の後にモードをフォーム ビューを返しますを示しますまたは挿入が完了しました。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-399">Like the DetailsView, the FormView's `CurrentMode` property indicates the interface being displayed and its `DefaultMode` property indicates the mode the FormView returns to after an edit or insert has been completed.</span></span>


## <a name="summary"></a><span data-ttu-id="dfcb5-400">まとめ</span><span class="sxs-lookup"><span data-stu-id="dfcb5-400">Summary</span></span>

<span data-ttu-id="dfcb5-401">このチュートリアルでは、挿入、編集、および GridView、DetailsView、フォーム ビューを使用してデータの削除の基本を検査します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-401">In this tutorial we examined the basics of inserting, editing, and deleting data using the GridView, DetailsView, and FormView.</span></span> <span data-ttu-id="dfcb5-402">これらのコントロールの 3 つすべては、Web コントロールのデータと、ObjectDataSource 感謝の ASP.NET ページで、1 つの行のコードを記述することがなく使用できる組み込みのデータ変更機能のいくつかのレベルを指定します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-402">All three of these controls provide some level of built-in data modification capabilities that can be utilized without writing a single line of code in the ASP.NET page thanks to the data Web controls and the ObjectDataSource.</span></span> <span data-ttu-id="dfcb5-403">ただし、単純なものがポイントして、かなり壊れ手法レンダリングと単純なデータ変更のユーザー インターフェイス をクリックします。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-403">However, the simple point and click techniques render a fairly frail and naïve data modification user interface.</span></span> <span data-ttu-id="dfcb5-404">検証を提供するには、プログラムで値を挿入、例外を適切に処理、ユーザー インターフェイスのカスタマイズおよび、しなければならない一連の次のいくつかのチュートリアルで説明する手法に依存します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-404">To provide validation, inject programmatic values, gracefully handle exceptions, customize the user interface, and so on, we'll need to rely on a bevy of techniques that will be discussed over the next several tutorials.</span></span>

<span data-ttu-id="dfcb5-405">満足プログラミング!</span><span class="sxs-lookup"><span data-stu-id="dfcb5-405">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="dfcb5-406">作成者について</span><span class="sxs-lookup"><span data-stu-id="dfcb5-406">About the Author</span></span>

<span data-ttu-id="dfcb5-407">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml)、7 つ受け取りますブックとの創設者の作成者[4GuysFromRolla.com](http://www.4guysfromrolla.com)、1998 年からマイクロソフトの Web テクノロジで取り組んできました。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-407">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="dfcb5-408">Scott は、コンサルタント、トレーナー、ライターとして機能します。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-408">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="dfcb5-409">最新の著書[ *Sam 学べる自分で ASP.NET 2.0 が 24 時間以内に*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-409">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="dfcb5-410">彼に到達できる[ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)彼のブログを使用して含まれているのか[ http://ScottOnWriting.NET](http://ScottOnWriting.NET)です。</span><span class="sxs-lookup"><span data-stu-id="dfcb5-410">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="dfcb5-411">次へ</span><span class="sxs-lookup"><span data-stu-id="dfcb5-411">Next</span></span>](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md)
