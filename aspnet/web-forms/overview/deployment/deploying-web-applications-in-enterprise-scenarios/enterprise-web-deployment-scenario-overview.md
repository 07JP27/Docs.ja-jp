---
uid: web-forms/overview/deployment/deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview
title: 'エンタープライズ Web 展開: シナリオの概要 |Microsoft ドキュメント'
author: jrjlee
description: このチュートリアルのセットは、ref パラメーターを提供するのにと共に、架空の企業の展開シナリオの複雑さのレベルが現実的なサンプル ソリューションを使用しています.
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/03/2012
ms.topic: article
ms.assetid: aa862153-4cd8-4e33-beeb-abf502c6664f
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview
msc.type: authoredcontent
ms.openlocfilehash: 20f6e206d6aa4bebb4936246468f5ada0e213236
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/06/2018
ms.locfileid: "30890022"
---
<a name="enterprise-web-deployment-scenario-overview"></a>エンタープライズ Web 展開: シナリオの概要
====================
によって[Jason lee 著](https://github.com/jrjlee)

[PDF をダウンロードします。](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> このチュートリアルのセットは、参照の実装を提供し、タスクとチュートリアル一般的なコンテキストを提供すると共に、架空の企業の展開シナリオの複雑さのレベルが現実的なサンプル ソリューションを使用します。 このトピックでは、チュートリアルのシナリオについて説明し、サンプル ソリューションが導入されています。


## <a name="scenario-description"></a>シナリオの説明

Fabrikam, Inc. という架空の企業はリモートの営業チームを格納し、web インターフェイスから連絡先に関する情報を取得できるようにするソリューションを作成しています。

Fabrikam, Inc. のアプリケーション ライフ サイクル管理 (ALM) のプロセスには、ソフトウェア開発プロセスのさまざまな段階で 3 つのサーバー環境に展開するソリューションが必要です。

- 開発者テストまたは「サンド ボックス」環境。
- イントラネット ベースのステージング環境。
- インターネットに接続された運用環境の場合は。

各環境があり、別の構成、セキュリティ要件と各課題が独自の展開。

### <a name="the-fabrikam-inc-server-infrastructure"></a>The Fabrikam, Inc.サーバー インフラストラクチャ

これは、Fabrikam 社の高度な開発と展開インフラストラクチャ

![](enterprise-web-deployment-scenario-overview/_static/image1.png)

開発者のワークステーション、ソース管理のインフラストラクチャ、開発者、テスト環境および Fabrikam.net ドメイン内で、イントラネットのネットワーク上のすべてのステージング環境。 実稼働環境では、ファイアウォールによって、イントラネットのネットワークから分離された、境界ネットワーク (DMZ、非武装地帯およびスクリーン サブネットとも呼ばれます) に常駐します。 これは一般的な展開シナリオ: 通常ファイアウォールまたはゲートウェイ サーバーを使用して、内部のサーバー インフラストラクチャからインターネットに接続する web サーバーを特定できます。

この例では、次のように記述されています。

- 別のビルド サーバーと Team Foundation Server (TFS) 2010 サーバーでは、ソース管理と継続的インテグレーション (CI) 機能を提供します。
- 開発者のテスト環境には、インターネット インフォメーション サービス (IIS) 7.5 web サーバーと SQL Server 2008 R2 データベース サーバーが含まれます。
- 実稼働環境には、SQL Server 2008 R2 データベース サーバーと共に、Web Farm Framework (WFF) のコント ローラー サーバーによって同期されている複数の IIS 7.5 web サーバーが含まれます。 実際には、データベース サーバーは、スケーラビリティと可用性を向上させるためにクラスタ リングやミラーリングを使用可能性があります。
- ステージング環境は可能な限りは運用環境の構成をレプリケートするよう設計されています。
- ファイアウォールおよびネットワーク分離ポリシーは、境界ネットワークに、イントラネットから直接、自動化された展開を許可していません。

各環境の構成が 2 番目のチュートリアルではさらに詳しく説明されている[Web 配置のサーバー環境の構成](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md)です。

### <a name="team-roles-for-alm"></a>ALM のチームのロール

これらのユーザーは、作成、管理、ビルド、および連絡先のマネージャー ソリューションの発行に関係しています。

- Matt 明が Fabrikam, Inc. の web アプリケーション開発者です。彼は、Visual Studio 2010 を使用して、連絡先のマネージャー ソリューションを開発チームの一部です。 Matt を自分のニーズを満たすために環境を構成することができます開発者テスト環境は、サーバーの完全な管理者権限を持ちます。 彼は、ユーザー、連絡先のマネージャー ソリューションのソース コードを格納彼は、Visual Studio 2010 の TFS インスタンスへのアクセスもあります。
- Rob Walters は、Fabrikam, Inc. の開発チームのサーバーの管理者です。 Rob に管理アクセス権、TFS サーバーできるように、TFS およびチーム ビルドのすべての側面を構成できます。 Rob はまた、テスト サーバーとステージング web サーバーに管理者権限でアクセスし、テストとステージング環境のデータベース サーバーのデータベース管理者 (DBA) として機能します。 Rob が構成されているチーム ビルドでこれらのタスクを実行するために、TFS サーバー。

    - ビルドして、ユーザーが TFS にファイルをチェックインするたびに、アプリケーションで単体テストを実行します。 これにより、構成項目が呼び出されます。
    - アプリケーションが単体テストに合格した後、テスト環境への連絡先のマネージャー アプリケーションを自動的に展開します。 これには、最初の展開およびすべての更新をデータベースにテスト サーバーに初期デプロイ後、データベースのパブリッシュが含まれます。
    - 1 つの手順のステージング環境に連絡先のマネージャー アプリケーションを展開します。
    - 運用環境にアプリケーションを発行する Web サーバーの管理者と DBA が使用できる Web パッケージを作成します。
- Lisa Andrews が、Fabrikam, Inc. の実稼働サーバーへのアプリケーションの展開を担当するサーバーの管理者です。 TFS チーム ビルドを格納する場所、web 展開パッケージで連絡先のマネージャー アプリケーションをビルドしたら、共有に対する読み取りアクセス権を持ちます。 それを実稼働環境にアプリケーションをデプロイ彼女が実稼働 web サーバーへの管理アクセスもあります。 さらに、彼女は、データベースとデータベースの更新プログラムを実稼働環境でデータベース サーバーに配置する DBA として機能します。

<a id="_The_Contact_Manager"></a>

### <a name="the-contact-manager-solution"></a>連絡先のマネージャー ソリューション

お問い合わせください Manager ソリューションは、登録されている場合、ログインしているユーザーの追加し、web インターフェイスから連絡先に関する情報を編集できるように設計されています。 連絡先のマネージャー ソリューションは、次の 4 つの個々 のプロジェクトで構成されます。

![](enterprise-web-deployment-scenario-overview/_static/image2.png)

- **ContactManager.Mvc**です。 これは、ASP.NET MVC3 web アプリケーション プロジェクトをソリューションのエントリ ポイントを表すです。 ユーザーの作成し、連絡先の詳細を表示する機能に提供など、いくつかの基本的な web アプリケーション機能を提供します。 アプリケーションは、取引先担当者および認証と承認を管理する ASP.NET アプリケーション サービス データベースを管理する Windows Communication Foundation (WCF) サービスに依存します。
- **ContactManager.Database**です。 これは、Visual Studio 2010 データベース プロジェクトです。 プロジェクトでは、連絡先の詳細をストア データベース用のスキーマを定義します。
- **ContactManager.Service**です。 これは、WCF web サービス プロジェクトです。 実行する呼び出し元を許可するエンドポイントを作成する WCF の公開を取得するには、更新、および削除 (CRUD) 操作にお問い合わせください Manager データベースにします。 サービスは、連絡先のマネージャーのデータベースと ContactManager.Common.dll アセンブリに依存します。
- **ContactManager.Common**です。 これは、クラス ライブラリ プロジェクトです。 WCF サービスは、このアセンブリで定義されている型に依存します。

このシリーズの最初のチュートリアルでは、ソリューションとその展開の要件を十分に確認が提供される[、企業内の Web 配置](../web-deployment-in-the-enterprise/web-deployment-in-the-enterprise.md)です。

<a id="_Deployment_Tasks"></a>

## <a name="deployment-tasks"></a>配置タスク

大規模な組織のさまざまな環境にアプリケーションを展開するのには、複数の個別のタスクがあります。 チュートリアルでは、対応する主なタスクを次に示します。

![](enterprise-web-deployment-scenario-overview/_static/image3.png)

このドキュメントで前述したユーザーの観点から、展開プロセスの各手順の一覧を次に示します。

1. チームのすべてのメンバーは、主な配置の要件と問題を特定の Visual Studio 2010 での連絡先のマネージャー ソリューションを確認します。
2. Matt 明では、開発者テスト環境のデプロイ ロジックの最初のテストを実行するために開発者のワークステーションから直接連絡先のマネージャー ソリューションを配置可能性があります。
3. Matt 明では、TFS でソース管理にアプリケーションを追加します。
4. Rob Walters では、チーム ビルドで、連絡先のマネージャー ソリューションのさまざまなビルド定義を作成します。 1 つのビルド定義は、新しいコードに、ユーザーがチェックインされるたびに、開発者のテスト環境にソリューションを配置するのに構成項目を使用します。 別のビルド定義には、必要に応じてステージング環境へのユーザー トリガーの展開ことができます。
5. ユーザーが新しいコードをチェックインするたびにチーム ビルドに自動的にソリューションのコンポーネントをビルド、単体テストを実行およびビルドが成功した場合はテスト環境を開発者と単体テストの成功にソリューションを展開します。
6. ユーザーには、ステージング環境にデプロイがトリガーされたときに、ソリューションがパッケージ化され、1 つの手順で展開します。 このプロセスには、運用環境に手動で展開パッケージも生成されます。
7. Lisa Andrews は、手順 6 で作成した web パッケージを手動でインポートして、運用環境にアプリケーションを展開します。

### <a name="key-deployment-issues"></a>主な配置の問題

連絡先のマネージャー ソリューションおよび Fabrikam, Inc. のシナリオには、さまざまな一般的な問題と複合型、エンタープライズ規模のソリューションを展開するときに発生する課題が強調表示します。 例えば:

- する必要がある開発者と同様に、複数の環境にプロジェクトを配置するテスト環境、ステージング プラットフォームでは、および実稼働サーバー。 ソリューションは、それぞれの環境のさまざまな構成設定を展開する必要があります。
- シングル ステップまたは自動ビルドおよび配置プロセスの一部として同時に複数の依存プロジェクトを展開する必要があります。
- 自動化されたプロセスからドライブの展開にでく必要があります。 たとえば、CI のプロセスを使用して、新しいコードをチェックインするときに、ステージング環境への web アプリケーションを展開することができます。
- 開発者は、適切な構成設定またはすべてのターゲット環境に必要な資格情報を持つ可能性の高い展開プロセスを制御し、Visual Studio の外部からの展開の変数を設定することである必要があります。
- データベースのスキーマに基づくプロジェクトを展開し、後続のデプロイに既存のデータを保持する必要があります。
- ユーザー アカウントのデータを配置することがなく、アド ホックごとにメンバーシップ データベースを展開する必要があります。 また、既存のユーザー アカウントのデータを失うことがなく展開済みのメンバーシップ データベースのスキーマを更新する必要があります。
- さまざまなターゲット環境にコンテンツを展開するときに、特定のファイルまたはフォルダーを除外する必要があります。

さらに、更新プログラムが頻繁に行われると、増分展開を管理するにはいくつか追加の課題をスローします。 例えば:

- 開発者は新しいコードをチェックインするたびに、単体テストを実行します。 コードの単体テストに合格した場合は、ソリューションを配置するだけです。
- ユーザーをリダイレクトするステージングまたは運用環境への web アプリケーションを展開するときに、*アプリ\_offline.htm*展開プロセスの実行中のファイルです。
- 展開活動はログに記録するには。 展開プロセスでは、指定した受信者に成功したか失敗した展開の電子メール通知を送信する必要があります。
- 自動展開が失敗した場合、展開プロセスは、現在のデプロイを再試行してくださいか、代わりに、上の web パッケージを展開ください。

> [!div class="step-by-step"]
> [前へ](deploying-web-applications-in-enterprise-scenarios.md)
> [次へ](application-lifecycle-management-from-development-to-production.md)
