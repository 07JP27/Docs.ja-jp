---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/deploying-web-packages
title: Web パッケージを展開する |Microsoft ドキュメント
author: jrjlee
description: このトピックでは、インターネット インフォメーション サービス (IIS) Web 配置ツール (Web... を使用して、リモート サーバーに web 配置パッケージを発行する方法について説明します
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/04/2012
ms.topic: article
ms.assetid: a5c5eed2-8683-40a5-a2e1-35c9f8d17c29
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/deploying-web-packages
msc.type: authoredcontent
ms.openlocfilehash: 5d3af0fdcc6e7ae20194ba658e0cf72ad22c1234
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/06/2018
ms.locfileid: "30887504"
---
<a name="deploying-web-packages"></a><span data-ttu-id="fcc16-103">Web パッケージを展開します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-103">Deploying Web Packages</span></span>
====================
<span data-ttu-id="fcc16-104">によって[Jason lee 著](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="fcc16-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="fcc16-105">PDF をダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="fcc16-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="fcc16-106">このトピックでは、(Web 配置) インターネット インフォメーション サービス (IIS) Web 配置ツールを使用して、リモート サーバーに web 配置パッケージを発行する方法について説明 2.0。</span><span class="sxs-lookup"><span data-stu-id="fcc16-106">This topic describes how you can publish web deployment packages to a remote server by using the Internet Information Services (IIS) Web Deployment Tool (Web Deploy) 2.0.</span></span>
> 
> <span data-ttu-id="fcc16-107">2 つのメイン方法 web パッケージをリモート サーバーを展開できます。</span><span class="sxs-lookup"><span data-stu-id="fcc16-107">There are two main ways in which you can deploy a web package to a remote server:</span></span>
> 
> - <span data-ttu-id="fcc16-108">MSDeploy.exe コマンド ライン ユーティリティを直接使用することができます。</span><span class="sxs-lookup"><span data-stu-id="fcc16-108">You can use the MSDeploy.exe command-line utility directly.</span></span>
> - <span data-ttu-id="fcc16-109">実行することができます、 *[プロジェクト名].deploy.cmd*ビルド プロセスによって生成されるファイルです。</span><span class="sxs-lookup"><span data-stu-id="fcc16-109">You can run the *[project name].deploy.cmd* file that the build process generates.</span></span>
> 
> <span data-ttu-id="fcc16-110">最終的な結果は、使用するための方法に関係なく同じです。</span><span class="sxs-lookup"><span data-stu-id="fcc16-110">The end result is the same regardless of which approach you use.</span></span> <span data-ttu-id="fcc16-111">基本的には、すべて、 *. deploy.cmd*ファイルがいくつかのあらかじめ決められた値を使用して MSDeploy.exe を実行するパッケージを展開するために多くの情報を提供する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="fcc16-111">Essentially, all the *.deploy.cmd* file does is to run MSDeploy.exe with some predetermined values, so that you don't have to provide as much information in order to deploy the package.</span></span> <span data-ttu-id="fcc16-112">これには、展開プロセスが簡略化します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-112">This simplifies the deployment process.</span></span> <span data-ttu-id="fcc16-113">その一方で、MSDeploy.exe を直接使用する柔軟性はるかに多くを正確に、パッケージを展開する方法。</span><span class="sxs-lookup"><span data-stu-id="fcc16-113">On the other hand, using MSDeploy.exe directly gives you a lot more flexibility over exactly how your package is deployed.</span></span>
> 
> <span data-ttu-id="fcc16-114">使用する方法はさまざまな要因によって異なりますどの程度制御など、展開プロセスを必要し、Web デプロイのリモート エージェント サービスまたは Web デプロイ ハンドラーのどちらを対象としているかどうか。</span><span class="sxs-lookup"><span data-stu-id="fcc16-114">Which approach you use will depend on a variety of factors, including how much control you require over the deployment process and whether you're targeting the Web Deploy Remote Agent service or the Web Deploy Handler.</span></span> <span data-ttu-id="fcc16-115">このトピックでは、それぞれのアプローチを使用する方法について説明し、それぞれの方法が適切である場合を特定します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-115">This topic explains how to use each approach and identifies when each approach is appropriate.</span></span>
> 
> <span data-ttu-id="fcc16-116">タスクとこのトピックの「チュートリアル仮定します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-116">The tasks and walkthroughs in this topic assume that:</span></span>
> 
> - <span data-ttu-id="fcc16-117">ビルドを」の説明に従って、web アプリケーションをパッケージ化した[パッケージ Web アプリケーション プロジェクトのビルドと](building-and-packaging-web-application-projects.md)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-117">You've built and packaged your web application, as described in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>
> - <span data-ttu-id="fcc16-118">変更した、 *SetParameters.xml* 」の説明に従って、ターゲット、環境内の適切なパラメーター値を提供するファイル[Web パッケージの展開の構成パラメーター](configuring-parameters-for-web-package-deployment.md)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-118">You've modified the *SetParameters.xml* file to provide the right parameter values for your target environment, as described in [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span>


<span data-ttu-id="fcc16-119">実行して、[*プロジェクト名*]*. deploy.cmd*ファイルは web パッケージを配置する最も簡単な方法です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-119">Running the [*project name*]*.deploy.cmd* file is the simplest way to deploy a web package.</span></span> <span data-ttu-id="fcc16-120">具体的を使用して、 *. deploy.cmd*ファイルは、これら MSDeploy.exe を直接使用する利点を提供しています。</span><span class="sxs-lookup"><span data-stu-id="fcc16-120">In particular, using the *.deploy.cmd* file offers these advantages over using MSDeploy.exe directly:</span></span>

- <span data-ttu-id="fcc16-121">Web 配置パッケージの場所を指定する必要はありません&#x2014;、 *. deploy.cmd*ファイル既に知っていることができます。</span><span class="sxs-lookup"><span data-stu-id="fcc16-121">You don't need to specify the location of the web deployment package&#x2014;the *.deploy.cmd* file already knows where it is.</span></span>
- <span data-ttu-id="fcc16-122">場所を指定する必要はありません、 *SetParameters.xml*ファイル&#x2014;、 *. deploy.cmd*ファイル既に知っていることができます。</span><span class="sxs-lookup"><span data-stu-id="fcc16-122">You don't need to specify the location of the *SetParameters.xml* file&#x2014;the *.deploy.cmd* file already knows where it is.</span></span>
- <span data-ttu-id="fcc16-123">送信元と送信先の MSDeploy プロバイダーを指定する必要はありません&#x2014;、 *. deploy.cmd*ファイルを使用する値を既に知っています。</span><span class="sxs-lookup"><span data-stu-id="fcc16-123">You don't need to specify source and destination MSDeploy providers&#x2014;the *.deploy.cmd* file already knows which values to use.</span></span>
- <span data-ttu-id="fcc16-124">MSDeploy 操作の設定を指定する必要はありません&#x2014;、 *. deploy.cmd*ファイル一般的に必要な値 MSDeploy.exe コマンドを自動的に追加します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-124">You don't need to specify MSDeploy operation settings&#x2014;the *.deploy.cmd* file adds the commonly required values to the MSDeploy.exe command automatically.</span></span>

<span data-ttu-id="fcc16-125">使用する前に、 *. deploy.cmd*ファイル web パッケージを配置することを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcc16-125">Before you use the *.deploy.cmd* file to deploy a web package, you should ensure that:</span></span>

- <span data-ttu-id="fcc16-126">*. Deploy.cmd*ファイルで、[*プロジェクト名*].*SetParameters.xml*ファイル、および web のパッケージ ([*プロジェクト名*].*zip*) が同じフォルダーにします。</span><span class="sxs-lookup"><span data-stu-id="fcc16-126">The *.deploy.cmd* file, the [*project name*].*SetParameters.xml* file, and the web package ([*project name*].*zip*) are in the same folder.</span></span>
- <span data-ttu-id="fcc16-127">Web Deploy (MSDeploy.exe) が実行しているコンピューターにインストールされている、 *. deploy.cmd*ファイル。</span><span class="sxs-lookup"><span data-stu-id="fcc16-127">Web Deploy (MSDeploy.exe) is installed on the computer that runs the *.deploy.cmd* file.</span></span>

<span data-ttu-id="fcc16-128">*. Deploy.cmd*ファイルには、さまざまなコマンド ライン オプションがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="fcc16-128">The *.deploy.cmd* file supports various command-line options.</span></span> <span data-ttu-id="fcc16-129">コマンド プロンプトから、ファイルを実行するときにこの基本的な構文を示します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-129">When you run the file from a command prompt, this is the basic syntax:</span></span>


[!code-console[Main](deploying-web-packages/samples/sample1.cmd)]


<span data-ttu-id="fcc16-130">どちらかを指定する必要があります、 **/T**フラグまたは **/Y**試行または実際の展開をそれぞれ実行するかどうかを示すために、フラグ (同じコマンド内に両方のフラグを使用しないでください)。</span><span class="sxs-lookup"><span data-stu-id="fcc16-130">You must specify either a **/T** flag or a **/Y** flag, to indicate whether you want to perform a trial run or a live deployment respectively (don't use both flags in the same command).</span></span> <span data-ttu-id="fcc16-131">次の表では、これらのフラグの目的について説明します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-131">This table explains the purpose of each of these flags.</span></span>

| <span data-ttu-id="fcc16-132">フラグ</span><span class="sxs-lookup"><span data-stu-id="fcc16-132">Flag</span></span> | <span data-ttu-id="fcc16-133">説明</span><span class="sxs-lookup"><span data-stu-id="fcc16-133">Description</span></span> |
| --- | --- |
| <span data-ttu-id="fcc16-134">**/T**</span><span class="sxs-lookup"><span data-stu-id="fcc16-134">**/T**</span></span> | <span data-ttu-id="fcc16-135">MSDeploy.exe を呼び出す、 **-whatif**を試用版の実行を示すフラグ。</span><span class="sxs-lookup"><span data-stu-id="fcc16-135">Calls MSDeploy.exe with the **–whatif** flag, which indicates a trial run.</span></span> <span data-ttu-id="fcc16-136">パッケージを展開するのではなく、パッケージを展開している場合、何が起こるのレポートを作成します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-136">Rather than deploying the package, it creates a report of what would happen if you did deploy the package.</span></span> |
| <span data-ttu-id="fcc16-137">**/Y**</span><span class="sxs-lookup"><span data-stu-id="fcc16-137">**/Y**</span></span> | <span data-ttu-id="fcc16-138">せず MSDeploy.exe を呼び出す、 **-whatif**フラグ。</span><span class="sxs-lookup"><span data-stu-id="fcc16-138">Calls MSDeploy.exe without the **–whatif** flag.</span></span> <span data-ttu-id="fcc16-139">これは、ローカル コンピューターまたは指定された移行先サーバーにパッケージを展開します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-139">This deploys the package to the local computer or the specified destination server.</span></span> |
| <span data-ttu-id="fcc16-140">**/M**</span><span class="sxs-lookup"><span data-stu-id="fcc16-140">**/M**</span></span> | <span data-ttu-id="fcc16-141">移行先サーバーを指定する名前を付けるか、サービスの URL。</span><span class="sxs-lookup"><span data-stu-id="fcc16-141">Specifies the destination server name or service URL.</span></span> <span data-ttu-id="fcc16-142">ここで指定できる値の詳細については、次を参照してください。、**エンドポイントに関する考慮事項**」セクションを参照します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-142">For more information on the values you can provide here, see the **Endpoint Considerations** section in this topic.</span></span> <span data-ttu-id="fcc16-143">省略した場合、 **/M**フラグは、パッケージは、ローカル コンピューターに配置されます。</span><span class="sxs-lookup"><span data-stu-id="fcc16-143">If you omit the **/M** flag, the package will be deployed to the local computer.</span></span> |
| <span data-ttu-id="fcc16-144">**/A**</span><span class="sxs-lookup"><span data-stu-id="fcc16-144">**/A**</span></span> | <span data-ttu-id="fcc16-145">MSDeploy.exe が、展開の実行に使用する認証の種類を指定します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-145">Specifies the authentication type that MSDeploy.exe should use to perform the deployment.</span></span> <span data-ttu-id="fcc16-146">指定できる値は**NTLM**と**基本**です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-146">Possible values are **NTLM** and **Basic**.</span></span> <span data-ttu-id="fcc16-147">省略した場合、 **/A**フラグ、認証の種類のデフォルト**NTLM**にされ、Web デプロイのリモート エージェント サービスの展開の**基本的な**Web Deploy への展開のハンドラー。</span><span class="sxs-lookup"><span data-stu-id="fcc16-147">If you omit the **/A** flag, the authentication type defaults to **NTLM** for deployment to the Web Deploy Remote Agent service and to **Basic** for deployment to the Web Deploy Handler.</span></span> |
| <span data-ttu-id="fcc16-148">**/U**</span><span class="sxs-lookup"><span data-stu-id="fcc16-148">**/U**</span></span> | <span data-ttu-id="fcc16-149">ユーザー名を指定します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-149">Specifies the user name.</span></span> <span data-ttu-id="fcc16-150">これは、基本認証を使用している場合にのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="fcc16-150">This applies only if you're using basic authentication.</span></span> |
| <span data-ttu-id="fcc16-151">**/P**</span><span class="sxs-lookup"><span data-stu-id="fcc16-151">**/P**</span></span> | <span data-ttu-id="fcc16-152">パスワードを指定します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-152">Specifies the password.</span></span> <span data-ttu-id="fcc16-153">これは、基本認証を使用している場合にのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="fcc16-153">This applies only if you're using basic authentication.</span></span> |
| <span data-ttu-id="fcc16-154">**/L**</span><span class="sxs-lookup"><span data-stu-id="fcc16-154">**/L**</span></span> | <span data-ttu-id="fcc16-155">パッケージがローカルの IIS Express のインスタンスに配置することを示します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-155">Indicates that the package should be deployed to the local IIS Express instance.</span></span> |
| <span data-ttu-id="fcc16-156">**/G**</span><span class="sxs-lookup"><span data-stu-id="fcc16-156">**/G**</span></span> | <span data-ttu-id="fcc16-157">使用してパッケージを配置することを指定します、 [tempAgent プロバイダー設定](https://technet.microsoft.com/library/ee517345(WS.10).aspx)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-157">Specifies that the package is deployed using the [tempAgent provider setting](https://technet.microsoft.com/library/ee517345(WS.10).aspx).</span></span> <span data-ttu-id="fcc16-158">省略した場合、 **/G**フラグを既定値は**false**です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-158">If you omit the **/G** flag, the value defaults to **false**.</span></span> |

> [!NOTE]
> <span data-ttu-id="fcc16-159">という名前のファイルも作成、ビルド処理では、web のパッケージを作成するたびに *[プロジェクト名] .deploy readme.txt*これらの展開オプションをについて説明します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-159">Every time the build process creates a web package, it also creates a file named *[project name].deploy-readme.txt* that explains these deployment options.</span></span>


<span data-ttu-id="fcc16-160">これらのフラグだけでなく追加として Web Deploy 操作の設定を指定できます *. deploy.cmd*パラメーター。</span><span class="sxs-lookup"><span data-stu-id="fcc16-160">In addition to these flags, you can specify Web Deploy operation settings as additional *.deploy.cmd* parameters.</span></span> <span data-ttu-id="fcc16-161">指定する追加の設定は、基になる MSDeploy.exe コマンドを単純にを通して渡されます。</span><span class="sxs-lookup"><span data-stu-id="fcc16-161">Any additional settings you specify are simply passed through to the underlying MSDeploy.exe command.</span></span> <span data-ttu-id="fcc16-162">これらの設定の詳細については、次を参照してください。 [Web Deploy 操作 Settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-162">For more information on these settings, see [Web Deploy Operation Settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span></span>

<span data-ttu-id="fcc16-163">実行して、テスト環境に ContactManager.Mvc web アプリケーション プロジェクトを展開すると、 *. deploy.cmd*ファイル。</span><span class="sxs-lookup"><span data-stu-id="fcc16-163">Suppose you want to deploy the ContactManager.Mvc web application project to a test environment by running the *.deploy.cmd* file.</span></span> <span data-ttu-id="fcc16-164">Web デプロイのリモート エージェント サービスを使用して、テスト環境が構成されている」の説明に従って[Web 配置発行 (リモート エージェント) の Web サーバーを構成する](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-164">Your test environment is configured to use the Web Deploy Remote Agent service, as described in [Configure a Web Server for Web Deploy Publishing (Remote Agent)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span></span> <span data-ttu-id="fcc16-165">Web アプリケーションを展開するには、次の手順を完了する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcc16-165">To deploy the web application, you need to complete the next steps.</span></span>

<span data-ttu-id="fcc16-166">**使用して web アプリケーションを展開します deploy.cmd ファイル。**</span><span class="sxs-lookup"><span data-stu-id="fcc16-166">**To deploy a web application using the .deploy.cmd file**</span></span>

1. <span data-ttu-id="fcc16-167">ビルドして」の説明に従って、web アプリケーション プロジェクトをパッケージ[パッケージ Web アプリケーション プロジェクトのビルドと](building-and-packaging-web-application-projects.md)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-167">Build and package the web application project, as described in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>
2. <span data-ttu-id="fcc16-168">変更、 *ContactManager.Mvc.SetParameters.xml* 」の説明に従って、テスト環境を適切なパラメーター値を格納するファイル[Web パッケージの展開の構成パラメーター](configuring-parameters-for-web-package-deployment.md)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-168">Modify the *ContactManager.Mvc.SetParameters.xml* file to contain the correct parameter values for your test environment, as described in [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span>
3. <span data-ttu-id="fcc16-169">コマンド プロンプト ウィンドウを開きの場所に移動、 *ContactManager.Mvc.deploy.cmd*ファイル。</span><span class="sxs-lookup"><span data-stu-id="fcc16-169">Open a Command Prompt window and navigate to the location of the *ContactManager.Mvc.deploy.cmd* file.</span></span>
4. <span data-ttu-id="fcc16-170">このコマンドを入力し、Enter キーを押します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-170">Type this command, and then press Enter:</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample2.cmd)]

<span data-ttu-id="fcc16-171">この例では、次のように記述されています。</span><span class="sxs-lookup"><span data-stu-id="fcc16-171">In this example:</span></span>

- <span data-ttu-id="fcc16-172">**/Y**フラグは、実際には、パッケージを展開するではなく実行、試用版を行うことを示します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-172">The **/Y** flag indicates that you want to actually deploy the package, rather than doing a trial run.</span></span>
- <span data-ttu-id="fcc16-173">**/M**フラグは TESTWEB1 をという名前のサーバーにパッケージを展開することを示します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-173">The **/M** flag indicates that you want to deploy the package to the server named TESTWEB1.</span></span> <span data-ttu-id="fcc16-174">この値から MSDeploy.exe 試みます Web デプロイのリモート エージェントのサービスにパッケージを展開するhttp://TESTWEB1/MSDeployAgentServiceです。</span><span class="sxs-lookup"><span data-stu-id="fcc16-174">From this value, MSDeploy.exe will attempt to deploy the package to the Web Deploy Remote Agent service at http://TESTWEB1/MSDeployAgentService.</span></span>
- <span data-ttu-id="fcc16-175">**/A**フラグは、NTLM 認証を使用することを示します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-175">The **/A** flag indicates that you want to use NTLM authentication.</span></span> <span data-ttu-id="fcc16-176">そのため、ユーザー名とパスワードを指定する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="fcc16-176">As such, you don't need to specify a user name and password.</span></span>

<span data-ttu-id="fcc16-177">説明するために使用して、 *. deploy.cmd*ファイルには、展開プロセスが簡略化され、生成を取得しを実行するときに実行される MSDeploy.exe コマンドを見て*ContactManager.Mvc.deploy.cmd*上記のオプションを使用します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-177">To illustrate how using the *.deploy.cmd* file simplifies the deployment process, take a look at the MSDeploy.exe command that gets generated and executed when you run *ContactManager.Mvc.deploy.cmd* using the options shown above.</span></span>


[!code-console[Main](deploying-web-packages/samples/sample3.cmd)]


<span data-ttu-id="fcc16-178">使用する方法について、 *. deploy.cmd*ファイルを web パッケージを展開しを参照してください[する方法: 展開パッケージを使用して、deploy.cmd ファイルをインストール](https://msdn.microsoft.com/library/ff356104.aspx)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-178">For more information on using the *.deploy.cmd* file to deploy a web package, see [How to: Install a Deployment Package Using the deploy.cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span></span>

## <a name="using-msdeployexe"></a><span data-ttu-id="fcc16-179">Using MSDeploy.exe</span><span class="sxs-lookup"><span data-stu-id="fcc16-179">Using MSDeploy.exe</span></span>

<span data-ttu-id="fcc16-180">使用していますが、 *. deploy.cmd*ファイルが一般に、展開プロセスを簡略化、状況によっては MSDeploy.exe を直接使用することをお勧めときにします。</span><span class="sxs-lookup"><span data-stu-id="fcc16-180">Although using the *.deploy.cmd* file generally simplifies the deployment process, there are some situations when it's preferable to use MSDeploy.exe directly.</span></span> <span data-ttu-id="fcc16-181">例えば:</span><span class="sxs-lookup"><span data-stu-id="fcc16-181">For example:</span></span>

- <span data-ttu-id="fcc16-182">使用することはできません、管理者以外のユーザーとしての Web 展開ハンドラーを展開する場合、 *. deploy.cmd*ファイル。</span><span class="sxs-lookup"><span data-stu-id="fcc16-182">If you want to deploy to the Web Deploy Handler as a non-administrator user, you can't use the *.deploy.cmd* file.</span></span> <span data-ttu-id="fcc16-183">これが原因で Web Deploy 2.0 では、バグの下の説明に従って**エンドポイントに関する考慮事項**です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-183">This is due to a bug in Web Deploy 2.0, as described under **Endpoint Considerations**.</span></span>
- <span data-ttu-id="fcc16-184">別の間で手動で切り替える場合*SetParameters.xml*異なる場所にファイル、MSDeploy.exe を直接使用する望ましい場合もあります。</span><span class="sxs-lookup"><span data-stu-id="fcc16-184">If you want to manually switch between different *SetParameters.xml* files in different locations, you may prefer to use MSDeploy.exe directly.</span></span>
- <span data-ttu-id="fcc16-185">いくつかの MSDeploy.exe コマンドライン引数をオーバーライドする場合は、MSDeploy.exe を直接使用することができます。</span><span class="sxs-lookup"><span data-stu-id="fcc16-185">If you want to override several MSDeploy.exe command-line arguments, you may prefer to use MSDeploy.exe directly.</span></span>

<span data-ttu-id="fcc16-186">MSDeploy.exe を使用する場合は、次の 3 つの重要な情報を提供する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcc16-186">When you use MSDeploy.exe, you need to provide three key pieces of information:</span></span>

- <span data-ttu-id="fcc16-187">A **– ソース**を示す、データの取得先のパラメーターです。</span><span class="sxs-lookup"><span data-stu-id="fcc16-187">A **–source** parameter that indicates where your data is coming from.</span></span>
- <span data-ttu-id="fcc16-188">A **– dest**にデータを移動する場所を示すパラメーターです。</span><span class="sxs-lookup"><span data-stu-id="fcc16-188">A **–dest** parameter that indicates where your data is going to.</span></span>
- <span data-ttu-id="fcc16-189">A **– 動詞**パラメーターを示す、[操作](https://technet.microsoft.com/library/dd568989(WS.10).aspx)を実行します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-189">A **–verb** parameter that indicates the [operation](https://technet.microsoft.com/library/dd568989(WS.10).aspx) you want to perform.</span></span>

<span data-ttu-id="fcc16-190">MSDeploy.exe が依存[Web Deploy プロバイダー](https://technet.microsoft.com/library/dd569040(WS.10).aspx)元とコピー先のデータを処理します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-190">MSDeploy.exe relies on [Web Deploy providers](https://technet.microsoft.com/library/dd569040(WS.10).aspx) to process source and destination data.</span></span> <span data-ttu-id="fcc16-191">Web Deploy にで使用するアプリケーションとデータ ソースの範囲を表す、プロバイダーの多くが含まれる&#x2014;などの SQL Server データベース、IIS web サーバー、証明書、グローバル アセンブリ キャッシュ (GAC) アセンブリでは、プロバイダーにはさまざまな異なる構成ファイル、および多数の他のデータ型。</span><span class="sxs-lookup"><span data-stu-id="fcc16-191">Web Deploy includes a lot of providers that represent the range of applications and data sources it can work with&#x2014;for example, there are providers for SQL Server databases, IIS web servers, certificates, global assembly cache (GAC) assemblies, various different configuration files, and lots of other types of data.</span></span> <span data-ttu-id="fcc16-192">両方の **– ソース**パラメーターおよび **– dest**パラメーターは、フォームで、プロバイダーを指定する必要があります **– ソース**: [*providerName*] = [*場所*] です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-192">Both the **–source** parameter and the **–dest** parameter must specify a provider, in the form **–source**:[*providerName*]=[*location*].</span></span> <span data-ttu-id="fcc16-193">を IIS の web サイトに web パッケージを配置するときに、これらの値を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcc16-193">When you're deploying a web package to an IIS website, you should use these values:</span></span>

- <span data-ttu-id="fcc16-194">**– ソース**プロバイダーは、常に[パッケージ](https://technet.microsoft.com/library/dd569019(WS.10).aspx)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-194">The **–source** provider is always [package](https://technet.microsoft.com/library/dd569019(WS.10).aspx).</span></span> <span data-ttu-id="fcc16-195">例えば:</span><span class="sxs-lookup"><span data-stu-id="fcc16-195">For example:</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample4.cmd)]
- <span data-ttu-id="fcc16-196">**– Dest**プロバイダーは、常に[自動](https://technet.microsoft.com/library/dd569016(WS.10).aspx)です。例えば:</span><span class="sxs-lookup"><span data-stu-id="fcc16-196">The **–dest** provider is always [auto](https://technet.microsoft.com/library/dd569016(WS.10).aspx). For example:</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample5.cmd)]
- <span data-ttu-id="fcc16-197">**– 動詞**は常に**同期**です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-197">The **–verb** is always **sync**.</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample6.cmd)]

<span data-ttu-id="fcc16-198">さらに、する必要がありますを指定するさまざまな他の[プロバイダーに固有の設定](https://technet.microsoft.com/library/dd569001(WS.10).aspx)や一般的な[操作設定](https://technet.microsoft.com/library/dd569089(WS.10).aspx)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-198">In addition, you'll need to specify various other [provider-specific settings](https://technet.microsoft.com/library/dd569001(WS.10).aspx) and general [operation settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span></span> <span data-ttu-id="fcc16-199">たとえば、ステージング環境に ContactManager.Mvc web アプリケーションを展開するとします。</span><span class="sxs-lookup"><span data-stu-id="fcc16-199">For example, suppose you want to deploy the ContactManager.Mvc web application to a staging environment.</span></span> <span data-ttu-id="fcc16-200">展開は、Web 配置のハンドラーを対象し、基本認証を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcc16-200">The deployment will target the Web Deploy Handler and must use basic authentication.</span></span> <span data-ttu-id="fcc16-201">Web アプリケーションを展開するには、次の手順を完了する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcc16-201">To deploy the web application, you need to complete the next steps.</span></span>

<span data-ttu-id="fcc16-202">**MSDeploy.exe を使用して web アプリケーションを展開するには**</span><span class="sxs-lookup"><span data-stu-id="fcc16-202">**To deploy a web application using MSDeploy.exe**</span></span>

1. <span data-ttu-id="fcc16-203">ビルドして」の説明に従って、web アプリケーション プロジェクトをパッケージ[パッケージ Web アプリケーション プロジェクトのビルドと](building-and-packaging-web-application-projects.md)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-203">Build and package the web application project, as described in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>
2. <span data-ttu-id="fcc16-204">変更、 *ContactManager.Mvc.SetParameters.xml* 」の説明に従って、ステージング環境用の適切なパラメーター値を格納するファイル[Web パッケージの展開の構成パラメーター](configuring-parameters-for-web-package-deployment.md)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-204">Modify the *ContactManager.Mvc.SetParameters.xml* file to contain the correct parameter values for your staging environment, as described in [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span>
3. <span data-ttu-id="fcc16-205">コマンド プロンプト ウィンドウを開き、MSDeploy.exe の場所を指定します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-205">Open a Command Prompt window and browse to the location of MSDeploy.exe.</span></span> <span data-ttu-id="fcc16-206">これは、通常 %PROGRAMFILES%\IIS\Microsoft Web 展開 V2\msdeploy.exe にします。</span><span class="sxs-lookup"><span data-stu-id="fcc16-206">This is typically at %PROGRAMFILES%\IIS\Microsoft Web Deploy V2\msdeploy.exe.</span></span>
4. <span data-ttu-id="fcc16-207">このコマンドを入力し、Enter キーを押します (改行記号を無視)。</span><span class="sxs-lookup"><span data-stu-id="fcc16-207">Type this command, and then press Enter (disregard the line breaks):</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample7.cmd)]

<span data-ttu-id="fcc16-208">この例では、次のように記述されています。</span><span class="sxs-lookup"><span data-stu-id="fcc16-208">In this example:</span></span>

- <span data-ttu-id="fcc16-209">**– ソース**パラメーターを指定します、**パッケージ**プロバイダー、web のパッケージの場所を示します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-209">The **–source** parameter specifies the **package** provider and indicates the location of the web package.</span></span>
- <span data-ttu-id="fcc16-210">**– Dest**パラメーターを指定します、**自動**プロバイダー。</span><span class="sxs-lookup"><span data-stu-id="fcc16-210">The **–dest** parameter specifies the **auto** provider.</span></span> <span data-ttu-id="fcc16-211">**ComputerName**設定が移行先サーバーで、Web 配置のハンドラーのサービスの URL を提供します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-211">The **computerName** setting provides the service URL of the Web Deploy Handler on the destination server.</span></span> <span data-ttu-id="fcc16-212">**空の authtype**設定ことを示し、基本認証を使用するよう指定する必要があります、 **username**と**パスワード**です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-212">The **authtype** setting indicates that you want to use basic authentication, and as such you need to provide a **username** and a **password**.</span></span> <span data-ttu-id="fcc16-213">最後に、 **includeAcls ="False"** 設定は、移行先サーバーに、ソース web アプリケーションで、ファイルのアクセス制御リスト (Acl) をコピーしないことを示します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-213">Finally, the **includeAcls="False"** setting indicates that you don't want to copy the access control lists (ACLs) of the files in your source web application to the destination server.</span></span>
- <span data-ttu-id="fcc16-214">**– 動詞: 同期**引数は、移行先サーバー上のソース コンテンツをレプリケートすることを示します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-214">The **–verb:sync** argument indicates that you want to replicate the source content on the destination server.</span></span>
- <span data-ttu-id="fcc16-215">**– DisableLink**引数は、アプリケーション プール、仮想ディレクトリの構成、または移行先サーバーで Secure Sockets Layer (SSL) 証明書をレプリケートしないことを示します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-215">The **–disableLink** arguments indicate that you don't want to replicate application pools, virtual directory configuration, or Secure Sockets Layer (SSL) certificates on the destination server.</span></span> <span data-ttu-id="fcc16-216">詳細については、次を参照してください。 [Web 展開リンク拡張](https://technet.microsoft.com/library/dd569028(WS.10).aspx)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-216">For more information, see [Web Deploy Link Extensions](https://technet.microsoft.com/library/dd569028(WS.10).aspx).</span></span>
- <span data-ttu-id="fcc16-217">**– SetParamFile**パラメーターの場所を提供する、 *SetParameters.xml*ファイル。</span><span class="sxs-lookup"><span data-stu-id="fcc16-217">The **–setParamFile** parameter provides the location of the *SetParameters.xml* file.</span></span>
- <span data-ttu-id="fcc16-218">**– AllowUntrusted**スイッチでは、Web Deploy を受け付けることが信頼された証明機関によって発行されていない SSL 証明書を示します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-218">The **–allowUntrusted** switch indicates that Web Deploy should accept SSL certificates that were not issued by a trusted certification authority.</span></span> <span data-ttu-id="fcc16-219">Web 展開ハンドラーに配置して、サービスの URL をセキュリティで保護する自己署名証明書を使用した場合、は、このスイッチを含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcc16-219">If you're deploying to the Web Deploy Handler, and you've used a self-signed certificate to secure the service URL, you need to include this switch.</span></span>

## <a name="automating-web-package-deployment"></a><span data-ttu-id="fcc16-220">Web パッケージの展開を自動化します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-220">Automating Web Package Deployment</span></span>

<span data-ttu-id="fcc16-221">多数のエンタープライズ シナリオでは、大規模なシングル ステップまたは自動化された展開の一部として、web のパッケージを配置するします。</span><span class="sxs-lookup"><span data-stu-id="fcc16-221">In a lot of enterprise scenarios, you'll want to deploy your web packages as part of a larger single-step or automated deployment.</span></span> <span data-ttu-id="fcc16-222">実行して、web のパッケージを配置を選択するかどうかに関係なく、 *. deploy.cmd*ファイルまたは MSDeploy.exe を直接使用すると、コマンドをパラメーター化し Microsoft Build Engine (MSBuild) 内のターゲットからこれらを呼び出すプロジェクト ファイルです。</span><span class="sxs-lookup"><span data-stu-id="fcc16-222">Regardless of whether you choose to deploy your web packages by running the *.deploy.cmd* file or by using MSDeploy.exe directly, you can parameterize your commands and call them from a target in a Microsoft Build Engine (MSBuild) project file.</span></span>

<span data-ttu-id="fcc16-223">連絡先のマネージャーのサンプル ソリューションで見て、 **PublishWebPackages**ターゲットを*Publish.proj*ファイル。</span><span class="sxs-lookup"><span data-stu-id="fcc16-223">In the Contact Manager sample solution, take a look at the **PublishWebPackages** target in the *Publish.proj* file.</span></span> <span data-ttu-id="fcc16-224">このターゲットは、それぞれに 1 回実行 *. deploy.cmd*という名前の項目リストで識別されるファイル**PublishPackages**です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-224">This target runs once for each *.deploy.cmd* file identified by an item list named **PublishPackages**.</span></span> <span data-ttu-id="fcc16-225">ターゲットの各引数の値の完全なセットを構築するプロパティと項目のメタデータを使用して *. deploy.cmd*ファイルおよび、使用、 **Exec**コマンドを実行するタスク。</span><span class="sxs-lookup"><span data-stu-id="fcc16-225">The target uses properties and item metadata to build up a full set of argument values for each *.deploy.cmd* file and then uses the **Exec** task to run the command.</span></span>


[!code-xml[Main](deploying-web-packages/samples/sample8.xml)]


> [!NOTE]
> <span data-ttu-id="fcc16-226">プロジェクト ファイルのモデルのサンプル ソリューションと全般にカスタム プロジェクト ファイルの概要についての広範な概要については、次を参照してください。[プロジェクト ファイルを理解する](understanding-the-project-file.md)と[ビルド プロセスの理解](understanding-the-build-process.md)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-226">For a broader overview of the project file model in the sample solution, and an introduction to custom project files in general, see [Understanding the Project File](understanding-the-project-file.md) and [Understanding the Build Process](understanding-the-build-process.md).</span></span>


## <a name="endpoint-considerations"></a><span data-ttu-id="fcc16-227">エンドポイントに関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="fcc16-227">Endpoint Considerations</span></span>

<span data-ttu-id="fcc16-228">実行して、web のパッケージを展開するかどうかに関係なく、 *. deploy.cmd*ファイルまたは MSDeploy.exe を直接使用すると、コンピューター名または展開にサービス エンドポイントを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcc16-228">Regardless of whether you deploy your web package by running the *.deploy.cmd* file or by using MSDeploy.exe directly, you need to specify a computer name or a service endpoint for your deployment.</span></span>

<span data-ttu-id="fcc16-229">移行先の web サーバーが Web デプロイのリモート エージェント サービスを使用した展開構成されている場合は、先として、ターゲット サービスの URL を指定します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-229">If the destination web server is configured for deployment using the Web Deploy Remote Agent service, you specify the target service URL as your destination.</span></span>


[!code-console[Main](deploying-web-packages/samples/sample9.cmd)]


<span data-ttu-id="fcc16-230">または、単独でサーバー名を指定するには、転送先を Web 配置と、リモート エージェント サービスの URL が推論されます。</span><span class="sxs-lookup"><span data-stu-id="fcc16-230">Alternatively, you can specify the server name alone as your destination, and Web Deploy will infer the remote agent service URL.</span></span>


[!code-console[Main](deploying-web-packages/samples/sample10.cmd)]


<span data-ttu-id="fcc16-231">移行先の web サーバーが、Web 配置のハンドラーを使用した展開構成されている場合は、先として、IIS Web 管理サービス (WMSvc) のエンドポイント アドレスを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcc16-231">If the destination web server is configured for deployment using the Web Deploy Handler, you need to specify the endpoint address of the IIS Web Management Service (WMSvc) as your destination.</span></span> <span data-ttu-id="fcc16-232">既定では、この形式になります。</span><span class="sxs-lookup"><span data-stu-id="fcc16-232">By default, this takes the form:</span></span>


[!code-console[Main](deploying-web-packages/samples/sample11.cmd)]


<span data-ttu-id="fcc16-233">いずれかを使用してこれらのエンドポイントのいずれかの対象にすることができます、 *. deploy.cmd*ファイルまたは直接 MSDeploy.exe です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-233">You can target any of these endpoints using either the *.deploy.cmd* file or MSDeploy.exe directly.</span></span> <span data-ttu-id="fcc16-234">ただし、」の説明に従って、管理者以外のユーザーとして、Web 配置のハンドラーを配置する場合[Web 配置発行 (Web 配置ハンドラー) の Web サーバーを構成する](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md)、サービス エンドポイントのアドレスにクエリ文字列を追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcc16-234">However, if you want to deploy to the Web Deploy Handler as a non-administrator user, as described in [Configure a Web Server for Web Deploy Publishing (Web Deploy Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md), you need to add a query string to the service endpoint address.</span></span>


[!code-console[Main](deploying-web-packages/samples/sample12.cmd)]


<span data-ttu-id="fcc16-235">これは、管理者以外のユーザーが iis サーバー レベルのアクセスを持っていないためそのユーザーは、特定の IIS web サイトへのアクセスのみがします。</span><span class="sxs-lookup"><span data-stu-id="fcc16-235">This is because the non-administrator user doesn't have server-level access to IIS; he or she only has access to a specific IIS website.</span></span> <span data-ttu-id="fcc16-236">Web 発行パイプライン (WPP) で、バグが原因の書き込み時に実行することはできません、 *. deploy.cmd*ファイルのクエリ文字列が含まれるエンドポイント アドレスを使用します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-236">At the time of writing, due to a bug in the Web Publishing Pipeline (WPP), you can't run the *.deploy.cmd* file using an endpoint address that includes a query string.</span></span> <span data-ttu-id="fcc16-237">このシナリオでは、MSDeploy.exe を直接使用して、web のパッケージを展開する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcc16-237">In this scenario, you need to deploy your web package by using MSDeploy.exe directly.</span></span>

> [!NOTE]
> <span data-ttu-id="fcc16-238">Web デプロイのリモート エージェント サービスと Web 展開ハンドラーの詳細については、次を参照してください。 [Web 配置を右側の方法を選択する](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-238">For more information on the Web Deploy Remote Agent service and the Web Deploy Handler, see [Choosing the Right Approach to Web Deployment](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md).</span></span> <span data-ttu-id="fcc16-239">これらのエンドポイントを展開する、環境固有のプロジェクト ファイルを構成する方法のガイダンスについては、次を参照してください。[ターゲット環境の配置プロパティを構成する](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-239">For guidance on how to configure your environment-specific project files to deploy to these endpoints, see [Configure Deployment Properties for a Target Environment](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span></span>


## <a name="authentication-considerations"></a><span data-ttu-id="fcc16-240">認証に関する注意点</span><span class="sxs-lookup"><span data-stu-id="fcc16-240">Authentication Considerations</span></span>

<span data-ttu-id="fcc16-241">実行して、web のパッケージを展開するかどうかに関係なく、 *. deploy.cmd*ファイルまたは MSDeploy.exe を直接使用すると、認証の種類を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcc16-241">Regardless of whether you deploy your web package by running the *.deploy.cmd* file or by using MSDeploy.exe directly, you need to specify an authentication type.</span></span> <span data-ttu-id="fcc16-242">Web Deploy は、2 つの値を受け入れます。 **NTLM**または**基本**です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-242">Web Deploy accepts two possible values: **NTLM** or **Basic**.</span></span> <span data-ttu-id="fcc16-243">基本認証を指定する場合は、ユーザー名とパスワードを入力する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcc16-243">If you specify basic authentication, you also need to provide a user name and password.</span></span> <span data-ttu-id="fcc16-244">さまざまな要因の認証の種類を選択すると認識する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcc16-244">There are various factors you need to be aware of when you select an authentication type:</span></span>

- <span data-ttu-id="fcc16-245">を、Web デプロイのリモート エージェント サービスに配置する場合は、NTLM 認証を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcc16-245">If you're deploying to the Web Deploy Remote Agent service, you must use NTLM authentication.</span></span> <span data-ttu-id="fcc16-246">リモート エージェント サービスは、基本認証資格情報をそのまま使用しません。</span><span class="sxs-lookup"><span data-stu-id="fcc16-246">The remote agent service doesn't accept basic authentication credentials.</span></span>
- <span data-ttu-id="fcc16-247">を、Web 配置のハンドラーに配置する場合は、NTLM または基本認証のいずれかを使用できます。</span><span class="sxs-lookup"><span data-stu-id="fcc16-247">If you're deploying to the Web Deploy Handler, you can use either NTLM or basic authentication.</span></span> <span data-ttu-id="fcc16-248">既定の設定は、基本認証です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-248">The default setting is basic authentication.</span></span> <span data-ttu-id="fcc16-249">基本認証は、ユーザー名とパスワードがプレーン テキストで送信中に依存するように Web 配置ハンドラーが常に SSL 暗号化を使用して、資格情報は保護されます。</span><span class="sxs-lookup"><span data-stu-id="fcc16-249">Although basic authentication relies on user names and passwords being transmitted in plain text, your credentials are protected as the Web Deploy Handler always uses SSL encryption.</span></span>
- <span data-ttu-id="fcc16-250">場合は、web のパッケージには、データベースが含まれています。 web サーバーとデータベース サーバーが別のコンピューター、することはできませんために NTLM 認証を使用してデータベースを展開する、 [NTLM"ダブルホップ"制限](https://go.microsoft.com/?linkid=9805120)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-250">If your web package includes a database, and the web server and database server are separate machines, you won't be able to deploy the database using NTLM authentication due to the [NTLM "double-hop" limitation](https://go.microsoft.com/?linkid=9805120).</span></span> <span data-ttu-id="fcc16-251">展開の接続文字列で SQL Server 資格情報を使用するか、Web Deploy に基本認証資格情報を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fcc16-251">You need to either use SQL Server credentials in your deployment connection string or supply basic authentication credentials to Web Deploy.</span></span> <span data-ttu-id="fcc16-252">この問題がでさらに詳しく記載されている[エンタープライズ環境にメンバーシップ データベースを展開する](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-252">This issue is described in more detail in [Deploying Membership Databases to Enterprise Environments](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="fcc16-253">まとめ</span><span class="sxs-lookup"><span data-stu-id="fcc16-253">Conclusion</span></span>

<span data-ttu-id="fcc16-254">このトピックでは、展開する方法、web のパッケージを実行して、いずれかの説明されている、 *. deploy.cmd*ファイルまたは MSDeploy.exe を直接使用しています。</span><span class="sxs-lookup"><span data-stu-id="fcc16-254">This topic described how you can deploy a web package either by running the *.deploy.cmd* file or by using MSDeploy.exe directly.</span></span> <span data-ttu-id="fcc16-255">これには、それぞれの方法は、適切な可能性があり、パラメーター化して、大規模なシングル ステップまたは自動化されたビルド プロセスの一部として展開コマンドを実行する方法が説明されているがについて説明します。</span><span class="sxs-lookup"><span data-stu-id="fcc16-255">It explained when each approach might be appropriate, and it described how you can parameterize and run a deployment command as part of a larger single-step or automated build process.</span></span>

## <a name="further-reading"></a><span data-ttu-id="fcc16-256">関連項目</span><span class="sxs-lookup"><span data-stu-id="fcc16-256">Further Reading</span></span>

<span data-ttu-id="fcc16-257">作成し、web 配置パッケージのパラメーター化する方法のガイダンスについては、次を参照してください。[パッケージ Web アプリケーション プロジェクトのビルドと](building-and-packaging-web-application-projects.md)と[Web パッケージの展開の構成パラメーター](configuring-parameters-for-web-package-deployment.md)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-257">For guidance on how to create and parameterize a web deployment package, see [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md) and [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span> <span data-ttu-id="fcc16-258">ビルドし、Team Foundation Server (TFS) のインスタンスから web パッケージを配置する方法のガイダンスについては、次を参照してください。 [Web 配置の自動化の Team Foundation Server を構成する](../configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment.md)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-258">For guidance on how to build and deploy web packages from a Team Foundation Server (TFS) instance, see [Configuring Team Foundation Server for Automated Web Deployment](../configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment.md).</span></span> <span data-ttu-id="fcc16-259">カスタマイズし、展開プロセスをトラブルシューティングする方法については、次を参照してください。[除外ファイルおよびフォルダーの展開から](../advanced-enterprise-web-deployment/excluding-files-and-folders-from-deployment.md)です。</span><span class="sxs-lookup"><span data-stu-id="fcc16-259">For information on how to customize and troubleshoot the deployment process, see [Excluding Files and Folders from Deployment](../advanced-enterprise-web-deployment/excluding-files-and-folders-from-deployment.md).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="fcc16-260">[前へ](configuring-parameters-for-web-package-deployment.md)
> [次へ](deploying-database-projects.md)</span><span class="sxs-lookup"><span data-stu-id="fcc16-260">[Previous](configuring-parameters-for-web-package-deployment.md)
[Next](deploying-database-projects.md)</span></span>
