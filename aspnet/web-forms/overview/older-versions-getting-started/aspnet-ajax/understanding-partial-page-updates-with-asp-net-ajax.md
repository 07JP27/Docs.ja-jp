---
uid: web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-partial-page-updates-with-asp-net-ajax
title: 部分ページ更新 ASP.NET AJAX を理解する |Microsoft ドキュメント
author: scottcate
description: おそらく、最も可視機能、ASP.NET AJAX Extensions の機能を t に完全なポストバックを実行せず、または部分的な差分のページ更新を行うには.
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/28/2008
ms.topic: article
ms.assetid: 54d9df99-1161-4899-b4e8-2679c85915e7
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-partial-page-updates-with-asp-net-ajax
msc.type: authoredcontent
ms.openlocfilehash: 91a98bf1c9a71ae84c569f7ae40930422cb652e0
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/06/2018
ms.locfileid: "30891322"
---
<a name="understanding-partial-page-updates-with-aspnet-ajax"></a><span data-ttu-id="7356d-103">Understanding 部分ページは、ASP.NET AJAX と共に更新されます。</span><span class="sxs-lookup"><span data-stu-id="7356d-103">Understanding Partial Page Updates with ASP.NET AJAX</span></span>
====================
<span data-ttu-id="7356d-104">によって[Scott カテゴリ](https://github.com/scottcate)</span><span class="sxs-lookup"><span data-stu-id="7356d-104">by [Scott Cate](https://github.com/scottcate)</span></span>

[<span data-ttu-id="7356d-105">PDF をダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="7356d-105">Download PDF</span></span>](http://download.microsoft.com/download/C/1/9/C19A3451-1D14-477C-B703-54EF22E197EE/AJAX_tutorial01_Partial_Page_Updates_cs.pdf)

> <span data-ttu-id="7356d-106">おそらく、ASP.NET AJAX Extensions の最も可視機能は、最小限のマークアップの変更とし、コードの変更を持たない、サーバーへの完全なポストバックを実行せず、または部分的な差分のページ更新プログラムを実行する機能。</span><span class="sxs-lookup"><span data-stu-id="7356d-106">Perhaps the most visible feature of the ASP.NET AJAX Extensions is the ability to do a partial or incremental page updates without doing a full postback to the server, with no code changes and minimal markup changes.</span></span> <span data-ttu-id="7356d-107">利点は、広範な – (Adobe Flash や Windows Media) など、マルチ メディアの状態は変更されません、帯域幅のコストが少なくなり、クライアントでは、通常、ポストバックに関連付けられているちらつきは発生しません。</span><span class="sxs-lookup"><span data-stu-id="7356d-107">The advantages are extensive – the state of your multimedia (such as Adobe Flash or Windows Media) is unchanged, bandwidth costs are reduced, and the client does not experience the flicker usually associated with a postback.</span></span>


## <a name="introduction"></a><span data-ttu-id="7356d-108">はじめに</span><span class="sxs-lookup"><span data-stu-id="7356d-108">Introduction</span></span>

<span data-ttu-id="7356d-109">ASP.NET の Microsoft のテクノロジは、オブジェクト指向し、イベント ドリブン プログラミング モデルによりに導入され、コンパイルされたコードのメリットと組み合わせたです。</span><span class="sxs-lookup"><span data-stu-id="7356d-109">Microsoft's ASP.NET technology brings an object-oriented and event-driven programming model and unites it with the benefits of compiled code.</span></span> <span data-ttu-id="7356d-110">ただし、そのサーバー側の処理モデルでは、テクノロジに固有のいくつかの欠点があります。</span><span class="sxs-lookup"><span data-stu-id="7356d-110">However, its server-side processing model has several drawbacks inherent in the technology:</span></span>

- <span data-ttu-id="7356d-111">ページの更新プログラムでは、ページの更新を必要とすると、サーバーへのラウンド トリップが必要です。</span><span class="sxs-lookup"><span data-stu-id="7356d-111">Page updates require a round-trip to the server, which requires a page refresh.</span></span>
- <span data-ttu-id="7356d-112">ラウンドト リップが Javascript またはその他のクライアント側などのテクノロジ (Adobe Flash) によって生成される任意の効果を保持されません。</span><span class="sxs-lookup"><span data-stu-id="7356d-112">Round-trips do not persist any effects generated by Javascript or other client-side technology (such as Adobe Flash)</span></span>
- <span data-ttu-id="7356d-113">ポストバック中に Microsoft Internet Explorer 以外のブラウザーはサポートされませんスクロール位置を自動的に復元します。</span><span class="sxs-lookup"><span data-stu-id="7356d-113">During postback, browsers other than Microsoft Internet Explorer do not support automatically restoring the scroll position.</span></span> <span data-ttu-id="7356d-114">Internet Explorer であってもまだ、ちらつきを調整するページが更新されて。</span><span class="sxs-lookup"><span data-stu-id="7356d-114">And even in Internet Explorer, there is still a flicker as the page is refreshed.</span></span>
- <span data-ttu-id="7356d-115">ポストバックとして帯域幅の量が多い場合があります、 \_ \_VIEWSTATE フォーム フィールドのサイズが増加、GridView コントロールまたはリピータなどのコントロールを扱う場合に特にです。</span><span class="sxs-lookup"><span data-stu-id="7356d-115">Postbacks may involve a high amount of bandwidth as the \_\_VIEWSTATE form field may grow, especially when dealing with controls such as the GridView control or repeaters.</span></span>
- <span data-ttu-id="7356d-116">JavaScript またはその他のクライアント側のテクノロジから Web サービスにアクセスするための統一されたモデルはありません。</span><span class="sxs-lookup"><span data-stu-id="7356d-116">There is no unified model for accessing Web Services through JavaScript or other client-side technology.</span></span>

<span data-ttu-id="7356d-117">Microsoft の ASP.NET AJAX 拡張機能を入力します。</span><span class="sxs-lookup"><span data-stu-id="7356d-117">Enter Microsoft's ASP.NET AJAX extensions.</span></span> <span data-ttu-id="7356d-118">AJAX **A**同期**J** avaScript **A** nd **X** ML、増分のページを提供するための統合のフレームワークではクロス プラットフォームの JavaScript を使用して更新プログラムは、Microsoft AJAX Framework および Microsoft AJAX スクリプト ライブラリと呼ばれるスクリプト コンポーネントで構成されるサーバー側コードで構成されます。</span><span class="sxs-lookup"><span data-stu-id="7356d-118">AJAX, which stands for **A** synchronous **J** avaScript **A** nd **X** ML, is an integrated framework for providing incremental page updates via cross-platform JavaScript, composed of server-side code comprising the Microsoft AJAX Framework, and a script component called the Microsoft AJAX Script Library.</span></span> <span data-ttu-id="7356d-119">ASP.NET AJAX 拡張機能では、JavaScript を使用して ASP.NET Web サービスにアクセスするクロスプラット フォーム サポートも提供します。</span><span class="sxs-lookup"><span data-stu-id="7356d-119">The ASP.NET AJAX extensions also provide cross-platform support for accessing ASP.NET Web Services via JavaScript.</span></span>

<span data-ttu-id="7356d-120">このホワイト ペーパーでは、ScriptManager コンポーネント、UpdatePanel コントロールおよび UpdateProgress コントロールが含まれ、シナリオをする必要がありますまたはすることはできませんと見なします ASP.NET AJAX Extensions のページの部分的な更新機能を調べます使用率が低い。</span><span class="sxs-lookup"><span data-stu-id="7356d-120">This whitepaper examines the partial page updates functionality of the ASP.NET AJAX Extensions, which includes the ScriptManager component, the UpdatePanel control, and the UpdateProgress control, and considers scenarios in which they should or should not be utilized.</span></span>

<span data-ttu-id="7356d-121">このホワイト ペーパーでは、Visual Studio 2008 の Beta 2 リリースされ、基底クラス ライブラリ (が以前 ASP.NET 2.0 の使用可能なアドオン コンポーネント) に ASP.NET AJAX 拡張機能を統合する .NET Framework 3.5 に基づいています。</span><span class="sxs-lookup"><span data-stu-id="7356d-121">This whitepaper is based on the Beta 2 release of the Visual Studio 2008 and the .NET Framework 3.5, which integrates the ASP.NET AJAX Extensions into the Base Class Library (where it was previously an add-on component available for ASP.NET 2.0).</span></span> <span data-ttu-id="7356d-122">このホワイト ペーパーが Visual Studio 2008 とない Visual Web Developer Express Edition; を使用していることを想定しても参照されている一部のプロジェクト テンプレートは、Visual Web Developer Express のユーザーにできない場合があります。</span><span class="sxs-lookup"><span data-stu-id="7356d-122">This whitepaper also assumes that you are using Visual Studio 2008 and not Visual Web Developer Express Edition; some project templates that are referenced may not be available to Visual Web Developer Express users.</span></span>

## <a name="partial-page-updates"></a><span data-ttu-id="7356d-123">部分ページ更新</span><span class="sxs-lookup"><span data-stu-id="7356d-123">Partial Page Updates</span></span>

<span data-ttu-id="7356d-124">おそらく、ASP.NET AJAX Extensions の最も可視機能は、最小限のマークアップの変更とし、コードの変更を持たない、サーバーへの完全なポストバックを実行せず、または部分的な差分のページ更新プログラムを実行する機能。</span><span class="sxs-lookup"><span data-stu-id="7356d-124">Perhaps the most visible feature of the ASP.NET AJAX Extensions is the ability to do a partial or incremental page updates without doing a full postback to the server, with no code changes and minimal markup changes.</span></span> <span data-ttu-id="7356d-125">利点は、広範な - (Adobe Flash や Windows Media) など、マルチ メディアの状態は変更されません、帯域幅のコストが少なくなり、クライアントでは、通常、ポストバックに関連付けられているちらつきは発生しません。</span><span class="sxs-lookup"><span data-stu-id="7356d-125">The advantages are extensive - the state of your multimedia (such as Adobe Flash or Windows Media) is unchanged, bandwidth costs are reduced, and the client does not experience the flicker usually associated with a postback.</span></span>

<span data-ttu-id="7356d-126">部分ページ レンダリングを統合する機能は、プロジェクトに最小限の変更で ASP.NET に統合されます。</span><span class="sxs-lookup"><span data-stu-id="7356d-126">The ability to integrate partial page rendering is integrated into ASP.NET with minimal changes into your project.</span></span>

## <a name="walkthrough-integrating-partial-rendering-into-an-existing-project"></a><span data-ttu-id="7356d-127">チュートリアル: 既存のプロジェクトへの部分的なレンダリングの統合</span><span class="sxs-lookup"><span data-stu-id="7356d-127">Walkthrough: Integrating Partial Rendering into an Existing Project</span></span>


1. <span data-ttu-id="7356d-128">Microsoft Visual Studio 2008 でに移動して、新しい ASP.NET Web Site プロジェクトを作成<em>ファイル</em> <em>- &gt;新規</em> <em>- &gt; のWebサイト</em>ダイアログから ASP.NET Web サイトを選択します。</span><span class="sxs-lookup"><span data-stu-id="7356d-128">In Microsoft Visual Studio 2008, create a new ASP.NET Web Site project by going to <em>File</em><em>-&gt; New</em><em>-&gt; Web Site</em> and selecting ASP.NET Web Site from the dialog.</span></span> <span data-ttu-id="7356d-129">名前を付けることお好きなようとをファイル システムまたはインターネット インフォメーション サービス (IIS) にインストールすることがあります。</span><span class="sxs-lookup"><span data-stu-id="7356d-129">You can name it whatever you like, and you may install it either to the file system or into Internet Information Services (IIS).</span></span>
2. <span data-ttu-id="7356d-130">基本的な ASP.NET マークアップに空白の既定のページが表示されます (サーバー側フォームと`@Page`ディレクティブ)。</span><span class="sxs-lookup"><span data-stu-id="7356d-130">You will be presented with the blank default page with basic ASP.NET markup (a server-side form and an `@Page` directive).</span></span> <span data-ttu-id="7356d-131">という名前のラベルにドロップ`Label1`ボタンと呼ばれると`Button1`form 要素内でページ上にします。</span><span class="sxs-lookup"><span data-stu-id="7356d-131">Drop a Label called `Label1` and a Button called `Button1` onto the page within the form element.</span></span> <span data-ttu-id="7356d-132">お好きなように、テキストのプロパティを設定することがあります。</span><span class="sxs-lookup"><span data-stu-id="7356d-132">You may set their text properties to whatever you like.</span></span>
3. <span data-ttu-id="7356d-133">デザイン ビューでダブルクリック`Button1`分離コードのイベント ハンドラーを生成します。</span><span class="sxs-lookup"><span data-stu-id="7356d-133">In Design view, double-click `Button1` to generate a code-behind event handler.</span></span> <span data-ttu-id="7356d-134">このイベント ハンドラー内で次のように設定します`Label1.Text`にボタンをクリックしました!。</span><span class="sxs-lookup"><span data-stu-id="7356d-134">Within this event handler, set `Label1.Text` to You clicked the button!</span></span> <span data-ttu-id="7356d-135">である必要があります。</span><span class="sxs-lookup"><span data-stu-id="7356d-135">.</span></span>

<span data-ttu-id="7356d-136">**部分的なレンダリングを有効にする前に、default.aspx のマークアップを 1 の一覧を表示するには:**</span><span class="sxs-lookup"><span data-stu-id="7356d-136">**Listing 1: Markup for default.aspx before partial rendering is enabled**</span></span>

[!code-aspx[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample1.aspx)]

<span data-ttu-id="7356d-137">**2 を一覧表示します。 分離コードが default.aspx.cs に (切り捨て)**</span><span class="sxs-lookup"><span data-stu-id="7356d-137">**Listing 2: Codebehind (trimmed) in default.aspx.cs**</span></span>

[!code-csharp[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample2.cs)]

1. <span data-ttu-id="7356d-138">F5 キーを押して、web サイトを起動します。</span><span class="sxs-lookup"><span data-stu-id="7356d-138">Press F5 to launch your web site.</span></span> <span data-ttu-id="7356d-139">Visual Studio には、デバッグを有効にする web.config ファイルを追加するように求められますそのための操作を行います。</span><span class="sxs-lookup"><span data-stu-id="7356d-139">Visual Studio will prompt you to add a web.config file to enable debugging; do so.</span></span> <span data-ttu-id="7356d-140">ボタンをクリックすると、ラベルのテキストを変更するページが更新され、ページが再描画されると、簡単なちらつきがあることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="7356d-140">When you click the button, notice that the page refreshes to change the text in the label, and there is a brief flicker as the page is redrawn.</span></span>
2. <span data-ttu-id="7356d-141">ブラウザー ウィンドウを閉じると、Visual studio、およびマークアップのページを返します。</span><span class="sxs-lookup"><span data-stu-id="7356d-141">After closing your browser window, return to Visual Studio and to the markup page.</span></span> <span data-ttu-id="7356d-142">Visual Studio ツールボックスにスクロールし、[AJAX Extensions] タブを検索します。</span><span class="sxs-lookup"><span data-stu-id="7356d-142">Scroll down in the Visual Studio toolbox, and find the tab labeled AJAX Extensions.</span></span> <span data-ttu-id="7356d-143">ない場合はこのタブの AJAX 機能または地図の拡張機能の古いバージョンを使用しているため、このホワイト ペーパーの後半で、AJAX Extensions ツールボックス項目を登録するためのチュートリアルを参照してください (ダウンロード可能な Windows インストーラーで、現在のバージョンをインストールweb サイトから)。</span><span class="sxs-lookup"><span data-stu-id="7356d-143">(If you do not have this tab because you are using an older version of AJAX or Atlas extensions, refer to the walkthrough for registering the AJAX Extensions toolbox items later in this whitepaper, or install the current version with the Windows Installer downloadable from the website).</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image2.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image1.png)

<span data-ttu-id="7356d-144">([フルサイズのイメージを表示するをクリックして](understanding-partial-page-updates-with-asp-net-ajax/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="7356d-144">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image3.png))</span></span>


1. <span data-ttu-id="7356d-145"><em>既知の問題点:</em>Visual Studio 2008 が AJAX Extensions ツールボックス アイテムをインポート、ASP.NET 2.0 AJAX Extensions にインストールされている Visual Studio 2005 には既にコンピューターに Visual Studio 2008 をインストールする場合。</span><span class="sxs-lookup"><span data-stu-id="7356d-145"><em>Known Issue:</em>If you install Visual Studio 2008 onto a computer that already has Visual Studio 2005 installed with the ASP.NET 2.0 AJAX Extensions, Visual Studio 2008 will import the AJAX Extensions toolbox items.</span></span> <span data-ttu-id="7356d-146">コンポーネントにツールヒントを確認するにはそうではあるかどうかを判断できます。バージョン 3.5.0.0 と記述する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7356d-146">You can determine whether this is the case by examining the tooltip of the components; they should say Version 3.5.0.0.</span></span> <span data-ttu-id="7356d-147">バージョン 2.0.0.0 と主張する場合、古いツールボックス アイテムをインポートし、それらを Visual Studio のツールボックス アイテムの選択 ダイアログを使用して手動でインポートする必要があります。</span><span class="sxs-lookup"><span data-stu-id="7356d-147">If they say Version 2.0.0.0, then you have imported your old toolbox items, and will need to manually import them by using the Choose Toolbox Items dialog in Visual Studio.</span></span> <span data-ttu-id="7356d-148">デザイナーを使用してバージョン 2 のコントロールを追加することはできません。</span><span class="sxs-lookup"><span data-stu-id="7356d-148">You will be unable to add Version 2 controls via the designer.</span></span>

2. <span data-ttu-id="7356d-149">前に、`<asp:Label>`タグの開始、空白の行を作成し、ツールボックスで UpdatePanel コントロールをダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="7356d-149">Before the `<asp:Label>` tag begins, create a line of whitespace, and double-click on the UpdatePanel control in the toolbox.</span></span> <span data-ttu-id="7356d-150">なお、新しい`@Register`ディレクティブを使用して派生内のコントロールをインポートすることを示す、ページの上部に含まれる、`asp:`プレフィックス。</span><span class="sxs-lookup"><span data-stu-id="7356d-150">Note that a new `@Register` directive is included at the top of the page, indicating that controls within the System.Web.UI namespace should be imported using the `asp:` prefix.</span></span>
3. <span data-ttu-id="7356d-151">終了をドラッグして`</asp:UpdatePanel>`ボタン要素の末尾を越えたタグ付けしてことでラップされたコントロールのラベルおよびボタンのコントロール要素が適切な形式です。</span><span class="sxs-lookup"><span data-stu-id="7356d-151">Drag the closing `</asp:UpdatePanel>` tag past the end of the Button element, so that the element is well-formed with the Label and Button controls wrapped.</span></span>
4. <span data-ttu-id="7356d-152">オープン後`<asp:UpdatePanel>`タグ、開始新しいタグを開始します。</span><span class="sxs-lookup"><span data-stu-id="7356d-152">After the opening `<asp:UpdatePanel>` tag, begin opening a new tag.</span></span> <span data-ttu-id="7356d-153">IntelliSense 確認が求めるされる 2 つのオプションに注意してください。</span><span class="sxs-lookup"><span data-stu-id="7356d-153">Note that IntelliSense prompts you with two options.</span></span> <span data-ttu-id="7356d-154">この場合、作成、`<ContentTemplate>`タグ。</span><span class="sxs-lookup"><span data-stu-id="7356d-154">In this case, create a `<ContentTemplate>` tag.</span></span> <span data-ttu-id="7356d-155">マークアップが整形式ようにラベルとボタンの周囲には、このタグをラップすることを確認します。</span><span class="sxs-lookup"><span data-stu-id="7356d-155">Be sure to wrap this tag around your Label and Button so that the markup is well-formed.</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image5.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image4.png)

<span data-ttu-id="7356d-156">([フルサイズのイメージを表示するをクリックして](understanding-partial-page-updates-with-asp-net-ajax/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="7356d-156">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image6.png))</span></span>


1. <span data-ttu-id="7356d-157">任意の場所に、`<form>`要素をダブルクリックして ScriptManager コントロールを含める、`ScriptManager`ツールボックス内の項目。</span><span class="sxs-lookup"><span data-stu-id="7356d-157">Anywhere within the `<form>` element, include a ScriptManager control by double-clicking on the `ScriptManager` item in the toolbox.</span></span>
2. <span data-ttu-id="7356d-158">編集、`<asp:ScriptManager>`属性が含まれるようにタグ付け`EnablePartialRendering= true`です。</span><span class="sxs-lookup"><span data-stu-id="7356d-158">Edit the `<asp:ScriptManager>` tag so that it includes the attribute `EnablePartialRendering= true`.</span></span>

<span data-ttu-id="7356d-159">**部分的なレンダリングを有効になっている default.aspx のマークアップを 3 の一覧を表示するには:**</span><span class="sxs-lookup"><span data-stu-id="7356d-159">**Listing 3: Markup for default.aspx with partial rendering enabled**</span></span>

[!code-aspx[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample3.aspx)]

1. <span data-ttu-id="7356d-160">Web.config ファイルを開きます。</span><span class="sxs-lookup"><span data-stu-id="7356d-160">Open your web.config file.</span></span> <span data-ttu-id="7356d-161">Visual Studio が System.Web.Extensions.dll への参照をコンパイルを自動的に追加することを確認します。</span><span class="sxs-lookup"><span data-stu-id="7356d-161">Notice that Visual Studio has automatically added a compilation reference to System.Web.Extensions.dll.</span></span>

1. <span data-ttu-id="7356d-162">Visual Studio 2008 の新: 自動的に ASP.NET Web サイト プロジェクト テンプレートに付属している web.config ファイルは、ASP.NET AJAX Extensions に必要なすべての参照が含まれています、使用可能な構成情報のセクションでにはコメントが含まれていますその他の機能を有効にされていないコメント。</span><span class="sxs-lookup"><span data-stu-id="7356d-162">What's New in Visual Studio 2008: The web.config that comes with the ASP.NET Web Site project templates automatically includes all necessary references to the ASP.NET AJAX Extensions, and includes commented sections of configuration information that can be un-commented to enable additional functionality.</span></span> <span data-ttu-id="7356d-163">Visual Studio 2005 では、ASP.NET 2.0 AJAX Extensions がインストールされたときのようなテンプレートがありました。</span><span class="sxs-lookup"><span data-stu-id="7356d-163">Visual Studio 2005 had similar templates when ASP.NET 2.0 AJAX Extensions were installed.</span></span> <span data-ttu-id="7356d-164">ただし、Visual Studio 2008 で AJAX 拡張機能は、オプトアウト既定で (つまりが既定では、参照されるが、参照として削除されることができます)。</span><span class="sxs-lookup"><span data-stu-id="7356d-164">However, in Visual Studio 2008, the AJAX Extensions are opt-out by default (that is, they are referenced by default, but can be removed as references).</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image8.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image7.png)

<span data-ttu-id="7356d-165">([フルサイズのイメージを表示するをクリックして](understanding-partial-page-updates-with-asp-net-ajax/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="7356d-165">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image9.png))</span></span>


1. <span data-ttu-id="7356d-166">F5 キーを押して、web サイトを起動します。</span><span class="sxs-lookup"><span data-stu-id="7356d-166">Press F5 to launch your website.</span></span> <span data-ttu-id="7356d-167">ソース コードの変更の部分的なレンダリングをサポートする必要はありません - マークアップのみが変更された方法に注意してください。</span><span class="sxs-lookup"><span data-stu-id="7356d-167">Note how no source code changes were required to support partial rendering - only markup was changed.</span></span>

<span data-ttu-id="7356d-168">Web サイトを起動するときに、部分的なレンダリングは をクリックする場合、ボタンがあります。 ちらつきはされませんまた (この例では示しませんを)、ページのスクロール位置を変更してもありますので、これで、有効になっていることが表示されます。</span><span class="sxs-lookup"><span data-stu-id="7356d-168">When you launch your website, you should see that partial rendering is now enabled, because when you click on the button there will be no flicker, nor will there be any change in the page scroll position (this example does not demonstrate that).</span></span> <span data-ttu-id="7356d-169">ボタンをクリックした後、ページのレンダリングのソースに検索する場合は、これはことを確認実際には、ポストバックが発生していない - 元のラベルのテキストは、まだソース マークアップの javascript ラベルが変更されました。</span><span class="sxs-lookup"><span data-stu-id="7356d-169">If you were to look at the rendered source of the page after clicking the button, it will confirm that in fact a post-back has not occurred - the original label text is still part of the source markup, and the label has changed through JavaScript.</span></span>

<span data-ttu-id="7356d-170">Visual Studio 2008 は、ASP.NET AJAX 対応の web サイトの定義済みテンプレートに付属するは表示されません。</span><span class="sxs-lookup"><span data-stu-id="7356d-170">Visual Studio 2008 does not appear to come with a pre-defined template for an ASP.NET AJAX-Enabled web site.</span></span> <span data-ttu-id="7356d-171">ただし、このようなテンプレートが Visual Studio 2005 内で使用できる、Visual Studio 2005 と ASP.NET 2.0 AJAX Extensions がインストールされた場合。</span><span class="sxs-lookup"><span data-stu-id="7356d-171">However, such a template was available within Visual Studio 2005 if the Visual Studio 2005 and ASP.NET 2.0 AJAX Extensions were installed.</span></span> <span data-ttu-id="7356d-172">その結果、AJAX-Enabled Web サイト テンプレートで、web サイトを構成し、開始が場合があります。、さらに簡単にテンプレートをサポートしているすべての Web サービスのアクセスなど、ASP.NET AJAX Extensions 完全に構成された web.config ファイルを含める必要があります。および JSON のシリアル化の JavaScript Object Notation) と既定では、UpdatePanel と ContentTemplate をメインの Web フォーム ページ内に含まれています。</span><span class="sxs-lookup"><span data-stu-id="7356d-172">Consequently, configuring a web site and starting with the AJAX-Enabled Web Site template will likely be even easier, as the template should include a fully-configured web.config file (supporting all of the ASP.NET AJAX Extensions, including Web Services access and JSON serialization - JavaScript Object Notation) and includes an UpdatePanel and ContentTemplate within the main Web Forms page by default.</span></span> <span data-ttu-id="7356d-173">この既定のページで部分のレンダリングを有効にするはこのチュートリアルの手順 10 を見直す必要し、ページ上にコントロールを削除するように単純です。</span><span class="sxs-lookup"><span data-stu-id="7356d-173">Enabling partial rendering with this default page is as simple as revisiting Step 10 of this walkthrough and dropping controls onto the page.</span></span>

## <a name="the-scriptmanager-control"></a><span data-ttu-id="7356d-174">ScriptManager コントロール</span><span class="sxs-lookup"><span data-stu-id="7356d-174">The ScriptManager Control</span></span>

## <a name="scriptmanager-control-reference"></a><span data-ttu-id="7356d-175">ScriptManager コントロールのリファレンス</span><span class="sxs-lookup"><span data-stu-id="7356d-175">ScriptManager Control Reference</span></span>

<span data-ttu-id="7356d-176">マークアップが有効なプロパティ:</span><span class="sxs-lookup"><span data-stu-id="7356d-176">Markup-Enabled Properties:</span></span>

| <span data-ttu-id="7356d-177">**プロパティ名**</span><span class="sxs-lookup"><span data-stu-id="7356d-177">**Property Name**</span></span> | <span data-ttu-id="7356d-178">**Type**</span><span class="sxs-lookup"><span data-stu-id="7356d-178">**Type**</span></span> | <span data-ttu-id="7356d-179">**説明**</span><span class="sxs-lookup"><span data-stu-id="7356d-179">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7356d-180">AllowCustomErrors-Redirect</span><span class="sxs-lookup"><span data-stu-id="7356d-180">AllowCustomErrors-Redirect</span></span> | <span data-ttu-id="7356d-181">Bool</span><span class="sxs-lookup"><span data-stu-id="7356d-181">Bool</span></span> | <span data-ttu-id="7356d-182">エラーを処理する web.config ファイルのカスタム エラー セクションを使用するかどうかを指定します。</span><span class="sxs-lookup"><span data-stu-id="7356d-182">Specifies whether to use the custom error section of the web.config file to handle errors.</span></span> |
| <span data-ttu-id="7356d-183">AsyncPostBackError-Message</span><span class="sxs-lookup"><span data-stu-id="7356d-183">AsyncPostBackError-Message</span></span> | <span data-ttu-id="7356d-184">String</span><span class="sxs-lookup"><span data-stu-id="7356d-184">String</span></span> | <span data-ttu-id="7356d-185">取得またはエラーが発生した場合、クライアントに送信するエラー メッセージを設定します。</span><span class="sxs-lookup"><span data-stu-id="7356d-185">Gets or sets the error message sent to the client if an error is raised.</span></span> |
| <span data-ttu-id="7356d-186">AsyncPostBack-Timeout</span><span class="sxs-lookup"><span data-stu-id="7356d-186">AsyncPostBack-Timeout</span></span> | <span data-ttu-id="7356d-187">Int32</span><span class="sxs-lookup"><span data-stu-id="7356d-187">Int32</span></span> | <span data-ttu-id="7356d-188">取得またはクライアントが完了する非同期要求を待機する時間の既定値を設定します。</span><span class="sxs-lookup"><span data-stu-id="7356d-188">Gets or sets the default amount of a time a client should wait for the asynchronous request to complete.</span></span> |
| <span data-ttu-id="7356d-189">EnableScript-Globalization</span><span class="sxs-lookup"><span data-stu-id="7356d-189">EnableScript-Globalization</span></span> | <span data-ttu-id="7356d-190">Bool</span><span class="sxs-lookup"><span data-stu-id="7356d-190">Bool</span></span> | <span data-ttu-id="7356d-191">取得またはスクリプトのグローバリゼーションを有効にするかどうかを設定します。</span><span class="sxs-lookup"><span data-stu-id="7356d-191">Gets or sets whether script globalization is enabled.</span></span> |
| <span data-ttu-id="7356d-192">EnableScript-Localization</span><span class="sxs-lookup"><span data-stu-id="7356d-192">EnableScript-Localization</span></span> | <span data-ttu-id="7356d-193">Bool</span><span class="sxs-lookup"><span data-stu-id="7356d-193">Bool</span></span> | <span data-ttu-id="7356d-194">取得またはスクリプトのローカライズが有効になっているかどうかを設定します。</span><span class="sxs-lookup"><span data-stu-id="7356d-194">Gets or sets whether script localization is enabled.</span></span> |
| <span data-ttu-id="7356d-195">ScriptLoadTimeout</span><span class="sxs-lookup"><span data-stu-id="7356d-195">ScriptLoadTimeout</span></span> | <span data-ttu-id="7356d-196">Int32</span><span class="sxs-lookup"><span data-stu-id="7356d-196">Int32</span></span> | <span data-ttu-id="7356d-197">クライアントにスクリプトを読み込むためのできる秒数を決定します。</span><span class="sxs-lookup"><span data-stu-id="7356d-197">Determines the number of seconds allowed for loading scripts into the client</span></span> |
| <span data-ttu-id="7356d-198">ScriptMode</span><span class="sxs-lookup"><span data-stu-id="7356d-198">ScriptMode</span></span> | <span data-ttu-id="7356d-199">列挙型 (自動、デバッグ、リリース、継承)</span><span class="sxs-lookup"><span data-stu-id="7356d-199">Enum (Auto, Debug, Release, Inherit)</span></span> | <span data-ttu-id="7356d-200">取得またはリリース バージョンのスクリプトをレンダリングするかどうかを設定</span><span class="sxs-lookup"><span data-stu-id="7356d-200">Gets or sets whether to render release versions of scripts</span></span> |
| <span data-ttu-id="7356d-201">ScriptPath</span><span class="sxs-lookup"><span data-stu-id="7356d-201">ScriptPath</span></span> | <span data-ttu-id="7356d-202">String</span><span class="sxs-lookup"><span data-stu-id="7356d-202">String</span></span> | <span data-ttu-id="7356d-203">取得またはクライアントに送信するスクリプト ファイルの場所にルート パスを設定します。</span><span class="sxs-lookup"><span data-stu-id="7356d-203">Gets or sets the root path to the location of script files to be sent to the client.</span></span> |

<span data-ttu-id="7356d-204">コード専用のプロパティ:</span><span class="sxs-lookup"><span data-stu-id="7356d-204">Code-Only Properties:</span></span>

| <span data-ttu-id="7356d-205">**プロパティ名**</span><span class="sxs-lookup"><span data-stu-id="7356d-205">**Property Name**</span></span> | <span data-ttu-id="7356d-206">**Type**</span><span class="sxs-lookup"><span data-stu-id="7356d-206">**Type**</span></span> | <span data-ttu-id="7356d-207">**説明**</span><span class="sxs-lookup"><span data-stu-id="7356d-207">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7356d-208">AuthenticationService</span><span class="sxs-lookup"><span data-stu-id="7356d-208">AuthenticationService</span></span> | <span data-ttu-id="7356d-209">AuthenticationService-Manager</span><span class="sxs-lookup"><span data-stu-id="7356d-209">AuthenticationService-Manager</span></span> | <span data-ttu-id="7356d-210">詳細については、クライアントに送信される ASP.NET 認証サービス プロキシを取得します。</span><span class="sxs-lookup"><span data-stu-id="7356d-210">Gets details about the ASP.NET Authentication Service proxy that will be sent to the client.</span></span> |
| <span data-ttu-id="7356d-211">IsDebuggingEnabled</span><span class="sxs-lookup"><span data-stu-id="7356d-211">IsDebuggingEnabled</span></span> | <span data-ttu-id="7356d-212">Bool</span><span class="sxs-lookup"><span data-stu-id="7356d-212">Bool</span></span> | <span data-ttu-id="7356d-213">取得するかどうかスクリプトを作成し、コードのデバッグを有効にします。</span><span class="sxs-lookup"><span data-stu-id="7356d-213">Gets whether script and code debugging is enabled.</span></span> |
| <span data-ttu-id="7356d-214">IsInAsyncPostback</span><span class="sxs-lookup"><span data-stu-id="7356d-214">IsInAsyncPostback</span></span> | <span data-ttu-id="7356d-215">Bool</span><span class="sxs-lookup"><span data-stu-id="7356d-215">Bool</span></span> | <span data-ttu-id="7356d-216">ページが現在非同期ポストバック要求であるかどうかを取得します。</span><span class="sxs-lookup"><span data-stu-id="7356d-216">Gets whether the page is currently in an asynchronous post back request.</span></span> |
| <span data-ttu-id="7356d-217">ProfileService</span><span class="sxs-lookup"><span data-stu-id="7356d-217">ProfileService</span></span> | <span data-ttu-id="7356d-218">ProfileService-Manager</span><span class="sxs-lookup"><span data-stu-id="7356d-218">ProfileService-Manager</span></span> | <span data-ttu-id="7356d-219">詳細については、クライアントに送信される ASP.NET プロファイリング サービス プロキシを取得します。</span><span class="sxs-lookup"><span data-stu-id="7356d-219">Gets details about the ASP.NET Profiling Service proxy that will be sent to the client.</span></span> |
| <span data-ttu-id="7356d-220">スクリプト</span><span class="sxs-lookup"><span data-stu-id="7356d-220">Scripts</span></span> | <span data-ttu-id="7356d-221">コレクション&lt;スクリプト リファレンス&gt;</span><span class="sxs-lookup"><span data-stu-id="7356d-221">Collection&lt;Script-Reference&gt;</span></span> | <span data-ttu-id="7356d-222">クライアントに送信されるスクリプト参照のコレクションを取得します。</span><span class="sxs-lookup"><span data-stu-id="7356d-222">Gets a collection of script references that will be sent to the client.</span></span> |
| <span data-ttu-id="7356d-223">サービス</span><span class="sxs-lookup"><span data-stu-id="7356d-223">Services</span></span> | <span data-ttu-id="7356d-224">コレクション&lt;サービス参照&gt;</span><span class="sxs-lookup"><span data-stu-id="7356d-224">Collection&lt;Service-Reference&gt;</span></span> | <span data-ttu-id="7356d-225">クライアントに送信される Web サービス プロキシの参照のコレクションを取得します。</span><span class="sxs-lookup"><span data-stu-id="7356d-225">Gets a collection of Web Service proxy references that will be sent to the client.</span></span> |
| <span data-ttu-id="7356d-226">SupportsPartialRendering</span><span class="sxs-lookup"><span data-stu-id="7356d-226">SupportsPartialRendering</span></span> | <span data-ttu-id="7356d-227">Bool</span><span class="sxs-lookup"><span data-stu-id="7356d-227">Bool</span></span> | <span data-ttu-id="7356d-228">現在のクライアントは、部分的なレンダリングをサポートしているかどうかを取得します。</span><span class="sxs-lookup"><span data-stu-id="7356d-228">Gets whether the current client supports partial rendering.</span></span> <span data-ttu-id="7356d-229">このプロパティを返す場合**false**、すべてのページ要求は標準的なポストバックになります。</span><span class="sxs-lookup"><span data-stu-id="7356d-229">If this property returns **false**, then all page requests will be standard postbacks.</span></span> |

<span data-ttu-id="7356d-230">コードのパブリック メソッド:</span><span class="sxs-lookup"><span data-stu-id="7356d-230">Public Code Methods:</span></span>

| <span data-ttu-id="7356d-231">**メソッド名**</span><span class="sxs-lookup"><span data-stu-id="7356d-231">**Method Name**</span></span> | <span data-ttu-id="7356d-232">**Type**</span><span class="sxs-lookup"><span data-stu-id="7356d-232">**Type**</span></span> | <span data-ttu-id="7356d-233">**説明**</span><span class="sxs-lookup"><span data-stu-id="7356d-233">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7356d-234">SetFocus(string)</span><span class="sxs-lookup"><span data-stu-id="7356d-234">SetFocus(string)</span></span> | <span data-ttu-id="7356d-235">Void</span><span class="sxs-lookup"><span data-stu-id="7356d-235">Void</span></span> | <span data-ttu-id="7356d-236">要求が完了したときに、特定のコントロールに、クライアントのフォーカスを設定します。</span><span class="sxs-lookup"><span data-stu-id="7356d-236">Sets the focus of the client to a particular control when the request has completed.</span></span> |

<span data-ttu-id="7356d-237">マークアップ子孫:</span><span class="sxs-lookup"><span data-stu-id="7356d-237">Markup Descendants:</span></span>

| <span data-ttu-id="7356d-238">**タグ**</span><span class="sxs-lookup"><span data-stu-id="7356d-238">**Tag**</span></span> | <span data-ttu-id="7356d-239">**説明**</span><span class="sxs-lookup"><span data-stu-id="7356d-239">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="7356d-240">&lt;AuthenticationService&gt;</span><span class="sxs-lookup"><span data-stu-id="7356d-240">&lt;AuthenticationService&gt;</span></span> | <span data-ttu-id="7356d-241">ASP.NET 認証サービスへのプロキシの詳細を提供します。</span><span class="sxs-lookup"><span data-stu-id="7356d-241">Provides details about the proxy to the ASP.NET authentication service.</span></span> |
| <span data-ttu-id="7356d-242">&lt;ProfileService&gt;</span><span class="sxs-lookup"><span data-stu-id="7356d-242">&lt;ProfileService&gt;</span></span> | <span data-ttu-id="7356d-243">ASP.NET のサービスをプロファイリングするプロキシの詳細を提供します。</span><span class="sxs-lookup"><span data-stu-id="7356d-243">Provides details about the proxy to the ASP.NET profiling service.</span></span> |
| <span data-ttu-id="7356d-244">&lt;スクリプト&gt;</span><span class="sxs-lookup"><span data-stu-id="7356d-244">&lt;Scripts&gt;</span></span> | <span data-ttu-id="7356d-245">その他のスクリプト参照を提供します。</span><span class="sxs-lookup"><span data-stu-id="7356d-245">Provides additional script references.</span></span> |
| <span data-ttu-id="7356d-246">&lt;asp:ScriptReference&gt;</span><span class="sxs-lookup"><span data-stu-id="7356d-246">&lt;asp:ScriptReference&gt;</span></span> | <span data-ttu-id="7356d-247">特定のスクリプト参照を表します。</span><span class="sxs-lookup"><span data-stu-id="7356d-247">Denotes a specific script reference.</span></span> |
| <span data-ttu-id="7356d-248">&lt;サービス&gt;</span><span class="sxs-lookup"><span data-stu-id="7356d-248">&lt;Service&gt;</span></span> | <span data-ttu-id="7356d-249">生成されたプロキシ クラスを持つその他の Web サービス参照を提供します。</span><span class="sxs-lookup"><span data-stu-id="7356d-249">Provides additional Web Service references which will have proxy classes generated.</span></span> |
| <span data-ttu-id="7356d-250">&lt;asp:ServiceReference&gt;</span><span class="sxs-lookup"><span data-stu-id="7356d-250">&lt;asp:ServiceReference&gt;</span></span> | <span data-ttu-id="7356d-251">特定の Web サービス参照を表します。</span><span class="sxs-lookup"><span data-stu-id="7356d-251">Denotes a specific Web Service reference.</span></span> |

<span data-ttu-id="7356d-252">ScriptManager コントロールは、ASP.NET AJAX 拡張機能の必須コアです。</span><span class="sxs-lookup"><span data-stu-id="7356d-252">The ScriptManager control is the essential core for the ASP.NET AJAX Extensions.</span></span> <span data-ttu-id="7356d-253">(広範なクライアント側-スクリプトの型システムを含む)、スクリプト ライブラリへのアクセスを提供、部分のレンダリングをサポートおよびその他の ASP.NET サービス (認証と、プロファイリングも他の Web サービス) などの広範なサポートを提供します。</span><span class="sxs-lookup"><span data-stu-id="7356d-253">It provides access to the script library (including the extensive client-side script type system), supports partial rendering, and provides extensive support for additional ASP.NET services (such as authentication and profiling, but also other Web Services).</span></span> <span data-ttu-id="7356d-254">ScriptManager コントロールは、グローバリゼーションとローカリゼーションは、クライアント スクリプトのサポートも提供します。</span><span class="sxs-lookup"><span data-stu-id="7356d-254">The ScriptManager control also provides globalization and localization support for the client scripts.</span></span>

## <a name="providing-alterative-and-supplemental-scripts"></a><span data-ttu-id="7356d-255">こうしたおよび補足的なスクリプトを提供します。</span><span class="sxs-lookup"><span data-stu-id="7356d-255">Providing Alterative and Supplemental Scripts</span></span>

<span data-ttu-id="7356d-256">Microsoft ASP.NET 2.0 AJAX Extensions では、両方のデバッグに全体のスクリプト コードを追加、参照されるアセンブリに埋め込まれたリソースとしてエディションを離すと、開発者は、ScriptManager をカスタマイズしたスクリプト ファイルにリダイレクトだけでなく登録するために解放必要なスクリプトを追加します。</span><span class="sxs-lookup"><span data-stu-id="7356d-256">While the Microsoft ASP.NET 2.0 AJAX Extensions include the entire script code in both debug and release editions as resources embedded in the referenced assemblies, developers are free to redirect the ScriptManager to customized script files, as well as register additional necessary scripts.</span></span>

<span data-ttu-id="7356d-257">登録できます (Sys.WebForms 名前空間とカスタム入力システムをサポートするもの) などの通常含まれるスクリプトの既定のバインディングをオーバーライドする、 `ResolveScriptReference` ScriptManager クラスのイベントです。</span><span class="sxs-lookup"><span data-stu-id="7356d-257">To override the default binding for the typically-included scripts (such as those which support the Sys.WebForms namespace and the custom typing system), you can register for the `ResolveScriptReference` event of the ScriptManager class.</span></span> <span data-ttu-id="7356d-258">イベント ハンドラーの問題; のスクリプト ファイルへのパスを変更することがこのメソッドが呼び出されると、スクリプト マネージャーは、異なるまたはカスタマイズされたコピーを送信するスクリプトのクライアントです。</span><span class="sxs-lookup"><span data-stu-id="7356d-258">When this method is called, the event handler has the opportunity to change the path to the script file in question; the script manager will then send a different or customized copy of the scripts to the client.</span></span>

<span data-ttu-id="7356d-259">さらに、スクリプト参照 (によって表される、`ScriptReference`クラス) プログラムから、またはマークアップを使用して指定できます。</span><span class="sxs-lookup"><span data-stu-id="7356d-259">Additionally, script references (represented by the `ScriptReference` class) can be included programmatically or via markup.</span></span> <span data-ttu-id="7356d-260">これを行うには、プログラムを変更するか、`ScriptManager.Scripts`コレクション、または含める`<asp:ScriptReference>`タグの下、 `<Scripts>` ScriptManager コントロールの最初のレベルの子であるタグ。</span><span class="sxs-lookup"><span data-stu-id="7356d-260">To do so, either programmatically modify the `ScriptManager.Scripts` collection, or include `<asp:ScriptReference>` tags under the `<Scripts>` tag, which is a first-level child of the ScriptManager control.</span></span>

## <a name="custom-error-handling-for-updatepanels"></a><span data-ttu-id="7356d-261">カスタム エラー処理を抑えられる</span><span class="sxs-lookup"><span data-stu-id="7356d-261">Custom Error Handling for UpdatePanels</span></span>

<span data-ttu-id="7356d-262">UpdatePanel コントロールで指定されたトリガーにより、更新プログラムの処理が、エラー処理とカスタム エラー メッセージのサポートは、ページの ScriptManager コントロールのインスタンスによって処理されます。</span><span class="sxs-lookup"><span data-stu-id="7356d-262">Although updates are handled by triggers specified by UpdatePanel controls, the support for error handling and custom error messages is handled by a page's ScriptManager control instance.</span></span> <span data-ttu-id="7356d-263">これには、イベントの公開を`AsyncPostBackError`がページにし、カスタム例外処理のロジックを提供します。</span><span class="sxs-lookup"><span data-stu-id="7356d-263">This is done by exposing an event, `AsyncPostBackError`, to the page which can then provide custom exception-handling logic.</span></span>

<span data-ttu-id="7356d-264">指定することによって、AsyncPostBackError イベントを使用するには、`AsyncPostBackErrorMessage`プロパティで、コールバックの完了時に発生するメッセージ ボックスを引き起こします。</span><span class="sxs-lookup"><span data-stu-id="7356d-264">By consuming the AsyncPostBackError event, you may specify the `AsyncPostBackErrorMessage` property, which then causes an alert box to be raised upon completion of the callback.</span></span>

<span data-ttu-id="7356d-265">クライアント側のカスタマイズも可能です。 既定のアラートのボックスを使用する代わりにです。インスタンスが表示する、カスタマイズされた`<div>`既定のブラウザーのモーダル ダイアログ ボックスではなく要素。</span><span class="sxs-lookup"><span data-stu-id="7356d-265">Client-side customization is also possible instead of using the default alert box; for instance, you may want to display a customized `<div>` element rather than the default browser modal dialog.</span></span> <span data-ttu-id="7356d-266">この場合、クライアント スクリプトでエラーを処理できます。</span><span class="sxs-lookup"><span data-stu-id="7356d-266">In this case, you can handle the error in client script:</span></span>

<span data-ttu-id="7356d-267">**カスタム エラーを表示するクライアント側スクリプトの 5 の一覧を表示するには:**</span><span class="sxs-lookup"><span data-stu-id="7356d-267">**Listing 5: Client-side script to display custom errors**</span></span>

[!code-html[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample4.html)]

<span data-ttu-id="7356d-268">簡単に言えば、前述のスクリプトは、非同期要求が完了したときとのクライアント側の AJAX ランタイムと、コールバックを登録します。</span><span class="sxs-lookup"><span data-stu-id="7356d-268">Quite simply, the above script registers a callback with the client-side AJAX runtime for when the asynchronous request has been completed.</span></span> <span data-ttu-id="7356d-269">これは、後、エラーが報告されたかどうかを確認し、場合は、カスタム スクリプトでエラーが処理されたことをランタイムに最後に示すの詳細を処理します。</span><span class="sxs-lookup"><span data-stu-id="7356d-269">It then checks to see whether an error was reported, and if so, processes the details of it, finally indicating to the runtime that the error was handled in custom script.</span></span>

## <a name="globalization-and-localization-support"></a><span data-ttu-id="7356d-270">グローバリゼーションとローカリゼーションのサポート</span><span class="sxs-lookup"><span data-stu-id="7356d-270">Globalization and Localization Support</span></span>

<span data-ttu-id="7356d-271">ScriptManager コントロールのスクリプトの文字列とユーザー インターフェイス コンポーネント; ローカライズ広範なサポートを提供します。ただし、このトピックでは、このホワイト ペーパーの範囲外です。</span><span class="sxs-lookup"><span data-stu-id="7356d-271">The ScriptManager control provides extensive support for localization of script strings and user interface components; however, that topic is outside of the scope of this whitepaper.</span></span> <span data-ttu-id="7356d-272">詳細については、ASP.NET AJAX Extensions にグローバル化のサポートに関するホワイト ペーパーを参照してください。</span><span class="sxs-lookup"><span data-stu-id="7356d-272">For more information, see the whitepaper, Globalization Support in ASP.NET AJAX Extensions.</span></span>

## <a name="the-updatepanel-control"></a><span data-ttu-id="7356d-273">UpdatePanel コントロール</span><span class="sxs-lookup"><span data-stu-id="7356d-273">The UpdatePanel Control</span></span>

## <a name="updatepanel-control-reference"></a><span data-ttu-id="7356d-274">UpdatePanel コントロールの参照</span><span class="sxs-lookup"><span data-stu-id="7356d-274">UpdatePanel Control Reference</span></span>

<span data-ttu-id="7356d-275">マークアップが有効なプロパティ:</span><span class="sxs-lookup"><span data-stu-id="7356d-275">Markup-Enabled Properties:</span></span>

| <span data-ttu-id="7356d-276">**プロパティ名**</span><span class="sxs-lookup"><span data-stu-id="7356d-276">**Property Name**</span></span> | <span data-ttu-id="7356d-277">**Type**</span><span class="sxs-lookup"><span data-stu-id="7356d-277">**Type**</span></span> | <span data-ttu-id="7356d-278">**説明**</span><span class="sxs-lookup"><span data-stu-id="7356d-278">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7356d-279">ChildrenAsTriggers</span><span class="sxs-lookup"><span data-stu-id="7356d-279">ChildrenAsTriggers</span></span> | <span data-ttu-id="7356d-280">bool</span><span class="sxs-lookup"><span data-stu-id="7356d-280">bool</span></span> | <span data-ttu-id="7356d-281">子コントロールがポストバック時に更新を自動的に起動するかどうかを指定します。</span><span class="sxs-lookup"><span data-stu-id="7356d-281">Specifies whether child controls automatically invoke refresh on postback.</span></span> |
| <span data-ttu-id="7356d-282">RenderMode</span><span class="sxs-lookup"><span data-stu-id="7356d-282">RenderMode</span></span> | <span data-ttu-id="7356d-283">(ブロック、インライン) 列挙型</span><span class="sxs-lookup"><span data-stu-id="7356d-283">enum (Block, Inline)</span></span> | <span data-ttu-id="7356d-284">コンテンツの方法は視覚的に表示されるかを指定します。</span><span class="sxs-lookup"><span data-stu-id="7356d-284">Specifies the way the content will be visually presented.</span></span> |
| <span data-ttu-id="7356d-285">UpdateMode</span><span class="sxs-lookup"><span data-stu-id="7356d-285">UpdateMode</span></span> | <span data-ttu-id="7356d-286">enum (常に、条件付き)</span><span class="sxs-lookup"><span data-stu-id="7356d-286">enum (Always, Conditional)</span></span> | <span data-ttu-id="7356d-287">UpdatePanel が部分的なレンダリング中に常に更新されるかどうか、またはトリガーにヒットしたときのみ更新されるかどうかを指定します。</span><span class="sxs-lookup"><span data-stu-id="7356d-287">Specifies whether the UpdatePanel is always refreshed during a partial render or if it is only refreshed when a trigger is hit.</span></span> |

<span data-ttu-id="7356d-288">コード専用のプロパティ:</span><span class="sxs-lookup"><span data-stu-id="7356d-288">Code-Only Properties:</span></span>

| <span data-ttu-id="7356d-289">**プロパティ名**</span><span class="sxs-lookup"><span data-stu-id="7356d-289">**Property Name**</span></span> | <span data-ttu-id="7356d-290">**Type**</span><span class="sxs-lookup"><span data-stu-id="7356d-290">**Type**</span></span> | <span data-ttu-id="7356d-291">**説明**</span><span class="sxs-lookup"><span data-stu-id="7356d-291">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7356d-292">IsInPartialRendering</span><span class="sxs-lookup"><span data-stu-id="7356d-292">IsInPartialRendering</span></span> | <span data-ttu-id="7356d-293">bool</span><span class="sxs-lookup"><span data-stu-id="7356d-293">bool</span></span> | <span data-ttu-id="7356d-294">現在の要求の UpdatePanel が部分的なレンダリングをサポートするかどうかを取得します。</span><span class="sxs-lookup"><span data-stu-id="7356d-294">Gets whether the UpdatePanel is supporting partial rendering for the current request.</span></span> |
| <span data-ttu-id="7356d-295">ContentTemplate</span><span class="sxs-lookup"><span data-stu-id="7356d-295">ContentTemplate</span></span> | <span data-ttu-id="7356d-296">ITemplate</span><span class="sxs-lookup"><span data-stu-id="7356d-296">ITemplate</span></span> | <span data-ttu-id="7356d-297">更新の要求のマークアップのテンプレートを取得します。</span><span class="sxs-lookup"><span data-stu-id="7356d-297">Gets the markup template for the update request.</span></span> |
| <span data-ttu-id="7356d-298">ContentTemplateContainer</span><span class="sxs-lookup"><span data-stu-id="7356d-298">ContentTemplateContainer</span></span> | <span data-ttu-id="7356d-299">コントロール</span><span class="sxs-lookup"><span data-stu-id="7356d-299">Control</span></span> | <span data-ttu-id="7356d-300">更新の要求のプログラムでテンプレートを取得します。</span><span class="sxs-lookup"><span data-stu-id="7356d-300">Gets the programmatic template for the update request.</span></span> |
| <span data-ttu-id="7356d-301">トリガー</span><span class="sxs-lookup"><span data-stu-id="7356d-301">Triggers</span></span> | <span data-ttu-id="7356d-302">UpdatePanel の TriggerCollection</span><span class="sxs-lookup"><span data-stu-id="7356d-302">UpdatePanel- TriggerCollection</span></span> | <span data-ttu-id="7356d-303">現在の UpdatePanel に関連付けられているトリガーの一覧を取得します。</span><span class="sxs-lookup"><span data-stu-id="7356d-303">Gets the list of triggers associated with the current UpdatePanel.</span></span> |

<span data-ttu-id="7356d-304">コードのパブリック メソッド:</span><span class="sxs-lookup"><span data-stu-id="7356d-304">Public Code Methods:</span></span>

| <span data-ttu-id="7356d-305">**メソッド名**</span><span class="sxs-lookup"><span data-stu-id="7356d-305">**Method Name**</span></span> | <span data-ttu-id="7356d-306">**Type**</span><span class="sxs-lookup"><span data-stu-id="7356d-306">**Type**</span></span> | <span data-ttu-id="7356d-307">**説明**</span><span class="sxs-lookup"><span data-stu-id="7356d-307">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7356d-308">Update()</span><span class="sxs-lookup"><span data-stu-id="7356d-308">Update()</span></span> | <span data-ttu-id="7356d-309">Void</span><span class="sxs-lookup"><span data-stu-id="7356d-309">Void</span></span> | <span data-ttu-id="7356d-310">プログラムで指定された UpdatePanel を更新します。</span><span class="sxs-lookup"><span data-stu-id="7356d-310">Updates the specified UpdatePanel programmatically.</span></span> <span data-ttu-id="7356d-311">それ以外の場合トリガーの UpdatePanel の部分的なレンダリングをトリガーするサーバーの要求を許可します。</span><span class="sxs-lookup"><span data-stu-id="7356d-311">Allows a server request to trigger a partial render of an otherwise-untriggered UpdatePanel.</span></span> |

<span data-ttu-id="7356d-312">マークアップ子孫:</span><span class="sxs-lookup"><span data-stu-id="7356d-312">Markup Descendants:</span></span>

| <span data-ttu-id="7356d-313">**タグ**</span><span class="sxs-lookup"><span data-stu-id="7356d-313">**Tag**</span></span> | <span data-ttu-id="7356d-314">**説明**</span><span class="sxs-lookup"><span data-stu-id="7356d-314">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="7356d-315">&lt;ContentTemplate&gt;</span><span class="sxs-lookup"><span data-stu-id="7356d-315">&lt;ContentTemplate&gt;</span></span> | <span data-ttu-id="7356d-316">部分的なレンダリングの結果を表示するために使用するマークアップを指定します。</span><span class="sxs-lookup"><span data-stu-id="7356d-316">Specifies the markup to be used to render the partial rendering result.</span></span> <span data-ttu-id="7356d-317">子&lt;asp: UpdatePanel&gt;です。</span><span class="sxs-lookup"><span data-stu-id="7356d-317">Child of &lt;asp:UpdatePanel&gt;.</span></span> |
| <span data-ttu-id="7356d-318">&lt;トリガー&gt;</span><span class="sxs-lookup"><span data-stu-id="7356d-318">&lt;Triggers&gt;</span></span> | <span data-ttu-id="7356d-319">コレクションを指定*n*この UpdatePanel の更新に関連するコントロール。</span><span class="sxs-lookup"><span data-stu-id="7356d-319">Specifies a collection of *n* controls associated with updating this UpdatePanel.</span></span> <span data-ttu-id="7356d-320">子&lt;asp: UpdatePanel&gt;です。</span><span class="sxs-lookup"><span data-stu-id="7356d-320">Child of &lt;asp:UpdatePanel&gt;.</span></span> |
| <span data-ttu-id="7356d-321">&lt;asp:AsyncPostBackTrigger&gt;</span><span class="sxs-lookup"><span data-stu-id="7356d-321">&lt;asp:AsyncPostBackTrigger&gt;</span></span> | <span data-ttu-id="7356d-322">特定の UpdatePanel の部分ページ レンダリングを起動するトリガーを指定します。</span><span class="sxs-lookup"><span data-stu-id="7356d-322">Specifies a trigger that invokes a partial page render for the given UpdatePanel.</span></span> <span data-ttu-id="7356d-323">これは、問題の UpdatePanel の子として、コントロールができない可能性がありますもかまいません。</span><span class="sxs-lookup"><span data-stu-id="7356d-323">This may or may not be a control as a descendant of the UpdatePanel in question.</span></span> <span data-ttu-id="7356d-324">イベント名に細分化されました。子&lt;トリガー&gt;です。</span><span class="sxs-lookup"><span data-stu-id="7356d-324">Granular to the event name.Child of &lt;Triggers&gt;.</span></span> |
| <span data-ttu-id="7356d-325">&lt;asp:PostBackTrigger&gt;</span><span class="sxs-lookup"><span data-stu-id="7356d-325">&lt;asp:PostBackTrigger&gt;</span></span> | <span data-ttu-id="7356d-326">全体のページが更新を原因となるコントロールを指定します。</span><span class="sxs-lookup"><span data-stu-id="7356d-326">Specifies a control that causes the entire page to refresh.</span></span> <span data-ttu-id="7356d-327">これは、問題の UpdatePanel の子として、コントロールができない可能性がありますもかまいません。</span><span class="sxs-lookup"><span data-stu-id="7356d-327">This may or may not be a control as a descendant of the UpdatePanel in question.</span></span> <span data-ttu-id="7356d-328">オブジェクトに細分化されました。</span><span class="sxs-lookup"><span data-stu-id="7356d-328">Granular to the object.</span></span> <span data-ttu-id="7356d-329">子&lt;トリガー&gt;です。</span><span class="sxs-lookup"><span data-stu-id="7356d-329">Child of &lt;Triggers&gt;.</span></span> |

<span data-ttu-id="7356d-330">`UpdatePanel`コントロールはコントロールの AJAX 拡張機能の部分的なレンダリング機能に参加するサーバー側のコンテンツを取り出すためです。</span><span class="sxs-lookup"><span data-stu-id="7356d-330">The `UpdatePanel` control is the control that delimits the server-side content that will take part in the partial rendering functionality of the AJAX Extensions.</span></span> <span data-ttu-id="7356d-331">ページでは、使用可能な UpdatePanel コントロールの数に制限はありませんし、入れ子にできます。</span><span class="sxs-lookup"><span data-stu-id="7356d-331">There is no limit to the number of UpdatePanel controls that can be on a page, and they can be nested.</span></span> <span data-ttu-id="7356d-332">各 UpdatePanel は、それぞれは独立して動作できるように、分離性、(ページのさまざまな部分をページのポストバックに依存しないレンダリング、同時に実行されている 2 つ Updatepanel を持つことができます)。</span><span class="sxs-lookup"><span data-stu-id="7356d-332">Each UpdatePanel is isolated, so that each can work independently (you can have two UpdatePanels running at the same time, rendering different parts of the page, independent of the page's postback).</span></span>

<span data-ttu-id="7356d-333">UpdatePanel 中心的なトリガーがコントロール - 既定では、UpdatePanel の内に含まれる任意のコントロールを制御する`ContentTemplate`ポストバックを作成する、UpdatePanel のトリガーとして登録されます。</span><span class="sxs-lookup"><span data-stu-id="7356d-333">The UpdatePanel control primarily deals with control triggers - by default, any control contained within an UpdatePanel's `ContentTemplate` that creates a postback is registered as a trigger for the UpdatePanel.</span></span> <span data-ttu-id="7356d-334">つまり、UpdatePanel は、ユーザー コントロール (、GridView など)、既定のデータ バインド コントロールを使用できるようにスクリプトでプログラミングできます。</span><span class="sxs-lookup"><span data-stu-id="7356d-334">This means that the UpdatePanel can work with the default data-bound controls (such as the GridView), with user controls, and they can be programmed in script.</span></span>

<span data-ttu-id="7356d-335">既定では、ページ上のすべての UpdatePanel コントロールが更新されます部分ページ レンダリングがトリガーされたときに、このようなアクションのトリガーが定義されている UpdatePanel を制御するかどうか。</span><span class="sxs-lookup"><span data-stu-id="7356d-335">By default, when a partial page render is triggered, all UpdatePanel controls on the page will be refreshed, whether or not the UpdatePanel controls defined triggers for such action.</span></span> <span data-ttu-id="7356d-336">たとえば、1 つの UpdatePanel ボタン コントロールの定義、そのボタン コントロールがクリックされた場合は、そのページ上のすべての UpdatePanel コントロールが既定では更新されます。</span><span class="sxs-lookup"><span data-stu-id="7356d-336">For example, if one UpdatePanel defines a Button control, and that Button control is clicked, all UpdatePanel controls on that page will be refreshed by default.</span></span> <span data-ttu-id="7356d-337">これは、理由は、既定では、 `UpdateMode` UpdatePanel のプロパティに設定されて`Always`です。</span><span class="sxs-lookup"><span data-stu-id="7356d-337">This is because, by default, the `UpdateMode` property of the UpdatePanel is set to `Always`.</span></span> <span data-ttu-id="7356d-338">また UpdateMode プロパティを設定することがあります`Conditional`場合は、特定のトリガーがヒットは、UpdatePanel の更新されることのみを意味します。</span><span class="sxs-lookup"><span data-stu-id="7356d-338">Alternatively, you may set the UpdateMode property to `Conditional`, which means that the UpdatePanel will only be refreshed if a specific trigger is hit.</span></span>

## <a name="custom-control-notes"></a><span data-ttu-id="7356d-339">カスタム コントロールの注意事項</span><span class="sxs-lookup"><span data-stu-id="7356d-339">Custom Control Notes</span></span>

<span data-ttu-id="7356d-340">UpdatePanel を任意のユーザー コントロールまたはカスタム コントロールを追加できます。ただし、これらのコントロールが含まれているページもあります EnablePartialRendering に設定されたプロパティを持つ ScriptManager コントロール**true**です。</span><span class="sxs-lookup"><span data-stu-id="7356d-340">An UpdatePanel can be added to any user control or custom control; however, the page on which these controls are included must also include a ScriptManager control with the property EnablePartialRendering set to **true**.</span></span>

<span data-ttu-id="7356d-341">1 つの方法がありますを考慮するこの Web カスタム コントロールを使用して、保護されたをオーバーライドするとき`CreateChildControls()`のメソッド、`CompositeControl`クラスです。</span><span class="sxs-lookup"><span data-stu-id="7356d-341">One way in which you might account for this when using Web Custom Controls is to override the protected `CreateChildControls()` method of the `CompositeControl` class.</span></span> <span data-ttu-id="7356d-342">これにより、ページは、部分的なレンダリング; をサポートするいると判断した場合、コントロールの子と外部の間で UpdatePanel を挿入できます。コンテナー内に子コントロールを単にレイヤーをそれ以外の場合、`Control`インスタンス。</span><span class="sxs-lookup"><span data-stu-id="7356d-342">By doing so, you can inject an UpdatePanel between the control's children and the outside world if you determine the page supports partial rendering; otherwise, you can simply layer the child controls into a container `Control` instance.</span></span>

## <a name="updatepanel-considerations"></a><span data-ttu-id="7356d-343">UpdatePanel の考慮事項</span><span class="sxs-lookup"><span data-stu-id="7356d-343">UpdatePanel Considerations</span></span>

<span data-ttu-id="7356d-344">UpdatePanel は ASP.NET ポストバック JavaScript XMLHttpRequest のコンテキスト内での折り返しの黒いボックス、ものとして動作します。</span><span class="sxs-lookup"><span data-stu-id="7356d-344">The UpdatePanel operates as something of a black-box, wrapping ASP.NET postbacks within the context of a JavaScript XMLHttpRequest.</span></span> <span data-ttu-id="7356d-345">ただし、大幅なパフォーマンスの考慮事項に注意して、両方の面での動作と速度があります。</span><span class="sxs-lookup"><span data-stu-id="7356d-345">However, there are significant performance considerations to bear in mind, both in terms of behavior and speed.</span></span> <span data-ttu-id="7356d-346">最適なときに使用することは適切なこともできます、UpdatePanel のしくみを理解するには、AJAX exchange を調べる必要があります。</span><span class="sxs-lookup"><span data-stu-id="7356d-346">To understand how the UpdatePanel works, so that you can best decide when its use is appropriate, you should examine the AJAX exchange.</span></span> <span data-ttu-id="7356d-347">次の例では、(Firebug は XMLHttpRequest データがキャプチャ) Firebug 拡張子を持つ既存のサイトと、Mozilla Firefox を使用します。</span><span class="sxs-lookup"><span data-stu-id="7356d-347">The following example uses an existing site and, Mozilla Firefox with the Firebug extension (Firebug captures XMLHttpRequest data).</span></span>

<span data-ttu-id="7356d-348">ある、特に、郵便番号コード のテキスト ボックスは、フォームまたはコントロールの市区町村と都道府県のフィールドを設定する必要がありますフォームを検討してください。</span><span class="sxs-lookup"><span data-stu-id="7356d-348">Consider a form that, among other things, has a postal code textbox which is supposed to populate a city and state field on a form or control.</span></span> <span data-ttu-id="7356d-349">このフォームは、最終的には、ユーザーの名前、アドレス、および連絡先情報を含む、メンバーシップ情報を収集します。</span><span class="sxs-lookup"><span data-stu-id="7356d-349">This form ultimately collects membership information, including a user's name, address, and contact information.</span></span> <span data-ttu-id="7356d-350">考慮するために、特定のプロジェクトの要件に基づく多くの設計の考慮事項があります。</span><span class="sxs-lookup"><span data-stu-id="7356d-350">There are many design considerations to take into account, based on the requirements of a specific project.</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image11.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image10.png)

<span data-ttu-id="7356d-351">([フルサイズのイメージを表示するをクリックして](understanding-partial-page-updates-with-asp-net-ajax/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="7356d-351">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image12.png))</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image14.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image13.png)

<span data-ttu-id="7356d-352">([フルサイズのイメージを表示するをクリックして](understanding-partial-page-updates-with-asp-net-ajax/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="7356d-352">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image15.png))</span></span>


<span data-ttu-id="7356d-353">このアプリケーションの元のイテレーションでは、コントロールは、郵便番号、市区町村、および状態を含む、ユーザー登録データの全体を組み込むことでビルドされました。</span><span class="sxs-lookup"><span data-stu-id="7356d-353">In the original iteration of this application, a control was built that incorporated the entirety of the user registration data, including the postal code, city, and state.</span></span> <span data-ttu-id="7356d-354">コントロール全体が UpdatePanel 内でラップし、Web フォームにドロップします。</span><span class="sxs-lookup"><span data-stu-id="7356d-354">The entire control was wrapped within an UpdatePanel and dropped onto a Web Form.</span></span> <span data-ttu-id="7356d-355">ユーザーが郵便番号を入力すると、UpdatePanel イベント (バックエンド、トリガーを指定することによって、または true の場合、ChildrenAsTriggers プロパティ セットを使用してに対応する TextChanged イベント) が検出されます。</span><span class="sxs-lookup"><span data-stu-id="7356d-355">When the postal code is entered by the user, the UpdatePanel detects the event (the corresponding TextChanged event in the back-end, either by specifying triggers or by using the ChildrenAsTriggers property set to true).</span></span> <span data-ttu-id="7356d-356">AJAX では、UpdatePanel 内のフィールドのすべてがポストされる firebug を使用してキャプチャ (右側の図を参照してください)。</span><span class="sxs-lookup"><span data-stu-id="7356d-356">AJAX posts all of the fields within the UpdatePanel, as captured by FireBug (see the diagram on the right).</span></span>

<span data-ttu-id="7356d-357">画面のキャプチャが示されているように、UpdatePanel 内のすべてのコントロールからの値が配信されます (この場合はすべて空)、ViewState フィールドとします。</span><span class="sxs-lookup"><span data-stu-id="7356d-357">As the screen capture indicates, values from every control within the UpdatePanel are delivered (in this case, they are all empty), as well as the ViewState field.</span></span> <span data-ttu-id="7356d-358">総じて、以上 9 kb のデータが送信される、実際には 5 バイトのデータのみがこの特定の要求を行うために必要なときにします。</span><span class="sxs-lookup"><span data-stu-id="7356d-358">All told, over 9kb of data is sent, when in fact only five bytes of data were needed to make this particular request.</span></span> <span data-ttu-id="7356d-359">応答はさらに高い肥大化: 合計 57 kb がクライアントに送信、ドロップダウン フィールドとテキスト フィールドを更新するためだけにします。</span><span class="sxs-lookup"><span data-stu-id="7356d-359">The response is even more bloated: in total, 57kb is sent to the client, simply to update a text field and a drop-down field.</span></span>

<span data-ttu-id="7356d-360">ASP.NET AJAX でプレゼンテーションを更新する方法を表示する目的の場合もあります。</span><span class="sxs-lookup"><span data-stu-id="7356d-360">It may also be of interest to see how ASP.NET AJAX updates the presentation.</span></span> <span data-ttu-id="7356d-361">UpdatePanel の更新要求の応答部分が左側に、Firebug コンソール画面に表示されます。これは、特別に策定パイプで区切られた文字列クライアント スクリプトによって分割され、ページで、再構築されます。</span><span class="sxs-lookup"><span data-stu-id="7356d-361">The response portion of the UpdatePanel's update request is shown in the Firebug console display on the left; it is a specially-formulated pipe-delimited string that is broken up by the client script and then reassembled on the page.</span></span> <span data-ttu-id="7356d-362">具体的には、ASP.NET AJAX の設定、 *innerHTML* UpdatePanel を表すクライアント上の HTML 要素のプロパティです。</span><span class="sxs-lookup"><span data-stu-id="7356d-362">Specifically, ASP.NET AJAX sets the *innerHTML* property of the HTML element on the client that represents your UpdatePanel.</span></span> <span data-ttu-id="7356d-363">ブラウザーは、DOM を再生成を処理する必要がある情報の量によって、多少の時間があります。</span><span class="sxs-lookup"><span data-stu-id="7356d-363">As the browser re-generates the DOM, there is a slight delay, depending on the amount of information that needs to be processed.</span></span>

<span data-ttu-id="7356d-364">DOM の再生成には、その他の問題の数がトリガーされます。</span><span class="sxs-lookup"><span data-stu-id="7356d-364">The regeneration of the DOM triggers a number of additional issues:</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image17.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image16.png)

<span data-ttu-id="7356d-365">([フルサイズのイメージを表示するをクリックして](understanding-partial-page-updates-with-asp-net-ajax/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="7356d-365">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image18.png))</span></span>


- <span data-ttu-id="7356d-366">フォーカスのある HTML 要素が、UpdatePanel 内にある場合は、フォーカスが失われます。</span><span class="sxs-lookup"><span data-stu-id="7356d-366">If the focused HTML element is within the UpdatePanel, it will lose focus.</span></span> <span data-ttu-id="7356d-367">そのため、ユーザーの郵便番号コードのテキスト ボックスを終了するタブ キーを押した場合が次の宛先が、City テキスト ボックス。</span><span class="sxs-lookup"><span data-stu-id="7356d-367">So, for users who pressed the Tab key to exit the postal code text box, their next destination would have been the City text box.</span></span> <span data-ttu-id="7356d-368">ただし、UpdatePanel を更新されると、表示、フォーム不要になったがあります、フォーカスし、Tab キーを押してが開始した (リンク) などのフォーカス要素の強調表示します。</span><span class="sxs-lookup"><span data-stu-id="7356d-368">However, once the UpdatePanel refreshed the display, the form would no longer have had focus, and pressing Tab would have started highlighting the focus elements (such as links).</span></span>
- <span data-ttu-id="7356d-369">カスタムのクライアント側スクリプトの任意の型が使用される関数で DOM 要素をアクセス、参照が保持されている場合は機能しなくなります部分的なポストバック後に。</span><span class="sxs-lookup"><span data-stu-id="7356d-369">If any type of custom client-side script is in use that accesses DOM elements, references persisted by functions may become defunct after a partial postback.</span></span>

<span data-ttu-id="7356d-370">Updatepanel は、キャッチ オール ソリューションではありません。</span><span class="sxs-lookup"><span data-stu-id="7356d-370">UpdatePanels are not intended to be catch-all solutions.</span></span> <span data-ttu-id="7356d-371">代わりに、特定の状況は、プロトタイプを作成、小さなコントロールの更新プログラムを含むの簡単な解決策を提供およびする可能性がありますが DOM では低いのため、.NET オブジェクト モデルを使い慣れた ASP.NET 開発者にとって使い慣れたインターフェイスを提供</span><span class="sxs-lookup"><span data-stu-id="7356d-371">Rather, they provide a quick solution for certain situations, including prototyping, small control updates, and provide a familiar interface to ASP.NET developers who might be familiar with the .NET object model but less-so with the DOM.</span></span> <span data-ttu-id="7356d-372">シナリオによっては、アプリケーションのパフォーマンスが向上につながる可能性のある選択肢の数があります。</span><span class="sxs-lookup"><span data-stu-id="7356d-372">There are a number of alternatives that may result in better performance, depending on the application scenario:</span></span>

- <span data-ttu-id="7356d-373">内容の使用を検討し、JSON (JavaScript Object Notation) には、ページ上の静的メソッドを呼び出す web サービスの呼び出しが呼び出されているかのようにできます。</span><span class="sxs-lookup"><span data-stu-id="7356d-373">Consider using PageMethods and JSON (JavaScript Object Notation) allows the developer to invoke static methods on a page as if a web service call was being invoked.</span></span> <span data-ttu-id="7356d-374">のメソッドは静的ため、状態は必要ありません。スクリプトの呼び出し元には、パラメーターが指定されて、結果が非同期的に返されます。</span><span class="sxs-lookup"><span data-stu-id="7356d-374">Because the methods are static, no state is necessary; the script caller supplies the parameters, and the result is returned asynchronously.</span></span>
- <span data-ttu-id="7356d-375">1 つのコントロールは、アプリケーション全体で複数の場所で使用する必要がある場合は、Web サービスと JSON を使用してください。</span><span class="sxs-lookup"><span data-stu-id="7356d-375">Consider using a Web Service and JSON if a single control needs to be used in several places across an application.</span></span> <span data-ttu-id="7356d-376">もう一度ほとんどの特殊な処理が要求され、非同期的に動作します。</span><span class="sxs-lookup"><span data-stu-id="7356d-376">This again requires very little special work, and works asynchronously.</span></span>

<span data-ttu-id="7356d-377">Web サービスまたはページ メソッドを使用して機能を組み込むことにも短所があります。</span><span class="sxs-lookup"><span data-stu-id="7356d-377">Incorporating functionality through Web Services or Page Methods has drawbacks as well.</span></span> <span data-ttu-id="7356d-378">第一に、ユーザー コントロール (.ascx ファイル) に小規模コンポーネントの機能を構築する通常の ASP.NET 開発者傾向があります。</span><span class="sxs-lookup"><span data-stu-id="7356d-378">First and foremost, ASP.NET developers typically tend to build small components of functionality into user controls (.ascx files).</span></span> <span data-ttu-id="7356d-379">ページのメソッドは、これらのファイルでホストされることはできません。これらは、実際の .aspx ページ クラス内でホストする必要があります。</span><span class="sxs-lookup"><span data-stu-id="7356d-379">Page methods cannot be hosted in these files; they must be hosted within the actual .aspx page class.</span></span> <span data-ttu-id="7356d-380">同様に、web サービスの場合は、.asmx クラス内でホストされる必要があります。</span><span class="sxs-lookup"><span data-stu-id="7356d-380">Web services, similarly, must be hosted within the .asmx class.</span></span> <span data-ttu-id="7356d-381">アプリケーションによっては、このアーキテクチャ違反する可能性が単一の責任の原則をほとんどまたはまったくないまとまり ties が可能性がある 2 つ以上の物理コンポーネントを 1 つのコンポーネントの機能に分散ようになりました。</span><span class="sxs-lookup"><span data-stu-id="7356d-381">Depending on the application, this architecture may violate the Single Responsibility Principle, in that the functionality for a single component is now spread across two or more physical components which may have little or no cohesive ties.</span></span>

<span data-ttu-id="7356d-382">最後に、アプリケーションでは、Updatepanel が使用されている必要がある場合は、次のガイドラインがトラブルシューティングやメンテナンスを支援する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7356d-382">Finally, if an application requires that UpdatePanels are used, the following guidelines should assist with troubleshooting and maintenance.</span></span>

- <span data-ttu-id="7356d-383">**入れ子にする Updatepanel が最小限に抑え、だけでなく内での単位もコードのユニット間で。**</span><span class="sxs-lookup"><span data-stu-id="7356d-383">**Nest UpdatePanels as little as possible, not only within-units, but also across units of code.**</span></span> <span data-ttu-id="7356d-384">たとえば、UpdatePanel を制御するには、UpdatePanel を含む別のコントロールを含む、UpdatePanel も含まれていますが、コントロールをラップするページがクロス単位入れ子です。</span><span class="sxs-lookup"><span data-stu-id="7356d-384">For example, having an UpdatePanel on a Page that wraps a Control, while that Control also contains an UpdatePanel, which contains another Control that contains an UpdatePanel, is cross-unit nesting.</span></span> <span data-ttu-id="7356d-385">これにより、どの要素を更新する必要がありますになり予期しない更新 Updatepanel の子を明確にします。</span><span class="sxs-lookup"><span data-stu-id="7356d-385">This helps to keep clear which elements should be refreshing, and prevents unexpected refreshes to child UpdatePanels.</span></span>
- <span data-ttu-id="7356d-386">**保持、*場合、ChildrenAsTriggers*プロパティを false に設定し、イベントをトリガーするを明示的に設定します。**</span><span class="sxs-lookup"><span data-stu-id="7356d-386">**Keep the *ChildrenAsTriggers* property set to false, and explicitly set triggering events.**</span></span> <span data-ttu-id="7356d-387">使用して、`<Triggers>`コレクションはより明確イベントを処理する方法であり、メンテナンス タスクを支援し、開発者は、イベントのオプトインの強制、予期しない動作を防ぐことがあります。</span><span class="sxs-lookup"><span data-stu-id="7356d-387">Utilizing the `<Triggers>` collection is a much clearer way to handle events, and may prevent unexpected behavior, helping with maintenance tasks and forcing a developer to opt-in for an event.</span></span>
- <span data-ttu-id="7356d-388">**機能を実現するのにには、最小の可能な単位を使用します。**</span><span class="sxs-lookup"><span data-stu-id="7356d-388">**Use the smallest possible unit to achieve functionality.**</span></span> <span data-ttu-id="7356d-389">前述の折り返し、郵便サービスの説明で最低限のものだけが、サーバー、合計処理、およびクライアントとサーバーの exchange の使用量を時間を短縮、パフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="7356d-389">As noted in the discussion of the postal code service, wrapping only the bare minimum reduces time to the server, total processing, and the footprint of the client-server exchange, enhancing performance.</span></span>

## <a name="the-updateprogress-control"></a><span data-ttu-id="7356d-390">UpdateProgress コントロール</span><span class="sxs-lookup"><span data-stu-id="7356d-390">The UpdateProgress Control</span></span>

## <a name="updateprogress-control-reference"></a><span data-ttu-id="7356d-391">UpdateProgress の制御参照</span><span class="sxs-lookup"><span data-stu-id="7356d-391">UpdateProgress Control Reference</span></span>

<span data-ttu-id="7356d-392">マークアップが有効なプロパティ:</span><span class="sxs-lookup"><span data-stu-id="7356d-392">Markup-Enabled Properties:</span></span>

| <span data-ttu-id="7356d-393">**プロパティ名**</span><span class="sxs-lookup"><span data-stu-id="7356d-393">**Property Name**</span></span> | <span data-ttu-id="7356d-394">**Type**</span><span class="sxs-lookup"><span data-stu-id="7356d-394">**Type**</span></span> | <span data-ttu-id="7356d-395">**説明**</span><span class="sxs-lookup"><span data-stu-id="7356d-395">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7356d-396">AssociatedUpdate-PanelID</span><span class="sxs-lookup"><span data-stu-id="7356d-396">AssociatedUpdate-PanelID</span></span> | <span data-ttu-id="7356d-397">String</span><span class="sxs-lookup"><span data-stu-id="7356d-397">String</span></span> | <span data-ttu-id="7356d-398">UpdateProgress を報告する必要がある UpdatePanel の ID を指定します。</span><span class="sxs-lookup"><span data-stu-id="7356d-398">Specifies the ID of the UpdatePanel that this UpdateProgress should report on.</span></span> |
| <span data-ttu-id="7356d-399">DisplayAfter</span><span class="sxs-lookup"><span data-stu-id="7356d-399">DisplayAfter</span></span> | <span data-ttu-id="7356d-400">Int</span><span class="sxs-lookup"><span data-stu-id="7356d-400">Int</span></span> | <span data-ttu-id="7356d-401">非同期要求を開始した後、このコントロールが表示される前に、タイムアウト (ミリ秒単位) を指定します。</span><span class="sxs-lookup"><span data-stu-id="7356d-401">Specifies the timeout in milliseconds before this control is displayed after the asynchronous request begins.</span></span> |
| <span data-ttu-id="7356d-402">DynamicLayout</span><span class="sxs-lookup"><span data-stu-id="7356d-402">DynamicLayout</span></span> | <span data-ttu-id="7356d-403">bool</span><span class="sxs-lookup"><span data-stu-id="7356d-403">bool</span></span> | <span data-ttu-id="7356d-404">進行状況を動的にレンダリングするかどうかを指定します。</span><span class="sxs-lookup"><span data-stu-id="7356d-404">Specifies whether the progress is rendered dynamically.</span></span> |

<span data-ttu-id="7356d-405">マークアップ子孫:</span><span class="sxs-lookup"><span data-stu-id="7356d-405">Markup Descendants:</span></span>

| <span data-ttu-id="7356d-406">**タグ**</span><span class="sxs-lookup"><span data-stu-id="7356d-406">**Tag**</span></span> | <span data-ttu-id="7356d-407">**説明**</span><span class="sxs-lookup"><span data-stu-id="7356d-407">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="7356d-408">&lt;ProgressTemplate&gt;</span><span class="sxs-lookup"><span data-stu-id="7356d-408">&lt;ProgressTemplate&gt;</span></span> | <span data-ttu-id="7356d-409">コントロール テンプレートこのコントロールに表示されるコンテンツのセットにはが含まれています。</span><span class="sxs-lookup"><span data-stu-id="7356d-409">Contains the control template set for the content that will be displayed with this control.</span></span> |

<span data-ttu-id="7356d-410">UpdateProgress コントロールでは、サーバーへの転送に必要な作業を行う際に、ユーザーの関心を保持するためのフィードバックの測定できます。</span><span class="sxs-lookup"><span data-stu-id="7356d-410">The UpdateProgress control gives you a measure of feedback to keep your users' interest while doing the necessary work to transport to the server.</span></span> <span data-ttu-id="7356d-411">これはユーザーに通知する作業をしている場合でも、そのわかりにくいかもしれません、ほとんどのユーザーがページを更新して、強調表示、ステータス バーの表示に使用されるために特に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="7356d-411">This can help your users know that you're doing something even though it may not be apparent, especially since most users are used to the page refreshing and seeing the status bar highlight.</span></span>

<span data-ttu-id="7356d-412">メモとして UpdateProgress コントロールに表示できる任意の場所ページ階層。</span><span class="sxs-lookup"><span data-stu-id="7356d-412">As a note, UpdateProgress controls can appear anywhere on a page hierarchy.</span></span> <span data-ttu-id="7356d-413">ただし、部分的なポストバックが子 UpdatePanel (UpdatePanel が別の UpdatePanel にネストされている) から開始される場合、そのトリガー UpdatePanel では、子の UpdateProgress テンプレートが表示されますが、子をポストバックします。UpdatePanel だけでなく、親 UpdatePanel です。</span><span class="sxs-lookup"><span data-stu-id="7356d-413">However, in cases in which a partial postback is initiated from a child UpdatePanel (where an UpdatePanel is nested within another UpdatePanel), postbacks that trigger the child UpdatePanel will cause UpdateProgress templates to be displayed for the child UpdatePanel as well as the parent UpdatePanel.</span></span> <span data-ttu-id="7356d-414">ただし、トリガーが親 UpdatePanel の直接の子の場合、親に関連付けられている UpdateProgress テンプレートのみが表示されます。</span><span class="sxs-lookup"><span data-stu-id="7356d-414">But, if the trigger is a direct child of the parent UpdatePanel, then only the UpdateProgress templates associated with the parent will be displayed.</span></span>

## <a name="summary"></a><span data-ttu-id="7356d-415">まとめ</span><span class="sxs-lookup"><span data-stu-id="7356d-415">Summary</span></span>

<span data-ttu-id="7356d-416">Microsoft ASP.NET AJAX 拡張機能は、高度な製品の web コンテンツにアクセスする際に支援するために、web アプリケーションに豊富なユーザー エクスペリエンスを提供するよう設計されています。</span><span class="sxs-lookup"><span data-stu-id="7356d-416">The Microsoft ASP.NET AJAX extensions are sophisticated products designed to assist in making web content more accessible and to provide a richer user experience to your web applications.</span></span> <span data-ttu-id="7356d-417">ASP.NET AJAX Extensions に、部分ページ レンダリング コントロールの一部としては、ScriptManager を UpdatePanel、および UpdateProgress コントロールを含むはツールキットの最も可視のコンポーネントの一部です。</span><span class="sxs-lookup"><span data-stu-id="7356d-417">As part of the ASP.NET AJAX Extensions, the partial page rendering controls, including the ScriptManager, the UpdatePanel, and UpdateProgress controls are some of the most visible components of the toolkit.</span></span>

<span data-ttu-id="7356d-418">ScriptManager コンポーネント、拡張機能の JavaScript のクライアントのプロビジョニングの統合だけでなく最小限の開発への投資と連携するさまざまなサーバー側とクライアント側コンポーネントを使用します。</span><span class="sxs-lookup"><span data-stu-id="7356d-418">The ScriptManager component integrates the provision of client JavaScript for the Extensions, as well as enables the various server- and client-side components to work together with minimal development investment.</span></span>

<span data-ttu-id="7356d-419">UpdatePanel コントロールは、明確なマジック ボックス - UpdatePanel 内のマークアップはサーバー側の分離コードがあるし、ページの更新はトリガーされません。</span><span class="sxs-lookup"><span data-stu-id="7356d-419">The UpdatePanel control is the apparent magic box - markup within the UpdatePanel can have server-side Codebehind and not trigger a page refresh.</span></span> <span data-ttu-id="7356d-420">UpdatePanel コントロールは、入れ子にすることができ、その他の Updatepanel でのコントロールに依存することができます。</span><span class="sxs-lookup"><span data-stu-id="7356d-420">UpdatePanel controls can be nested, and can be dependent on controls in other UpdatePanels.</span></span> <span data-ttu-id="7356d-421">既定では、Updatepanel は、この機能細かくチューニングできる、宣言またはプログラムがその子孫のコントロールによって呼び出された任意のポストバックを処理します。</span><span class="sxs-lookup"><span data-stu-id="7356d-421">By default, UpdatePanels handle any postbacks invoked by their descendant controls, although this functionality can be finely tuned, either declaratively or programmatically.</span></span>

<span data-ttu-id="7356d-422">UpdatePanel コントロールを使用する場合は、開発者が問題の発生可能性のあるパフォーマンスに与える影響の注意してください。</span><span class="sxs-lookup"><span data-stu-id="7356d-422">When using the UpdatePanel control, developers should be aware of the performance impact that could potentially arise.</span></span> <span data-ttu-id="7356d-423">潜在的な代替手段は、アプリケーションの設計を考慮する必要がありますが、web サービスおよびページ メソッドです。</span><span class="sxs-lookup"><span data-stu-id="7356d-423">Potential alternatives include web services and page methods, though the design of the application should be considered.</span></span>

<span data-ttu-id="7356d-424">UpdateProgress のコントロールで者が無視されていないと、ページの中に起こっているバック グラウンドの要求がそれ以外の場合のことを知っているユーザーは、何も、ユーザー入力に応答します。</span><span class="sxs-lookup"><span data-stu-id="7356d-424">The UpdateProgress control allows the user to know that she or he is not being ignored, and that the behind-the-scenes request is going on while the page is otherwise not doing anything to respond to the user input.</span></span> <span data-ttu-id="7356d-425">部分的なレンダリングの結果を中止する機能も含まれています。</span><span class="sxs-lookup"><span data-stu-id="7356d-425">It also includes the ability to abort partial rendering results.</span></span>

<span data-ttu-id="7356d-426">同時に、これらのツールは、リッチでシームレスなユーザー エクスペリエンスを作成するには、ユーザーに見えること server の作業を行うと、小さいワークフローに割り込むことを支援します。</span><span class="sxs-lookup"><span data-stu-id="7356d-426">Together, these tools assist creating a rich and seamless user experience by making server work less apparent to the user and interrupting workflow less.</span></span>

## <a name="bio"></a><span data-ttu-id="7356d-427">略歴</span><span class="sxs-lookup"><span data-stu-id="7356d-427">Bio</span></span>

<span data-ttu-id="7356d-428">Scott カテゴリは、1997 年以降の Microsoft の Web テクノロジの使用されているがあり、myKB.com の代表者 ([www.myKB.com](http://www.myKB.com))、専門分野は、ASP.NET の書き込みの際にベースのアプリケーションのナレッジ ベースのソフトウェア ソリューションに重点を置きます。</span><span class="sxs-lookup"><span data-stu-id="7356d-428">Scott Cate has been working with Microsoft Web technologies since 1997 and is the President of myKB.com ([www.myKB.com](http://www.myKB.com)) where he specializes in writing ASP.NET based applications focused on Knowledge Base Software solutions.</span></span> <span data-ttu-id="7356d-429">Scott が接続時に電子メール[ scott.cate@myKB.com ](mailto:scott.cate@myKB.com)または彼のブログで[ScottCate.com](http://ScottCate.com)</span><span class="sxs-lookup"><span data-stu-id="7356d-429">Scott can be contacted via email at [scott.cate@myKB.com](mailto:scott.cate@myKB.com) or his blog at [ScottCate.com](http://ScottCate.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="7356d-430">次へ</span><span class="sxs-lookup"><span data-stu-id="7356d-430">Next</span></span>](understanding-asp-net-ajax-updatepanel-triggers.md)
