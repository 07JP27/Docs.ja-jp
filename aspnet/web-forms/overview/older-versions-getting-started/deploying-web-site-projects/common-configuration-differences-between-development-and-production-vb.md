---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/common-configuration-differences-between-development-and-production-vb
title: "一般的な構成の違い開発および運用 (VB) |Microsoft ドキュメント"
author: rick-anderson
description: "前のチュートリアルは展開当社の web サイト開発環境から実稼働環境へのすべての関連するファイルのコピーで。 ただし、しました."
ms.author: aspnetcontent
manager: wpickett
ms.date: 04/01/2009
ms.topic: article
ms.assetid: 548e75f6-4d6c-4cb4-8da8-417915eb8393
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/common-configuration-differences-between-development-and-production-vb
msc.type: authoredcontent
ms.openlocfilehash: b53565e4ae09b007029bdab7cc8724e2d7d193fe
ms.sourcegitcommit: a510f38930abc84c4b302029d019a34dfe76823b
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/30/2018
---
<a name="common-configuration-differences-between-development-and-production-vb"></a><span data-ttu-id="3a625-104">開発および運用 (VB) の間で共通の構成の相違点</span><span class="sxs-lookup"><span data-stu-id="3a625-104">Common Configuration Differences Between Development and Production (VB)</span></span>
====================
<span data-ttu-id="3a625-105">によって[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="3a625-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="3a625-106">PDF をダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="3a625-106">Download PDF</span></span>](http://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial05_ConfigDifferences_vb.pdf)

> <span data-ttu-id="3a625-107">前のチュートリアルは展開当社の web サイト開発環境から実稼働環境へのすべての関連するファイルのコピーで。</span><span class="sxs-lookup"><span data-stu-id="3a625-107">In earlier tutorials we deployed our website by copying all of the pertinent files from the development environment to the production environment.</span></span> <span data-ttu-id="3a625-108">ただし、珍しくありません環境は、一意の Web.config ファイルの各環境にいる必要のある構成の違いが場合もあります。</span><span class="sxs-lookup"><span data-stu-id="3a625-108">However, it is not uncommon for there to be configuration differences between environments, which necessitates that each environment have a unique Web.config file.</span></span> <span data-ttu-id="3a625-109">このチュートリアルでは、一般的な構成の相違点を調べを別の構成情報を保持するための戦略を見ます。</span><span class="sxs-lookup"><span data-stu-id="3a625-109">This tutorial examines typical configuration differences and looks at strategies for maintaining separate configuration information.</span></span>


## <a name="introduction"></a><span data-ttu-id="3a625-110">はじめに</span><span class="sxs-lookup"><span data-stu-id="3a625-110">Introduction</span></span>


<span data-ttu-id="3a625-111">最後の 2 つのチュートリアルでは、単純な web アプリケーションを配置するをとおし、します。</span><span class="sxs-lookup"><span data-stu-id="3a625-111">The last two tutorials walked through deploying a simple web application.</span></span> <span data-ttu-id="3a625-112">[ *FTP クライアントを使用して、サイトを展開する*](deploying-your-site-using-an-ftp-client-vb.md)チュートリアルでは、スタンドアロンの FTP クライアントを使用して、実稼働まで開発環境から、必要なファイルをコピーする方法を示しました。</span><span class="sxs-lookup"><span data-stu-id="3a625-112">The [*Deploying Your Site Using an FTP Client*](deploying-your-site-using-an-ftp-client-vb.md) tutorial showed how to use a stand-alone FTP client to copy the necessary files from the development environment up to production.</span></span> <span data-ttu-id="3a625-113">前のチュートリアルでは、 [*を展開する、サイトを使用して Visual Studio*](deploying-your-site-using-visual-studio-vb.md)、Visual Studio の Web サイトのコピー ツールと発行 オプションを使用して展開で参照します。</span><span class="sxs-lookup"><span data-stu-id="3a625-113">The preceding tutorial, [*Deploying Your Site Using Visual Studio*](deploying-your-site-using-visual-studio-vb.md), looked at deployment using Visual Studio's Copy Web Site tool and Publish option.</span></span> <span data-ttu-id="3a625-114">両方のチュートリアルでは、運用環境のすべてのファイルは、開発環境でファイルのコピーをでした。</span><span class="sxs-lookup"><span data-stu-id="3a625-114">In both tutorials every file in the production environment was a copy of a file on the development environment.</span></span> <span data-ttu-id="3a625-115">ただし、開発環境で異なるを実稼働環境での構成ファイルは珍しいはありません。</span><span class="sxs-lookup"><span data-stu-id="3a625-115">However, it is not uncommon for configuration files in the production environment to differ from those in the development environment.</span></span> <span data-ttu-id="3a625-116">Web アプリケーションの構成に保存、`Web.config`ファイルし、通常、データベース、web、および電子メール サーバーなどの外部リソースに関する情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="3a625-116">A web application's configuration is stored in the `Web.config` file and typically includes information about external resources, such as database, web, and email servers.</span></span> <span data-ttu-id="3a625-117">ハンドルされない例外が発生したときに実行するアクションなどの特定の状況で、アプリケーションの動作が詳しくもします。</span><span class="sxs-lookup"><span data-stu-id="3a625-117">It also spells out the behavior of the application in certain situations, such as the course of action to take when an unhandled exception occurs.</span></span>

<span data-ttu-id="3a625-118">Web アプリケーションを配置するときは、適切な構成情報終わるを実稼働環境で重要です。</span><span class="sxs-lookup"><span data-stu-id="3a625-118">When deploying a web application it is important that the correct configuration information end up in the production environment.</span></span> <span data-ttu-id="3a625-119">ほとんどの場合、`Web.config`として、運用環境に開発環境でファイルをコピーすることはできません-はします。</span><span class="sxs-lookup"><span data-stu-id="3a625-119">In most cases the `Web.config` file in the development environment cannot be copied to the production environment as-is.</span></span> <span data-ttu-id="3a625-120">代わりに、カスタマイズされたバージョンの`Web.config`実稼働環境にアップロードする必要があります。</span><span class="sxs-lookup"><span data-stu-id="3a625-120">Instead, a customized version of `Web.config` needs to be uploaded to production.</span></span> <span data-ttu-id="3a625-121">このチュートリアルを簡単にレビューいくつかの一般的な構成の相違点です。環境間でさまざまな構成情報を維持するためのいくつかの方法の概要も示します。</span><span class="sxs-lookup"><span data-stu-id="3a625-121">This tutorial briefly reviews some of the more common configuration differences; it also summarizes some techniques for maintaining different configuration information between the environments.</span></span>

## <a name="typical-configuration-differences-between-the-development-and-production-environments"></a><span data-ttu-id="3a625-122">一般的な構成、開発と実稼働環境の相違点</span><span class="sxs-lookup"><span data-stu-id="3a625-122">Typical Configuration Differences Between the Development and Production Environments</span></span>

<span data-ttu-id="3a625-123">`Web.config`ファイルには、多種多様な ASP.NET アプリケーションの構成情報が含まれています。</span><span class="sxs-lookup"><span data-stu-id="3a625-123">The `Web.config` file includes an assortment of configuration information for an ASP.NET application.</span></span> <span data-ttu-id="3a625-124">この構成情報の一部は、環境に関係なく同じです。</span><span class="sxs-lookup"><span data-stu-id="3a625-124">Some of this configuration information is the same regardless of the environment.</span></span> <span data-ttu-id="3a625-125">たとえば、URL 承認規則と認証設定に記述された、`Web.config`ファイルの`<authentication>`と`<authorization>`要素は、通常は、環境に関係なく同じです。</span><span class="sxs-lookup"><span data-stu-id="3a625-125">For instance, the authentication settings and URL authorization rules spelled out in the `Web.config` file's `<authentication>` and `<authorization>` elements are usually the same regardless of the environment.</span></span> <span data-ttu-id="3a625-126">外部リソースに関する情報などの他の構成情報は、通常、環境によって異なります。</span><span class="sxs-lookup"><span data-stu-id="3a625-126">But other configuration information - such as information about external resources - typically differs depending on the environment.</span></span>

<span data-ttu-id="3a625-127">データベース接続文字列は、環境によっては異なる構成情報の主要な例です。</span><span class="sxs-lookup"><span data-stu-id="3a625-127">Database connections strings are a prime example of configuration information that differs based on the environment.</span></span> <span data-ttu-id="3a625-128">Web アプリケーションが通信する場合、データベース サーバーに接続を確立する必要があります最初とは、によって達成される、[接続文字列](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string)です。</span><span class="sxs-lookup"><span data-stu-id="3a625-128">When a web application communicates with a database server it must first establish a connection, and that is achieved through a [connection string](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string).</span></span> <span data-ttu-id="3a625-129">配置することをお勧め web ページや、データベースに接続するコードで直接、データベース接続文字列をハード コーディングすることはできますが、`Web.config`の[`<connectionStrings>`要素](https://msdn.microsoft.com/library/bf7sd233.aspx)ように接続文字列情報は、1 つ、一元化された場所には。</span><span class="sxs-lookup"><span data-stu-id="3a625-129">While it is possible to hard-code the database connection string directly in the web pages or the code that connects to the database, it is best to place it `Web.config`'s [`<connectionStrings>` element](https://msdn.microsoft.com/library/bf7sd233.aspx) so that the connection string information is in a single, centralized location.</span></span> <span data-ttu-id="3a625-130">別のデータベースは開発時に使用される; 実稼働環境で使用するよりも多くの場合その結果、接続文字列情報は、環境ごとに一意でなければなりません。</span><span class="sxs-lookup"><span data-stu-id="3a625-130">Oftentimes a different database is used during development than is used in production; consequently, the connection string information must be unique for each environment.</span></span>

> [!NOTE]
> <span data-ttu-id="3a625-131">今後のチュートリアルでは、この時点で、構成ファイルでデータベース接続文字列を格納する方法の詳細に進むが、データ ドリブンのアプリケーションの配置について説明します。</span><span class="sxs-lookup"><span data-stu-id="3a625-131">Future tutorials explore deploying data-driven applications, at which point we'll dive into the specifics of how database connection strings are stored in the configuration file.</span></span>


<span data-ttu-id="3a625-132">開発および運用環境の目的の動作は大幅に異なります。</span><span class="sxs-lookup"><span data-stu-id="3a625-132">The intended behavior of the development and production environments differs substantially.</span></span> <span data-ttu-id="3a625-133">開発環境で web アプリケーションがによって作成される、テスト、およびデバッグ開発者の小規模なグループです。</span><span class="sxs-lookup"><span data-stu-id="3a625-133">A web application in the development environment is being created, tested, and debugged by a small group of developers.</span></span> <span data-ttu-id="3a625-134">実稼働環境で同じアプリケーションが多数の同時ユーザーによって参照されていること。</span><span class="sxs-lookup"><span data-stu-id="3a625-134">In the production environment that same application is being visited by many different simultaneous users.</span></span> <span data-ttu-id="3a625-135">ASP.NET には、いくつかのテストと、アプリケーションのデバッグでは開発者を支援する機能が含まれていますが、パフォーマンスおよびセキュリティ上の理由から、実稼働環境でのこれらの機能を無効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="3a625-135">ASP.NET includes a number of features that help developers in testing and debugging an application, but these features should be disabled for performance and security reasons when in the production environment.</span></span> <span data-ttu-id="3a625-136">このようないくつかの構成設定を見てみましょう。</span><span class="sxs-lookup"><span data-stu-id="3a625-136">Let's look at a few such configuration settings.</span></span>

### <a name="configuration-settings-that-impact-performance"></a><span data-ttu-id="3a625-137">パフォーマンスに影響する構成設定</span><span class="sxs-lookup"><span data-stu-id="3a625-137">Configuration Settings That Impact Performance</span></span>

<span data-ttu-id="3a625-138">ASP.NET ページにアクセスするときに、初めて (または変更した後に初めて) の宣言型マークアップをクラスに変換する必要があり、このクラスをコンパイルする必要があります。</span><span class="sxs-lookup"><span data-stu-id="3a625-138">When an ASP.NET page is visited for the first time (or the first time after it has changed), its declarative markup must be converted into a class and this class must be compiled.</span></span> <span data-ttu-id="3a625-139">Web アプリケーションは、自動コンパイルを使用している場合は、ページの分離コード クラスをすぎて、コンパイルする必要があります。</span><span class="sxs-lookup"><span data-stu-id="3a625-139">If the web application uses automatic compilation then the page's code-behind class needs to be compiled, too.</span></span> <span data-ttu-id="3a625-140">多種多様なコンパイル オプションを構成することができます、`Web.config`ファイルの[`<compilation>`要素](https://msdn.microsoft.com/library/s10awwz0.aspx)です。</span><span class="sxs-lookup"><span data-stu-id="3a625-140">You can configure an assortment of compilation options via the `Web.config` file's [`<compilation>` element](https://msdn.microsoft.com/library/s10awwz0.aspx).</span></span>

<span data-ttu-id="3a625-141">Debug 属性は、最も重要な属性での 1 つ、`<compilation>`要素。</span><span class="sxs-lookup"><span data-stu-id="3a625-141">The debug attribute is one of the most important attributes in the `<compilation>` element.</span></span> <span data-ttu-id="3a625-142">場合、`debug`属性がコンパイルされたアセンブリが Visual Studio でアプリケーションをデバッグするときに必要なは、デバッグ シンボルを含めるし、"true"に設定します。</span><span class="sxs-lookup"><span data-stu-id="3a625-142">If the `debug` attribute is set to "true" then the compiled assemblies include debug symbols, which are needed when debugging an application in Visual Studio.</span></span> <span data-ttu-id="3a625-143">デバッグ シンボルはアセンブリのサイズが大きくなり、コードを実行するときに、追加のメモリ要件を強制します。</span><span class="sxs-lookup"><span data-stu-id="3a625-143">But debug symbols increase the size of the assembly and impose additional memory requirements when running the code.</span></span> <span data-ttu-id="3a625-144">さらに、ときに、`debug`属性がによって返されるすべてのコンテンツを"true"に設定されている`WebResource.axd`がキャッシュされていない、つまり、たびに、ユーザー ページにアクセスを再度によって返される静的なコンテンツをダウンロードする必要があります`WebResource.axd`です。</span><span class="sxs-lookup"><span data-stu-id="3a625-144">Furthermore, when the `debug` attribute is set to "true" any content returned by `WebResource.axd` is not cached, meaning that each time a user visits a page they will need to re-download the static content returned by `WebResource.axd`.</span></span>

> [!NOTE]
> <span data-ttu-id="3a625-145">`WebResource.axd`組み込みの HTTP ハンドラーで導入された ASP.NET 2.0 サーバー コントロールは、スクリプト ファイル、画像、CSS ファイル、およびその他のコンテンツなどの埋め込みリソースを取得するために使用します。</span><span class="sxs-lookup"><span data-stu-id="3a625-145">`WebResource.axd` is a built-in HTTP Handler introduced in ASP.NET 2.0 that server controls use to retrieve embedded resources, such as script files, images, CSS files, and other content.</span></span> <span data-ttu-id="3a625-146">方法の詳細については`WebResource.axd`および動作を使用して、カスタム サーバー コントロールから埋め込みリソースにアクセスする方法を参照してください。[にアクセスする埋め込みリソースで、URL を使用して`WebResource.axd`](http://aspnet.4guysfromrolla.com/articles/080906-1.aspx)です。</span><span class="sxs-lookup"><span data-stu-id="3a625-146">For more information on how `WebResource.axd` works and how you can use it to access embedded resources from your custom server controls, see [Accessing Embedded Resources Through a URL Using `WebResource.axd`](http://aspnet.4guysfromrolla.com/articles/080906-1.aspx).</span></span>


<span data-ttu-id="3a625-147">`<compilation>`要素の`debug`属性が通常に設定されている開発環境では"true"です。</span><span class="sxs-lookup"><span data-stu-id="3a625-147">The `<compilation>` element's `debug` attribute is usually set to "true" in the development environment.</span></span> <span data-ttu-id="3a625-148">実際には、この属性は、web アプリケーションをデバッグするのには、"true"に設定する必要があります。Visual Studio から ASP.NET アプリケーションをデバッグしようとするかどうか、`debug`属性が"false"に設定されている、Visual Studio は、メッセージを説明するまで、アプリケーションをデバッグすることはできませんを表示、`debug`属性が"true"とに設定このように変更するを提供します。</span><span class="sxs-lookup"><span data-stu-id="3a625-148">In fact, this attribute must be set to "true" in order to debug a web application; if you try to debug an ASP.NET application from Visual Studio and the `debug` attribute is set to "false", Visual Studio will display a message explaining that the application cannot be debugged until the `debug` attribute is set to "true" and will offer to make this change for you.</span></span>

<span data-ttu-id="3a625-149">行う必要があります**決して**が、`debug`属性パフォーマンスへの影響のため、運用環境では、"true"に設定します。</span><span class="sxs-lookup"><span data-stu-id="3a625-149">You should **never** have the `debug` attribute set to "true" in a production environment because of its impact on performance.</span></span> <span data-ttu-id="3a625-150">このトピックの詳細についてを参照してください[Scott Guthrie](https://weblogs.asp.net/scottgu/)のブログ投稿「[しない実行運用 ASP.NET アプリケーションで`debug="true"`有効](https://weblogs.asp.net/scottgu/442448)です。</span><span class="sxs-lookup"><span data-stu-id="3a625-150">For a more thorough discussion on this topic, refer to [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog post, [Don't Run Production ASP.NET Applications With `debug="true"` Enabled](https://weblogs.asp.net/scottgu/442448).</span></span>

### <a name="custom-errors-and-tracing"></a><span data-ttu-id="3a625-151">カスタム エラーおよびトレース</span><span class="sxs-lookup"><span data-stu-id="3a625-151">Custom Errors and Tracing</span></span>

<span data-ttu-id="3a625-152">ASP.NET アプリケーションでハンドルされない例外が発生したときに、次の 3 つのいずれかが発生する時点で実行時までバブルします。</span><span class="sxs-lookup"><span data-stu-id="3a625-152">When an unhandled exception occurs in an ASP.NET application it bubbles up to the runtime at which point one of three things happens:</span></span>

- <span data-ttu-id="3a625-153">一般的なランタイム エラー メッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="3a625-153">A generic runtime error message is displayed.</span></span> <span data-ttu-id="3a625-154">このページでは、ランタイム エラーが発生しました、エラーの詳細は提供されませんをユーザーに通知します。</span><span class="sxs-lookup"><span data-stu-id="3a625-154">This page informs the user that there was a runtime error, but does not provide any details about the error.</span></span>
- <span data-ttu-id="3a625-155">例外の詳細メッセージが表示されます、だけスローされた例外に関する情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="3a625-155">An exception details message is displayed, which includes information on the exception that was just thrown.</span></span>
- <span data-ttu-id="3a625-156">ASP.NET ページを作成することが望ましくない任意のメッセージが表示されますが、カスタム エラー ページが表示されます。</span><span class="sxs-lookup"><span data-stu-id="3a625-156">A custom error page is displayed, which is an ASP.NET page that you create that displays any message you desire.</span></span>

<span data-ttu-id="3a625-157">未処理の例外が発生した場合の動作によって異なります、`Web.config`ファイルの[`<customErrors>`セクション](https://msdn.microsoft.com/library/h0hfz6fc.aspx)です。</span><span class="sxs-lookup"><span data-stu-id="3a625-157">What happens in the face of an unhandled exception depends on the `Web.config` file's [`<customErrors>` section](https://msdn.microsoft.com/library/h0hfz6fc.aspx).</span></span>

<span data-ttu-id="3a625-158">開発およびアプリケーションのテストには、ブラウザーですべての例外の詳細を表示するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="3a625-158">When developing and testing an application it helps to see details of any exception in the browser.</span></span> <span data-ttu-id="3a625-159">ただし、運用上のアプリケーションの例外の詳細を表示は、潜在的なセキュリティ リスクです。</span><span class="sxs-lookup"><span data-stu-id="3a625-159">However, showing exception details in an application on production is a potential security risk.</span></span> <span data-ttu-id="3a625-160">さらに、そのいない flattering と不自然に見える web サイトです。</span><span class="sxs-lookup"><span data-stu-id="3a625-160">Moreover, it's unflattering and makes your website look unprofessional.</span></span> <span data-ttu-id="3a625-161">理想的には、未処理の例外が発生した場合、web アプリケーション開発環境で詳細が表示されます、例外の実稼働環境で同じアプリケーションがカスタム エラー ページを表示するときにします。</span><span class="sxs-lookup"><span data-stu-id="3a625-161">Ideally, in the event of an unhandled exception a web application in the development environment will show the exception's details while the same application in production will show a custom error page.</span></span>

> [!NOTE]
> <span data-ttu-id="3a625-162">既定値`<customErrors>`セクションの設定は、ページが localhost、を通じて参照されると、それ以外の場合、一般的なランタイム エラー ページを表示している場合にのみメッセージの例外の詳細を示しています。</span><span class="sxs-lookup"><span data-stu-id="3a625-162">The default `<customErrors>` section setting shows the exception details message only when the page is being visited through localhost, and shows the generic runtime error page otherwise.</span></span> <span data-ttu-id="3a625-163">これは、理想的ではありませんが、ある既定の動作を表示せずにローカルでない訪問者を例外の詳細を知ることを確保することがします。</span><span class="sxs-lookup"><span data-stu-id="3a625-163">This isn't ideal, but it's assuring to know that the default behavior doesn't reveal exception details to non-local visitors.</span></span> <span data-ttu-id="3a625-164">今後のチュートリアルを調べ、`<customErrors>`さらに詳しくセクション実稼働環境でエラーが発生したときに表示されるカスタム エラー ページが存在する方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="3a625-164">A future tutorial examines the `<customErrors>` section in more detail and shows how to have a custom error page shown when an error occurs in production.</span></span>


<span data-ttu-id="3a625-165">開発時に便利ですがもう 1 つの ASP.NET 機能をトレースしています。</span><span class="sxs-lookup"><span data-stu-id="3a625-165">Another ASP.NET feature that is useful during development is tracing.</span></span> <span data-ttu-id="3a625-166">トレース、有効な場合、各入力方向の要求に関する情報を記録および特別な web ページでは、用意されています`Trace.axd`、最新の要求の詳細を表示するためです。</span><span class="sxs-lookup"><span data-stu-id="3a625-166">Tracing, if enabled, records information about each incoming request and provides a special web page, `Trace.axd`, for viewing recent request details.</span></span> <span data-ttu-id="3a625-167">有効にして使用してトレースを構成する、 [ `<trace>`要素](https://msdn.microsoft.com/library/6915t83k.aspx)で`Web.config`です。</span><span class="sxs-lookup"><span data-stu-id="3a625-167">You can turn on and configure tracing via the [`<trace>` element](https://msdn.microsoft.com/library/6915t83k.aspx) in `Web.config`.</span></span>

<span data-ttu-id="3a625-168">有効にした場合なトレースの作成を確認して実稼働環境で無効になっていること。</span><span class="sxs-lookup"><span data-stu-id="3a625-168">If you enable tracing make sure that it is disabled in production.</span></span> <span data-ttu-id="3a625-169">トレース情報には、クッキー、セッション データ、およびその他の機密情報が含まれているために、実稼働環境でトレースを無効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="3a625-169">Because the trace information includes cookies, session data, and other potentially sensitive information, it is important to disable tracing in production.</span></span> <span data-ttu-id="3a625-170">良いニュースは、既定では、トレースが無効であると、`Trace.axd`ファイルは、localhost を使用してアクセスのみです。</span><span class="sxs-lookup"><span data-stu-id="3a625-170">The good news is that, by default, tracing is disabled and the `Trace.axd` file is only accessible through localhost.</span></span> <span data-ttu-id="3a625-171">開発の既定の設定を変更する場合をオフにする戻る実稼働環境でを確認します。</span><span class="sxs-lookup"><span data-stu-id="3a625-171">If you change these default settings in development make sure that they are turned back off in production.</span></span>

## <a name="techniques-for-maintaining-separate-configuration-information"></a><span data-ttu-id="3a625-172">別の構成情報を保持するための手法</span><span class="sxs-lookup"><span data-stu-id="3a625-172">Techniques for Maintaining Separate Configuration Information</span></span>

<span data-ttu-id="3a625-173">開発と実稼働環境で異なる構成設定を持つ、配置プロセスが複雑になります。</span><span class="sxs-lookup"><span data-stu-id="3a625-173">Having different configuration settings in the development and production environments complicates the deployment process.</span></span> <span data-ttu-id="3a625-174">前の 2 つのチュートリアルで、展開プロセス関与を実稼働での開発からのすべての必要なファイルをコピーが、その方法は、構成情報は、両方の環境で同じ場合にのみ機能します。</span><span class="sxs-lookup"><span data-stu-id="3a625-174">In the previous two tutorials the deployment process involved copying all of the necessary files from development to production, but that approach only works if the configuration information is the same in both environments.</span></span> <span data-ttu-id="3a625-175">さまざまなさまざまな構成情報を持つアプリケーションを展開するための方法があります。</span><span class="sxs-lookup"><span data-stu-id="3a625-175">There are a variety of techniques for deploying an application with varying configuration information.</span></span> <span data-ttu-id="3a625-176">ホストされる web アプリケーションにこれらのオプションの一部をカタログみましょう。</span><span class="sxs-lookup"><span data-stu-id="3a625-176">Let's catalog some of these options for hosted web applications.</span></span>

### <a name="manually-deploying-the-production-environment-configuration-file"></a><span data-ttu-id="3a625-177">実稼働環境の構成ファイルを手動で展開します。</span><span class="sxs-lookup"><span data-stu-id="3a625-177">Manually Deploying the Production Environment Configuration File</span></span>

<span data-ttu-id="3a625-178">最も簡単な方法は 2 つのバージョンを維持するためには、`Web.config`ファイル: 開発環境と運用環境のいずれかのいずれか。</span><span class="sxs-lookup"><span data-stu-id="3a625-178">The simplest approach is to maintain two versions of the `Web.config` file: one for the development environment and one for the production environment.</span></span> <span data-ttu-id="3a625-179">実稼働環境にサイトを展開する場合は、開発環境で実稼働サーバーへのすべてのファイルのコピーする必要があります*を除く*の`Web.config`ファイル。</span><span class="sxs-lookup"><span data-stu-id="3a625-179">Deploying a site to production entails copying all of the files to the production server in the development environment *except* for the `Web.config` file.</span></span> <span data-ttu-id="3a625-180">代わりに、実稼働環境に固有`Web.config`ファイルを実稼働環境にコピーができます。</span><span class="sxs-lookup"><span data-stu-id="3a625-180">Instead, the production environment-specific `Web.config` file would be copied to production.</span></span>

<span data-ttu-id="3a625-181">この方法は非常に高度ではありませんが、簡単に構成情報の変更頻度が低いために実装します。</span><span class="sxs-lookup"><span data-stu-id="3a625-181">This approach is not very sophisticated, but it is easy to implement because configuration information changes infrequently.</span></span> <span data-ttu-id="3a625-182">小規模な開発チームと 1 つの web サーバーでホストされているの構成情報が変更される頻度の低いアプリケーションに最適動作します。</span><span class="sxs-lookup"><span data-stu-id="3a625-182">It works best for applications with a small development team that are hosted on a single web server and whose configuration information is infrequently changed.</span></span> <span data-ttu-id="3a625-183">スタンドアロンの FTP クライアントを使用してアプリケーション ファイルを手動で展開する場合、最も tenable です。</span><span class="sxs-lookup"><span data-stu-id="3a625-183">It's most tenable when manually deploying the application files using a stand-alone FTP client.</span></span> <span data-ttu-id="3a625-184">Visual Studio の Web サイトのコピー ツールまたは発行 オプションを使用する必要があります最初をスワップ アウト展開固有`Web.config`、展開する前に、実稼働環境に固有でファイルし、し、展開が完了した後にスワップします。</span><span class="sxs-lookup"><span data-stu-id="3a625-184">When using Visual Studio's Copy Web Site tool or Publish option you'll need to first swap out the deployment-specific `Web.config` file with the production-specific one before deploying, and then swap them back after deployment completes.</span></span>

### <a name="change-the-configuration-during-the-build-or-deployment-process"></a><span data-ttu-id="3a625-185">ビルドまたは配置処理中に構成を変更します。</span><span class="sxs-lookup"><span data-stu-id="3a625-185">Change the Configuration During the Build or Deployment Process</span></span>

<span data-ttu-id="3a625-186">これまで、ディスカッションは、アドホック ビルドおよび配置プロセスを想定しました。</span><span class="sxs-lookup"><span data-stu-id="3a625-186">The discussions thus far have assumed an ad-hoc build and deployment process.</span></span> <span data-ttu-id="3a625-187">多くの大規模なソフトウェア プロジェクト オープン ソース、自社製の使用、サード パーティのツールを構成するプロセスはより定式化します。</span><span class="sxs-lookup"><span data-stu-id="3a625-187">Many larger software projects have more formalized processes that make use of open-source, home-grown, or third-party tools.</span></span> <span data-ttu-id="3a625-188">このようなプロジェクトの可能性がありますを実稼働環境にこれがプッシュされる前に適切に構成情報を変更するビルドまたは配置プロセスをカスタマイズできます。</span><span class="sxs-lookup"><span data-stu-id="3a625-188">For such projects you can likely customize the build or deployment process to appropriately modify the configuration information before it is pushed to production.</span></span> <span data-ttu-id="3a625-189">使用して web アプリケーションをビルドする場合[MSBuild](http://en.wikipedia.org/wiki/MSBuild)、 [NAnt](http://nant.sourceforge.net/)、いくつかのビルド ツールを追加することもできます可能性がありますを変更するビルド ステップ、`Web.config`を実稼働環境に固有の設定を含めるファイルです。</span><span class="sxs-lookup"><span data-stu-id="3a625-189">If you build your web application using [MSBuild](http://en.wikipedia.org/wiki/MSBuild), [NAnt](http://nant.sourceforge.net/), or some other build tool, you can likely add a build step to modify the `Web.config` file to include the production-specific settings.</span></span> <span data-ttu-id="3a625-190">展開ワークフローでしたプログラムでソース管理サーバーに接続し、適切なを取得または`Web.config`ファイル。</span><span class="sxs-lookup"><span data-stu-id="3a625-190">Or your deployment workflow could programmatically connect to the source control server and retrieve the appropriate `Web.config` file.</span></span>

<span data-ttu-id="3a625-191">実稼働環境に適切な構成情報を取得するための実際のアプローチは、ツールとワークフローに応じて大きく変わります。</span><span class="sxs-lookup"><span data-stu-id="3a625-191">The actual approach for getting the appropriate configuration information to production varies widely based on your tools and workflow.</span></span> <span data-ttu-id="3a625-192">そのため、ありませんを扱ってさらにこのトピックの内容。</span><span class="sxs-lookup"><span data-stu-id="3a625-192">As such, we will not delve into this topic further.</span></span> <span data-ttu-id="3a625-193">MSBuild または NAnt などの人気のあるビルド ツールを使用している場合が表示のデプロイに関する記事やチュートリアルこれらのツールは web 検索を実行する特定されます。</span><span class="sxs-lookup"><span data-stu-id="3a625-193">If you are using a popular build tool like MSBuild or NAnt you can find deployment articles and tutorials specific to these tools through a web search.</span></span>

### <a name="managing-configuration-differences-via-the-web-deployment-project-add-in"></a><span data-ttu-id="3a625-194">アドインのプロジェクトの Web 配置を使用して管理する構成の違い</span><span class="sxs-lookup"><span data-stu-id="3a625-194">Managing Configuration Differences via the Web Deployment Project Add-In</span></span>

<span data-ttu-id="3a625-195">2006 年にリリース Web 開発プロジェクト アドインで Visual Studio 2005 用。</span><span class="sxs-lookup"><span data-stu-id="3a625-195">In 2006 Microsoft released the Web Development Project Add-In for Visual Studio 2005.</span></span> <span data-ttu-id="3a625-196">Visual Studio 2008 では、2008 年にリリースされました。</span><span class="sxs-lookup"><span data-stu-id="3a625-196">An Add-In for Visual Studio 2008 was released in 2008.</span></span> <span data-ttu-id="3a625-197">このアドインでは、ASP.NET 開発者は独立した Web デプロイメント プロジェクトを作成、web アプリケーション プロジェクトと共に、ビルド時に、明示的に web アプリケーションをコンパイルおよびローカル出力ディレクトリに配置するファイルをコピーします。</span><span class="sxs-lookup"><span data-stu-id="3a625-197">This Add-In allows for ASP.NET developers to create a separate Web Deployment Project alongside their web application project that, when built, explicitly compiles the web application and copies the files to deploy to a local output directory.</span></span> <span data-ttu-id="3a625-198">Web アプリケーション プロジェクトでは、バック グラウンドで MSBuild を使用します。</span><span class="sxs-lookup"><span data-stu-id="3a625-198">The Web Application Project uses MSBuild behind the scenes.</span></span>

<span data-ttu-id="3a625-199">既定では、開発環境の`Web.config`ファイルは出力ディレクトリにコピーしますが、Web デプロイ プロジェクトをカスタマイズするをセットアップすることができます、</span><span class="sxs-lookup"><span data-stu-id="3a625-199">By default, the development environment's `Web.config` file is copied to the output directory, but you can setup the Web Deployment Project to customize the</span></span>

<span data-ttu-id="3a625-200">構成の詳細については次の方法でこのディレクトリにコピーを取得します。</span><span class="sxs-lookup"><span data-stu-id="3a625-200">configuration information that gets copied to this directory in the following ways:</span></span>

- <span data-ttu-id="3a625-201">使用して`Web.config`ファイル セクションの交換、置換するセクションを指定して、置換するテキストを含んだ XML ファイルです。</span><span class="sxs-lookup"><span data-stu-id="3a625-201">Via `Web.config` file section replacement, in which you specify the section to replace and an XML file that contains the replacement text.</span></span>
- <span data-ttu-id="3a625-202">外部構成ソース ファイルへのパスを提供します。</span><span class="sxs-lookup"><span data-stu-id="3a625-202">By providing a path to an external configuration source file.</span></span> <span data-ttu-id="3a625-203">このオプションを選択して、Web デプロイ プロジェクトにコピー特定`Web.config`出力ディレクトリにファイル (ではなく、`Web.config`開発環境で使用されるファイル)。</span><span class="sxs-lookup"><span data-stu-id="3a625-203">With this option selected, the Web Deployment Project copies a particular `Web.config` file to the output directory (rather than the `Web.config` file used in the development environment).</span></span>
- <span data-ttu-id="3a625-204">Web デプロイメント プロジェクトによって使用される MSBuild ファイルをカスタム規則を追加します。</span><span class="sxs-lookup"><span data-stu-id="3a625-204">By adding custom rules to the MSBuild file used by the Web Deployment Project.</span></span>

<span data-ttu-id="3a625-205">Web アプリケーションのビルド Web デプロイメント プロジェクトを展開し、プロジェクトの出力フォルダーからファイルを実稼働環境にコピーします。</span><span class="sxs-lookup"><span data-stu-id="3a625-205">To deploy the web application build the Web Deployment Project and then copy the files from the project's output folder to the production environment.</span></span>

<span data-ttu-id="3a625-206">チェック アウト Web デプロイメント プロジェクトの使用に関する詳細については、[この Web プロジェクトのデプロイ記事](https://msdn.microsoft.com/magazine/cc163448.aspx)の 2007 年 4 月問題から[MSDN マガジン](https://msdn.microsoft.com/magazine/default.aspx)で関連項目セクションにあるリンクを参照してくださいまたは、。このチュートリアルの最後。</span><span class="sxs-lookup"><span data-stu-id="3a625-206">To learn more about using the Web Deployment Project check out [this Web Deployment Projects article](https://msdn.microsoft.com/magazine/cc163448.aspx) from the April 2007 issue of [MSDN Magazine](https://msdn.microsoft.com/magazine/default.aspx), or consult the links in the Further Reading section at the end of this tutorial.</span></span>

> [!NOTE]
> <span data-ttu-id="3a625-207">Web デプロイメント プロジェクトは、Visual Studio アドインとして実装されており、Visual Studio Express Edition (Visual Web Developer を含む) は、アドインをサポートしていませんので、Visual Web Developer で Web デプロイ プロジェクトを使用できません。</span><span class="sxs-lookup"><span data-stu-id="3a625-207">You cannot use the Web Deployment Project with Visual Web Developer because the Web Deployment Project is implemented as a Visual Studio Add-In and the Visual Studio Express Editions (including Visual Web Developer) do not support Add-Ins.</span></span>


## <a name="summary"></a><span data-ttu-id="3a625-208">まとめ</span><span class="sxs-lookup"><span data-stu-id="3a625-208">Summary</span></span>

<span data-ttu-id="3a625-209">開発で web アプリケーションの動作と外部リソースは、同じアプリケーションが運用環境の場合よりも通常異なります。</span><span class="sxs-lookup"><span data-stu-id="3a625-209">The external resources and behavior of a web application in development are typically different than when the same application is in production.</span></span> <span data-ttu-id="3a625-210">たとえば、データベース接続文字列、コンパイル オプション、および未処理の例外は一般的に発生したときの動作は、環境間で異なります。</span><span class="sxs-lookup"><span data-stu-id="3a625-210">For instance, database connection strings, compilation options, and the behavior when an unhandled exception occurs commonly differ between environments.</span></span> <span data-ttu-id="3a625-211">展開プロセスは、これらの違いに対応する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3a625-211">The deployment process must accommodate these differences.</span></span> <span data-ttu-id="3a625-212">このチュートリアルで説明したよう、簡単な方法は、運用環境に代替の構成ファイルを手動でコピーします。</span><span class="sxs-lookup"><span data-stu-id="3a625-212">As we discussed in this tutorial, the simplest approach is to manually copy an alternate configuration file to the production environment.</span></span> <span data-ttu-id="3a625-213">洗練されたソリューションは、可能な Web 展開プロジェクト アドインを使用する場合、またはこのようなカスタマイズを格納できるより正式なビルドまたは配置プロセスとします。</span><span class="sxs-lookup"><span data-stu-id="3a625-213">More elegant solutions are possible when using the Web Deployment Project Add-In or with a more formalized build or deployment process that can accommodate such customizations.</span></span>

<span data-ttu-id="3a625-214">満足プログラミング!</span><span class="sxs-lookup"><span data-stu-id="3a625-214">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="3a625-215">関連項目</span><span class="sxs-lookup"><span data-stu-id="3a625-215">Further Reading</span></span>

<span data-ttu-id="3a625-216">このチュートリアルで説明したトピックの詳細については、次の情報を参照してください。</span><span class="sxs-lookup"><span data-stu-id="3a625-216">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="3a625-217">接続文字列の説明</span><span class="sxs-lookup"><span data-stu-id="3a625-217">Connection Strings Explained</span></span>](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string)
- [<span data-ttu-id="3a625-218">データベース接続文字列を @ ConnectionStrings.com</span><span class="sxs-lookup"><span data-stu-id="3a625-218">Database Connection Strings @ ConnectionStrings.com</span></span>](http://www.connectionstrings.com/)
- [<span data-ttu-id="3a625-219">使用して実稼働 ASP.NET アプリケーションを実行しない`debug="true"`有効になっています。</span><span class="sxs-lookup"><span data-stu-id="3a625-219">Don't Run Production ASP.NET Applications with `debug="true"` Enabled</span></span>](https://weblogs.asp.net/scottgu/Don_1920_t-run-production-ASP.NET-Applications-with-debug_3D001D20_true_1D20_-enabled)
- [<span data-ttu-id="3a625-220">わかりやすいエラー ページの表示 - 未処理の例外に応答して適切に</span><span class="sxs-lookup"><span data-stu-id="3a625-220">Gracefully Responding to Unhandled Exceptions - Displaying User-Friendly Error Pages</span></span>](http://aspnet.4guysfromrolla.com/articles/090606-1.aspx)
- [<span data-ttu-id="3a625-221">操作方法: を使用して、Visual Studio 2008 の Web 配置プロジェクトしますか。</span><span class="sxs-lookup"><span data-stu-id="3a625-221">How Do I: Use a Visual Studio 2008 Web Deployment Project?</span></span>](../../../videos/how-do-i/how-do-i-use-a-visual-studio-2008-web-deployment-project.md)
- [<span data-ttu-id="3a625-222">データベースを展開するときに、キーの構成設定</span><span class="sxs-lookup"><span data-stu-id="3a625-222">Key Configuration Settings When Deploying a Database</span></span>](http://aspnet.4guysfromrolla.com/articles/121008-1.aspx)
- <span data-ttu-id="3a625-223">[Visual Studio 2008 Web 展開プロジェクト ダウンロード](https://www.microsoft.com/downloads/details.aspx?FamilyId=0AA30AE8-C73B-4BDD-BB1B-FE697256C459&amp;displaylang=en) | [Visual Studio 2005 Web 展開プロジェクト ダウンロード](https://download.microsoft.com/download/9/4/9/9496adc4-574e-4043-bb70-bc841e27f13c/WebDeploymentSetup.msi)</span><span class="sxs-lookup"><span data-stu-id="3a625-223">[Visual Studio 2008 Web Deployment Projects Download](https://www.microsoft.com/downloads/details.aspx?FamilyId=0AA30AE8-C73B-4BDD-BB1B-FE697256C459&amp;displaylang=en) | [Visual Studio 2005 Web Deployment Projects Download](https://download.microsoft.com/download/9/4/9/9496adc4-574e-4043-bb70-bc841e27f13c/WebDeploymentSetup.msi)</span></span>
- <span data-ttu-id="3a625-224">[VS 2008 Web デプロイメント プロジェクト](https://weblogs.asp.net/scottgu/archive/2005/11/06/429723.aspx) | [VS 2008 の Web 配置でプロジェクトのサポートがリリース](https://weblogs.asp.net/scottgu/archive/2008/01/28/vs-2008-web-deployment-project-support-released.aspx)</span><span class="sxs-lookup"><span data-stu-id="3a625-224">[VS 2008 Web Deployment Projects](https://weblogs.asp.net/scottgu/archive/2005/11/06/429723.aspx) | [VS 2008 Web Deployment Project Support Released](https://weblogs.asp.net/scottgu/archive/2008/01/28/vs-2008-web-deployment-project-support-released.aspx)</span></span>
- [<span data-ttu-id="3a625-225">Web 配置プロジェクト</span><span class="sxs-lookup"><span data-stu-id="3a625-225">Web Deployment Projects</span></span>](https://msdn.microsoft.com/magazine/cc163448.aspx)

>[!div class="step-by-step"]
<span data-ttu-id="3a625-226">[前へ](deploying-your-site-using-visual-studio-vb.md)
[次へ](core-differences-between-iis-and-the-asp-net-development-server-vb.md)</span><span class="sxs-lookup"><span data-stu-id="3a625-226">[Previous](deploying-your-site-using-visual-studio-vb.md)
[Next](core-differences-between-iis-and-the-asp-net-development-server-vb.md)</span></span>
