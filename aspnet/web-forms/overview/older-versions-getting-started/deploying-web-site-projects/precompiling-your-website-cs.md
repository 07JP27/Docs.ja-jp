---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/precompiling-your-website-cs
title: (C#) web サイトをプリコンパイル |Microsoft ドキュメント
author: rick-anderson
description: 'Visual Studio では ASP.NET 開発者 2 種類のプロジェクト: Web アプリケーション プロジェクト (Wap) と Web サイト プロジェクト (WSPs)。 主な相違点 betwe のいずれかを指定しています.'
ms.author: aspnetcontent
manager: wpickett
ms.date: 06/09/2009
ms.topic: article
ms.assetid: ecd5a4de-beb7-4d1d-bbbb-e31003633267
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/precompiling-your-website-cs
msc.type: authoredcontent
ms.openlocfilehash: fe49029d09db99735a181b90e781396929f22d8d
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/06/2018
---
<a name="precompiling-your-website-c"></a><span data-ttu-id="13492-104">(C#) web サイトをプリコンパイルします。</span><span class="sxs-lookup"><span data-stu-id="13492-104">Precompiling Your Website (C#)</span></span>
====================
<span data-ttu-id="13492-105">によって[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="13492-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="13492-106">[コードをダウンロードする](http://download.microsoft.com/download/1/0/C/10CC829F-A808-4302-97D3-59989B8F9C01/ASPNET_Hosting_Tutorial_15_CS.zip)または[PDF のダウンロード](http://download.microsoft.com/download/5/C/5/5C57DB8C-5DEA-4B3A-92CA-4405544D313B/aspnet_tutorial15_Precompiling_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="13492-106">[Download Code](http://download.microsoft.com/download/1/0/C/10CC829F-A808-4302-97D3-59989B8F9C01/ASPNET_Hosting_Tutorial_15_CS.zip) or [Download PDF](http://download.microsoft.com/download/5/C/5/5C57DB8C-5DEA-4B3A-92CA-4405544D313B/aspnet_tutorial15_Precompiling_cs.pdf)</span></span>

> <span data-ttu-id="13492-107">Visual Studio では ASP.NET 開発者 2 種類のプロジェクト: Web アプリケーション プロジェクト (Wap) と Web サイト プロジェクト (WSPs)。</span><span class="sxs-lookup"><span data-stu-id="13492-107">Visual Studio offers ASP.NET developers two types of projects: Web Application Projects (WAPs) and Web Site Projects (WSPs).</span></span> <span data-ttu-id="13492-108">2 つのプロジェクトの種類の主な違いの 1 つは、Wap が必要となる、WSP 内のコードは、web サーバー上に自動的にコンパイルできますが、展開する前に明示的にコンパイル コードです。</span><span class="sxs-lookup"><span data-stu-id="13492-108">One of the key differences between the two project types is that WAPs must have the code explicitly compiled prior to deployment whereas the code in a WSP can be automatically compiled on the web server.</span></span> <span data-ttu-id="13492-109">ただし、展開する前に、WSP をプリコンパイルすることができます。</span><span class="sxs-lookup"><span data-stu-id="13492-109">However, it is possible to precompile a WSP prior to deployment.</span></span> <span data-ttu-id="13492-110">このチュートリアルでは、プリコンパイルの利点について説明をおよび web サイトから Visual Studio 内でコマンドラインからをプリコンパイルする方法を示します。</span><span class="sxs-lookup"><span data-stu-id="13492-110">This tutorial explores the benefits of precompilation and shows how to precompile a website from within Visual Studio and from the command line.</span></span>


## <a name="introduction"></a><span data-ttu-id="13492-111">はじめに</span><span class="sxs-lookup"><span data-stu-id="13492-111">Introduction</span></span>

<span data-ttu-id="13492-112">Visual Studio では ASP.NET 開発者 2 つの異なるプロジェクトの種類: Web アプリケーション プロジェクト (WAP) と Web サイト プロジェクト (WSP)。</span><span class="sxs-lookup"><span data-stu-id="13492-112">Visual Studio offers ASP.NET developers two different project types: Web Application Projects (WAP) and Web Site Projects (WSP).</span></span> <span data-ttu-id="13492-113">これらのプロジェクト タイプの主な違いの 1 つ必要がある Wap*の明示的なコンパイル*は WSPs が使用して*自動コンパイル*既定でします。</span><span class="sxs-lookup"><span data-stu-id="13492-113">One of the key differences between these project types is that WAPs require *explicit compilation* whereas WSPs use *automatic compilation*, by default.</span></span> <span data-ttu-id="13492-114">Wap とで、web サイトの作成は、1 つのアセンブリに web アプリケーションのコードをコンパイルする`Bin`フォルダーです。</span><span class="sxs-lookup"><span data-stu-id="13492-114">With WAPs, you compile the web application's code into a single assembly, which is created in the website's `Bin` folder.</span></span> <span data-ttu-id="13492-115">展開では、マークアップの内容をコピーする必要があります (、 `.aspx.ascx`、および`.master`ファイル) 内のアセンブリと共に、プロジェクトで、`Bin`フォルダー以外の分離コード クラス ファイル自体が展開する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="13492-115">Deployment entails copying the markup content (the `.aspx.ascx`, and `.master` files) in the project, along with the assembly in the `Bin` folder; the code-behind class files themselves do not need to be deployed.</span></span> <span data-ttu-id="13492-116">一方、実稼働環境にマークアップ ページと、対応する分離コード クラスの両方をコピーして WSPs を配置するとします。</span><span class="sxs-lookup"><span data-stu-id="13492-116">On the other hand, you deploy WSPs by copying both the markup pages and their corresponding code-behind classes to the production environment.</span></span> <span data-ttu-id="13492-117">分離コード クラスは、web サーバーで要求時にコンパイルされます。</span><span class="sxs-lookup"><span data-stu-id="13492-117">The code-behind classes are compiled on demand on the web server.</span></span>

> [!NOTE]
> <span data-ttu-id="13492-118">"明示的なコンパイルと自動コンパイル"セクションに戻って、 [*を決定する必要のあるファイルを展開する*チュートリアル](determining-what-files-need-to-be-deployed-cs.md)プロジェクトの違いに関する背景情報についてモデル、明示的なと自動のコンパイル、およびコンパイル モデルが配置に影響します。</span><span class="sxs-lookup"><span data-stu-id="13492-118">Refer back to the "Explicit Compilation Versus Automatic Compilation" section in the [*Determining What Files Need to Be Deployed* tutorial](determining-what-files-need-to-be-deployed-cs.md) for more background on the differences between the project models, explicit and automatic compilation, and how the compilation model affects deployment.</span></span>


<span data-ttu-id="13492-119">自動コンパイル オプションは、簡単に使用します。</span><span class="sxs-lookup"><span data-stu-id="13492-119">The automatic compilation option is simple to use.</span></span> <span data-ttu-id="13492-120">明示的なコンパイル手順がないとされているファイルのみに変更が必要マークアップが変更されたページとだけでコンパイルされたアセンブリを展開する必要のある明示的なコンパイルされ、展開します。</span><span class="sxs-lookup"><span data-stu-id="13492-120">There's no explicit compilation step and only the files that have been modified need to be deployed, whereas explicit compilation necessitates deploying the changed markup pages and the just-compiled assembly.</span></span> <span data-ttu-id="13492-121">ただし、自動展開では、2 つの潜在的な欠点があります。</span><span class="sxs-lookup"><span data-stu-id="13492-121">However, automatic deployment has two potential drawbacks:</span></span>

- <span data-ttu-id="13492-122">ページは、最初にアクセスされるときに自動的にコンパイルする必要があります、ために、ASP.NET ページが展開されている後に最初に要求されたときに短いも顕著な遅延が発生することができますがあります。</span><span class="sxs-lookup"><span data-stu-id="13492-122">Because the pages must be automatically compiled when they are first visited, there can be a short but noticeable delay when an ASP.NET page is requested for the first time after being deployed.</span></span>
- <span data-ttu-id="13492-123">自動コンパイルでは、宣言型マークアップとソース コードの両方が web サーバー上に存在することが必要です。</span><span class="sxs-lookup"><span data-stu-id="13492-123">Automatic compilation requires that both the declarative markup and source code be present on the web server.</span></span> <span data-ttu-id="13492-124">顧客が web サーバーにインストールしたユーザーに web アプリケーションを販売しているように計画する場合が不適切になるオプションにできます。</span><span class="sxs-lookup"><span data-stu-id="13492-124">This can be an unattractive option if you plan on selling the web application to customers who will install it on their web servers.</span></span>

<span data-ttu-id="13492-125">場合か、2 つの欠点の上の商談ブレーカーは、WAP モデルに切り替えるかを実行できますか*プリコンパイル*展開する前に WSP です。</span><span class="sxs-lookup"><span data-stu-id="13492-125">If either of the two above shortcomings are deal breakers, you can either switch to the WAP model or *precompile* the WSP prior to deployment.</span></span> <span data-ttu-id="13492-126">このチュートリアルでは、ホストされる web サイトに最適なプリコンパイルのオプションを調べをプリコンパイル プロセスと、プリコンパイル済みの web サイトの展開手順について説明します。</span><span class="sxs-lookup"><span data-stu-id="13492-126">This tutorial examines the precompilation options best suited for a hosted website and walks through the precompilation process and deployment of a precompiled website.</span></span>

## <a name="an-overview-of-aspnet-code-generation-and-compilation"></a><span data-ttu-id="13492-127">ASP.NET コードの生成とコンパイルの概要</span><span class="sxs-lookup"><span data-stu-id="13492-127">An Overview of ASP.NET Code Generation and Compilation</span></span>

<span data-ttu-id="13492-128">プリコンパイル オプションを見ると、前にしましょう。 まず、コードの生成とコンパイル作成または最後に更新された後、初めての ASP.NET ページが要求されたときに発生するのです。</span><span class="sxs-lookup"><span data-stu-id="13492-128">Before we look at the available precompilation options, let's first talk about the code generation and compilation that occurs when an ASP.NET page is requested for the first time since it's been created or last updated.</span></span> <span data-ttu-id="13492-129">ASP.NET ページは、2 つの部分から成るご存じのように、: での宣言型マークアップ、`.aspx`ファイルと分離コード クラス ファイルで通常のソース コード部分 (`.aspx.cs`)。</span><span class="sxs-lookup"><span data-stu-id="13492-129">As you know, ASP.NET pages are composed of two portions: declarative markup in the `.aspx` file; and a source code portion, typically in a separate code-behind class file (`.aspx.cs`).</span></span> <span data-ttu-id="13492-130">ASP.NET ページが要求されたときに、ランタイムの実行手順は、アプリケーションのコンパイル モデルによって異なります。</span><span class="sxs-lookup"><span data-stu-id="13492-130">The steps performed by the runtime when an ASP.NET page is requested depends on the application's compilation model.</span></span>

<span data-ttu-id="13492-131">Wap とページのソース コードを明示的に展開する前に 1 つのアセンブリにコンパイルする必要があります。</span><span class="sxs-lookup"><span data-stu-id="13492-131">With WAPs, the pages' source code must be explicitly compiled into a single assembly before being deployed.</span></span> <span data-ttu-id="13492-132">展開時に、このアセンブリは、マークアップのさまざまなページが、実稼働環境にコピーされます。</span><span class="sxs-lookup"><span data-stu-id="13492-132">During deployment, this assembly and the various markup pages are copied to the production environment.</span></span> <span data-ttu-id="13492-133">ランタイムが、ページの分離コード クラスのインスタンスを作成しを呼び出す ASP.NET ページの web サーバーに要求が到着すると、その`ProcessRequest`ページ ライフ サイクルを開始し、最終的には、返されるページのコンテンツを生成するメソッドリクエスターです。</span><span class="sxs-lookup"><span data-stu-id="13492-133">When a request arrives to the web server for an ASP.NET page, the runtime creates an instance of the page's code-behind class and invokes its `ProcessRequest` method, which starts the page lifecycle and, ultimately, generates the page's content, which is returned to the requestor.</span></span> <span data-ttu-id="13492-134">ランタイムは、分離コード クラスを展開する前にアセンブリにコンパイルが既にあるため、ASP.NET ページの分離コード クラスを操作できます。</span><span class="sxs-lookup"><span data-stu-id="13492-134">The runtime can work with the ASP.NET page's code-behind class because the code-behind class was already compiled into an assembly prior to deployment.</span></span>

<span data-ttu-id="13492-135">WSPs と自動コンパイル、展開する前に明示的なコンパイル手順はありません。</span><span class="sxs-lookup"><span data-stu-id="13492-135">With WSPs and automatic compilation, there is no explicit compilation step prior to deployment.</span></span> <span data-ttu-id="13492-136">代わりに、展開には、実稼働環境へ、宣言型と、ソース コードのコンテンツの両方のコピーが含まれます。</span><span class="sxs-lookup"><span data-stu-id="13492-136">Instead, deployment involves copying both the declarative and the source code content to the production environment.</span></span> <span data-ttu-id="13492-137">要求が到着する ASP.NET ページ用の web サーバーを最初に、ページが作成または最後に更新されたため、ランタイム必要がありますまずアセンブリにコンパイル、分離コード クラスです。</span><span class="sxs-lookup"><span data-stu-id="13492-137">When a request arrives to the web server for an ASP.NET page for the first time since the page has been created or last updated, the runtime must first compile the code-behind class into an assembly.</span></span> <span data-ttu-id="13492-138">このコンパイルされたアセンブリがフォルダーに保存`%WINDIR%\Microsoft.NET\Framework\v2.0.50727\Temporary ASP.NET Files`経由でこのフォルダーの場所をカスタマイズすることができますが、`<compilation tempDirectory="" />`要素の`<system.web>`通常の`Web.config`します。</span><span class="sxs-lookup"><span data-stu-id="13492-138">This compiled assembly is saved in the folder `%WINDIR%\Microsoft.NET\Framework\v2.0.50727\Temporary ASP.NET Files`, although the location of this folder can be customized via the `<compilation tempDirectory="" />` element of `<system.web>`, usually in `Web.config`.</span></span> <span data-ttu-id="13492-139">アセンブリがあるためディスクに保存される必要はありませんが同じページに後続の要求に再コンパイルします。</span><span class="sxs-lookup"><span data-stu-id="13492-139">Because the assembly is saved to disk, it does not need to be recompiled on subsequent requests to the same page.</span></span>

> [!NOTE]
> <span data-ttu-id="13492-140">サーバー ページのコードをコンパイルし、結果として得られるアセンブリを保存するために少々 時間がかかるように、自動コンパイルを使用しているサイトに初めて (または最初の時刻が変更されるので)、ページが要求するときに若干の遅延が認識は予想できるように、ディスク。</span><span class="sxs-lookup"><span data-stu-id="13492-140">As you would expect, there is a slight delay when requesting a page for the first time (or for the first time since it's been changed) in a site that uses automatic compilation as it takes a moment for the server to compile the page's code and save the resulting assembly to disk.</span></span>


<span data-ttu-id="13492-141">要するに、明示的なコンパイルを使用する必要は、展開する前に、web サイトのソース コードをコンパイルするそのステップを実行することから、ランタイムの保存します。</span><span class="sxs-lookup"><span data-stu-id="13492-141">In short, with explicit compilation you are required to compile the website's source code before deployment, saving the runtime from having to perform that step.</span></span> <span data-ttu-id="13492-142">自動コンパイルとは、ランタイムは、作成または最後に更新された後にページに初めてアクセスのコンパイル コストのわずかな初期化が、ページのソース コードを処理します。</span><span class="sxs-lookup"><span data-stu-id="13492-142">With automatic compilation the runtime handles the compilation of the pages' source code, but with a slight initialization cost for the first visit to the page since it was created or last updated.</span></span>

<span data-ttu-id="13492-143">しかし、ASP.NET ページの宣言型の一部 (、`.aspx`ファイル) ですか?</span><span class="sxs-lookup"><span data-stu-id="13492-143">But what about the declarative part of ASP.NET pages (the `.aspx` file)?</span></span> <span data-ttu-id="13492-144">間の関係があることは明らかです、`.aspx`ファイルおよび宣言型マークアップで定義されている Web コントロールとその分離コード クラスのコードは、コード内でアクセスします。</span><span class="sxs-lookup"><span data-stu-id="13492-144">It's obvious that there's a relationship between the `.aspx` files and the code in their code-behind classes, as the Web controls defined in the declarative markup are accessible in the code.</span></span> <span data-ttu-id="13492-145">明らかもを内のコンテンツ、`.aspx`ファイルは、ページによって生成された、表示されるマークアップが大きく影響します。</span><span class="sxs-lookup"><span data-stu-id="13492-145">It's also obvious that the content in the `.aspx` files greatly influences the rendered markup generated by the page.</span></span> <span data-ttu-id="13492-146">ランタイムは、に対しては、テキスト、HTML、および Web コントロールの構文がで定義されているどのように、`.aspx`要求されたページを生成するファイルがコンテンツをレンダリングしますか?</span><span class="sxs-lookup"><span data-stu-id="13492-146">So how does the runtime work with the text, HTML, and Web control syntax defined in the `.aspx` file to generate the requested page's rendered content?</span></span>

<span data-ttu-id="13492-147">Wap と WSPs 間で異なる場合、下位レベルの実装の詳細に無駄というわけで取得すぎるしたくないが、簡単に言えば、ランタイムを自動的に生成クラス ファイルが保護されたメンバーとメソッドのさまざまな Web コントロールを格納します。</span><span class="sxs-lookup"><span data-stu-id="13492-147">I don't want to get too sidetracked on the low-level implementation details, which vary between WAPs and WSPs, but in a nutshell the runtime automatically generates a class file that contains the various Web controls as protected members and methods.</span></span> <span data-ttu-id="13492-148">この生成されたファイルは、*部分クラス*を対応する分離コード クラス。</span><span class="sxs-lookup"><span data-stu-id="13492-148">This generated file is implemented as a *partial class* to the corresponding code-behind class.</span></span> <span data-ttu-id="13492-149">([部分クラス](http://www.dotnet-guide.com/partialclasses.html)を分散させる複数のファイルを 1 つのクラスの内容を許可します)。2 つの場所で分離コード クラスが定義されているため、: で、`.aspx.cs`したファイルを作成するには、この自動生成されたクラスでは、ランタイムによって作成します。</span><span class="sxs-lookup"><span data-stu-id="13492-149">([Partial classes](http://www.dotnet-guide.com/partialclasses.html) allow for the contents of a single class to be spread across multiple files.) Therefore, the code-behind class is defined in two places: in the `.aspx.cs` file that you create, and in this auto-generated class created by the runtime.</span></span> <span data-ttu-id="13492-150">この自動生成されたクラスが格納されている、`%WINDIR%\Microsoft.NET\Framework\v2.0.50727\Temporary ASP.NET Files`フォルダーです。</span><span class="sxs-lookup"><span data-stu-id="13492-150">This auto-generated class is stored in the `%WINDIR%\Microsoft.NET\Framework\v2.0.50727\Temporary ASP.NET Files` folder.</span></span>

<span data-ttu-id="13492-151">この重要な取り去る設定されているランタイムによってレンダリングされる ASP.NET ページの両方の宣言し、ソース コードの部分は、アセンブリにコンパイルする必要があります。</span><span class="sxs-lookup"><span data-stu-id="13492-151">The important take away here is that for an ASP.NET page to be rendered by the runtime both its declarative and source code portions must be compiled into an assembly.</span></span> <span data-ttu-id="13492-152">Wap、ソース コードは、展開する前にアセンブリにコンパイル明示的が宣言型マークアップのコードに変換する必要がありますはするであり、web サーバー上のランタイムでコンパイルします。</span><span class="sxs-lookup"><span data-stu-id="13492-152">With WAPs, the source code is explicitly compiled into an assembly prior to deployment, but the declarative markup must still be converted into code and compiled by the runtime on the web server.</span></span> <span data-ttu-id="13492-153">WSPs 自動コンパイルを使用して、、ソース コードと宣言型マークアップの両方は、web サーバーでコンパイルする必要があります。</span><span class="sxs-lookup"><span data-stu-id="13492-153">With WSPs using automatic compilation, both the source code and the declarative markup need to be compiled by the web server.</span></span>

<span data-ttu-id="13492-154">WSP モデルでの明示的なコンパイルを使用することができます。</span><span class="sxs-lookup"><span data-stu-id="13492-154">It is possible to use explicit compilation with the WSP model.</span></span> <span data-ttu-id="13492-155">WAP モデルでのように、ソース コードの部分を明示的にコンパイルできます。</span><span class="sxs-lookup"><span data-stu-id="13492-155">You can explicitly compile the source code portion, like with the WAP model.</span></span> <span data-ttu-id="13492-156">さらに、宣言型マークアップをコンパイルすることもできます。</span><span class="sxs-lookup"><span data-stu-id="13492-156">What's more, you can also compile the declarative markup.</span></span>

## <a name="precompilation-options"></a><span data-ttu-id="13492-157">プリコンパイル オプション</span><span class="sxs-lookup"><span data-stu-id="13492-157">Precompilation Options</span></span>

<span data-ttu-id="13492-158">.NET Framework が付属しています、 [ASP.NET コンパイル ツール (`aspnet_compiler.exe`)](https://msdn.microsoft.com/library/ms229863.aspx) WSP モデルを使用してビルドされた ASP.NET アプリケーションのソース コード (およびコンテンツも) をコンパイルすることができます。</span><span class="sxs-lookup"><span data-stu-id="13492-158">The .NET Framework ships with an [ASP.NET compilation tool (`aspnet_compiler.exe`)](https://msdn.microsoft.com/library/ms229863.aspx) that enables you to compile the source code (and even the content) of an ASP.NET application built using the WSP model.</span></span> <span data-ttu-id="13492-159">このツールは、.NET Framework version 2.0 と共にリリースされたし内にある、`%WINDIR%\Microsoft.NET\Framework\v2.0.50727`フォルダーです。 コマンドラインから使用するか、[ビルド] メニューの Web サイトの発行オプションを使用して Visual Studio 内から起動します。</span><span class="sxs-lookup"><span data-stu-id="13492-159">This tool was released with the .NET Framework version 2.0 and is located in the `%WINDIR%\Microsoft.NET\Framework\v2.0.50727` folder; it can be used from the command line or launched from within Visual Studio via the Build menu's Publish Web Site option.</span></span>

<span data-ttu-id="13492-160">このコンパイル ツールにより、コンパイルの 2 つの一般的な形式: インプレースでプリコンパイルと展開のプリコンパイルします。</span><span class="sxs-lookup"><span data-stu-id="13492-160">The compilation tool provides two general forms of compilation: in-place precompilation and precompilation for deployment.</span></span> <span data-ttu-id="13492-161">インプレースでプリコンパイルで実行すること、`aspnet_compiler.exe`から、コマンド ライン ツールをコンピューター上の仮想ディレクトリまたは存在する web サイトの物理パスへのパスを指定します。</span><span class="sxs-lookup"><span data-stu-id="13492-161">With in-place precompilation you run the `aspnet_compiler.exe` tool from the command-line and specify the path to the virtual directory or physical path of a website that resides on your computer.</span></span> <span data-ttu-id="13492-162">コンパイル ツールでコンパイルされたバージョンを格納する、プロジェクト内の各 ASP.NET ページをコンパイルし、`%WINDIR%\Microsoft.NET\Framework\v2.0.50727\Temporary ASP.NET Files`場合、ページが各から表示されたが最初に、ブラウザーと同じようにフォルダーです。</span><span class="sxs-lookup"><span data-stu-id="13492-162">The compilation tool then compiles each ASP.NET page in the project, storing the compiled version in the `%WINDIR%\Microsoft.NET\Framework\v2.0.50727\Temporary ASP.NET Files` folder just like if the pages had each been visited for the first time from a browser.</span></span> <span data-ttu-id="13492-163">インプレースでプリコンパイルは、この手順を実行する必要があるからランタイムを軽減するために、サイトで、新しく展開される ASP.NET ページに加えられた最初の要求を高速化できます。</span><span class="sxs-lookup"><span data-stu-id="13492-163">In-place precompilation can speed up the first request made to newly deployed ASP.NET pages on your site because it alleviates the runtime from needing to perform this step.</span></span> <span data-ttu-id="13492-164">ただし、必要とする web サーバーからプログラムのコマンドラインを実行できるためインプレースでプリコンパイルはホステッド web サイトの大部分適していません。</span><span class="sxs-lookup"><span data-stu-id="13492-164">However, in-place precompilation is not useful for the majority of hosted websites because it requires that you are able to run programs from the web server's command-line.</span></span> <span data-ttu-id="13492-165">共有ホスティング環境でこのレベルのアクセスが許可されていません。</span><span class="sxs-lookup"><span data-stu-id="13492-165">In shared hosting environments this level of access is not permitted.</span></span>

> [!NOTE]
> <span data-ttu-id="13492-166">インプレースでプリコンパイルの詳細については、チェック アウト[How To: ASP.NET Web サイトのプリコンパイル](https://msdn.microsoft.com/library/ms227972.aspx)と[ASP.NET 2.0 でのプリコンパイル](http://www.odetocode.com/Articles/417.aspx)です。</span><span class="sxs-lookup"><span data-stu-id="13492-166">For more information on in-place precompilation, check out [How To: Precompile ASP.NET Web Sites](https://msdn.microsoft.com/library/ms227972.aspx) and [Precompilation in ASP.NET 2.0](http://www.odetocode.com/Articles/417.aspx).</span></span>


<span data-ttu-id="13492-167">Web サイトのページをコンパイルするのではなく、`Temporary ASP.NET Files`フォルダーで、展開のプリコンパイル コンパイル、ページを選択して、運用環境に展開できる形式でのディレクトリをします。</span><span class="sxs-lookup"><span data-stu-id="13492-167">Instead of compiling the pages in the website to the `Temporary ASP.NET Files` folder, precompilation for deployment compiles the pages to a directory of your choosing and in a format that can be deployed to the production environment.</span></span>

<span data-ttu-id="13492-168">このチュートリアルでナビゲートする展開のためのプリコンパイルの 2 種類があります: 更新可能なユーザー インターフェイスでプリコンパイルとプリコンパイル更新不可のユーザー インターフェイスを使用します。</span><span class="sxs-lookup"><span data-stu-id="13492-168">There are two flavors of precompilation for deployment that we explore in this tutorial: precompilation with an updatable user interface, and precompilation with a non-updatable user interface.</span></span> <span data-ttu-id="13492-169">更新可能なユーザー インターフェイスでのプリコンパイルの宣言型マークアップのまま、 `.aspx`、 `.ascx`、および`.master`できるため、開発者を表示し、必要に応じて、実稼働サーバー上の宣言型マークアップを変更するファイル。</span><span class="sxs-lookup"><span data-stu-id="13492-169">Precompilation with an updatable user interface leaves the declarative markup in the `.aspx`, `.ascx`, and `.master` files, thereby allowing a developer to view and, if desired, modify the declarative markup on the production server.</span></span> <span data-ttu-id="13492-170">非更新可能なユーザー インターフェイスを持つプリコンパイルが生成されます`.aspx`ページのコンテンツと削除の void である`.ascx`と`.master`ファイル、それによって宣言型マークアップを非表示にしてからの変更を開発者を禁止すること、運用環境。</span><span class="sxs-lookup"><span data-stu-id="13492-170">Precompilation with a non-updatable user interface generates `.aspx` pages that are void of any content and removes `.ascx` and `.master` files, thereby hiding the declarative markup and prohibiting a developer from changing it from the production environment.</span></span>

### <a name="precompiling-for-deployment-with-an-updatable-user-interface"></a><span data-ttu-id="13492-171">更新可能なユーザー インターフェイスで展開するためのプリコンパイル</span><span class="sxs-lookup"><span data-stu-id="13492-171">Precompiling for Deployment With an Updatable User Interface</span></span>

<span data-ttu-id="13492-172">プリコンパイルの展開を理解する最善の方法では、アクションの例を参照してください。</span><span class="sxs-lookup"><span data-stu-id="13492-172">The best way to understand precompilation for deployment is to see an example in action.</span></span> <span data-ttu-id="13492-173">更新可能なユーザー インターフェイスを使用した展開 Book レビュー WSP をプリコンパイルしてみましょう。</span><span class="sxs-lookup"><span data-stu-id="13492-173">Let's precompile the Book Reviews WSP for deployment using an updatable user interface.</span></span> <span data-ttu-id="13492-174">ASP.NET コンパイル ツールは、Visual Studio のビルド メニューから、またはコマンドラインから呼び出すことができます。</span><span class="sxs-lookup"><span data-stu-id="13492-174">The ASP.NET compilation tool can be invoked from Visual Studio's Build menu or from the command-line.</span></span> <span data-ttu-id="13492-175">このセクションでは、Visual Studio; 内からツールを使用してを調べます「プリコンパイル コマンドラインから」セクションでは、コンパイラ ツールをコマンドラインから実行します。</span><span class="sxs-lookup"><span data-stu-id="13492-175">This section examines using the tool from within Visual Studio; the "Precompiling from the Command Line" section looks at running the compiler tool from the command line.</span></span>

<span data-ttu-id="13492-176">Book レビュー WSP Visual Studio で、ビルド メニューを開き Web サイトの発行 メニュー オプションを選択します。</span><span class="sxs-lookup"><span data-stu-id="13492-176">Open the Book Review WSP in Visual Studio, go to the Build menu, and select the Publish Web Site menu option.</span></span> <span data-ttu-id="13492-177">これにより、Web サイトの発行 ダイアログ ボックス、起動 (を参照してください**図 1**) は、ターゲットの場所、プリコンパイル済みサイトのユーザー インターフェイスが、更新可能かどうかおよびその他のコンパイラ ツールのオプションを指定できます。</span><span class="sxs-lookup"><span data-stu-id="13492-177">This launches the Publish Web Site dialog box (see **Figure 1**), where you can specify the target location, whether or not the precompiled site's user interface is updatable, and other compiler tool options.</span></span> <span data-ttu-id="13492-178">ターゲットの場所はリモート web サーバーまたは FTP サーバーを指定できますが、ここでは、コンピューターのハード ドライブ上のフォルダーを選択します。</span><span class="sxs-lookup"><span data-stu-id="13492-178">The target location can be a remote web server or FTP server, but for now choose a folder on your computer's hard drive.</span></span> <span data-ttu-id="13492-179">、更新可能なユーザー インターフェイスを持つサイトをプリコンパイルするので"このプリコンパイル済みサイトを更新を許可する チェック ボックスをオンのままにし、ok をクリックします。</span><span class="sxs-lookup"><span data-stu-id="13492-179">Because we want to precompile the site with an updatable user interface, leave the "Allow this precompiled site to be updatable" checkbox checked and click OK.</span></span>

[![](precompiling-your-website-cs/_static/image2.png)](precompiling-your-website-cs/_static/image1.png)

<span data-ttu-id="13492-180">**図 1**: ASP.NET コンパイル ツールは、指定したターゲットの場所に、web サイトをプリコンパイル</span><span class="sxs-lookup"><span data-stu-id="13492-180">**Figure 1**: The ASP.NET Compilation Tool Will Precompile Your Website to the Specified Target Location</span></span>  
 <span data-ttu-id="13492-181">([フルサイズのイメージを表示するをクリックして](precompiling-your-website-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="13492-181">([Click to view full-size image](precompiling-your-website-cs/_static/image3.png))</span></span>

> [!NOTE]
> <span data-ttu-id="13492-182">[ビルド] メニューで、Web サイトの発行オプションでは、Visual Web Developer で使用できません。</span><span class="sxs-lookup"><span data-stu-id="13492-182">The Publish Web Site option in the Build menu is not available in Visual Web Developer.</span></span> <span data-ttu-id="13492-183">Visual Web Developer を使用している場合は、「プリコンパイル コマンドラインから」のセクションで説明されている ASP.NET コンパイル ツールのコマンド ライン バージョンを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="13492-183">If you are using Visual Web Developer you will need to use the command-line version of the ASP.NET compilation tool, which is covered in the "Precompiling from the Command Line" section.</span></span>


<span data-ttu-id="13492-184">Web サイトをプリコンパイルした後は、Web サイトの発行 ダイアログ ボックスに入力したターゲットの場所に移動します。</span><span class="sxs-lookup"><span data-stu-id="13492-184">After precompiling the website, navigate to the target location you entered in the Publish Web Site dialog box.</span></span> <span data-ttu-id="13492-185">Web サイトの内容をこのフォルダーの内容を比較するのにはしばらくを実行します。</span><span class="sxs-lookup"><span data-stu-id="13492-185">Take a moment to compare the contents of this folder with the contents of your website.</span></span> <span data-ttu-id="13492-186">**図 2**書評 web サイト フォルダーを表示します。</span><span class="sxs-lookup"><span data-stu-id="13492-186">**Figure 2** shows the Book Reviews website folder.</span></span> <span data-ttu-id="13492-187">両方が含まれているメモ`.aspx`と`.aspx.cs`ファイル。</span><span class="sxs-lookup"><span data-stu-id="13492-187">Note that it contains both `.aspx` and `.aspx.cs` files.</span></span> <span data-ttu-id="13492-188">また、`Bin`ディレクトリには、1 つのファイルが含まれています`Elmah.dll`、で追加して、[前のチュートリアル。](logging-error-details-with-elmah-cs.md)</span><span class="sxs-lookup"><span data-stu-id="13492-188">Also, note that the `Bin` directory includes only one file, `Elmah.dll`, which we added in the [preceding tutorial](logging-error-details-with-elmah-cs.md)</span></span>

[![](precompiling-your-website-cs/_static/image5.png)](precompiling-your-website-cs/_static/image4.png)

<span data-ttu-id="13492-189">**図 2**: プロジェクト ディレクトリに含まれる`.aspx`と`.aspx.cs`ファイル;、`Bin`だけフォルダーが含まれています `Elmah.dll`</span><span class="sxs-lookup"><span data-stu-id="13492-189">**Figure 2**: The Project Directory Contains `.aspx` and `.aspx.cs` Files; the `Bin` Folder Includes Just `Elmah.dll`</span></span>  
 <span data-ttu-id="13492-190">([フルサイズのイメージを表示するをクリックして](precompiling-your-website-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="13492-190">([Click to view full-size image](precompiling-your-website-cs/_static/image6.png))</span></span>

<span data-ttu-id="13492-191">**図 3**内容は、ASP.NET コンパイル ツールによって作成されたターゲットの場所フォルダーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="13492-191">**Figure 3** shows the target location folder whose contents were created by the ASP.NET compilation tool.</span></span> <span data-ttu-id="13492-192">このフォルダーに、分離コード ファイルが含まれていません。</span><span class="sxs-lookup"><span data-stu-id="13492-192">This folder does not contain any code-behind files.</span></span> <span data-ttu-id="13492-193">さらに、このフォルダーの`Bin`ディレクトリは、いくつかのアセンブリと 2 つ含まれています。`.compiled`ファイルに加え、`Elmah.dll`アセンブリ。</span><span class="sxs-lookup"><span data-stu-id="13492-193">Moreover, this folder's `Bin` directory includes several assemblies and two `.compiled` files in addition to the `Elmah.dll` assembly.</span></span>

[![](precompiling-your-website-cs/_static/image8.png)](precompiling-your-website-cs/_static/image7.png)

<span data-ttu-id="13492-194">**図 3**: ターゲットの場所フォルダーには、ファイルには展開が含まれています</span><span class="sxs-lookup"><span data-stu-id="13492-194">**Figure 3**: The Target Location Folder Includes the Files for Deployment</span></span>  
 <span data-ttu-id="13492-195">([フルサイズのイメージを表示するをクリックして](precompiling-your-website-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="13492-195">([Click to view full-size image](precompiling-your-website-cs/_static/image9.png))</span></span>

<span data-ttu-id="13492-196">Wap の明示的なコンパイルとは異なりの展開プロセスのプリコンパイルは、サイト全体に対して 1 つのアセンブリを作成できません。</span><span class="sxs-lookup"><span data-stu-id="13492-196">Unlike explicit compilation in WAPs, the precompilation for deployment process does not create one assembly for the entire site.</span></span> <span data-ttu-id="13492-197">代わりに、そのバッチ一緒にいくつかのページに各アセンブリ。</span><span class="sxs-lookup"><span data-stu-id="13492-197">Instead, it batches together several pages into each assembly.</span></span> <span data-ttu-id="13492-198">またコンパイル、 `Global.asax` (存在する場合) をファイル内の任意のクラスと同様に、独自のアセンブリを`App_Code`フォルダーです。</span><span class="sxs-lookup"><span data-stu-id="13492-198">It also compiles the `Global.asax` file (if present) into its own assembly, as well as any classes in the `App_Code` folder.</span></span> <span data-ttu-id="13492-199">ASP.NET の宣言型マークアップを保持するファイルは web ページ、ユーザー コントロール、およびマスター ページ (`.aspx`、`.ascx`と`.master`ファイルは、それぞれ) としてコピーのターゲットの場所のディレクトリには。</span><span class="sxs-lookup"><span data-stu-id="13492-199">The files that hold the declarative markup for ASP.NET web pages, User Controls, and master pages (`.aspx`, `.ascx`, and `.master` files, respectively) are copied as-is to the target location directory.</span></span> <span data-ttu-id="13492-200">同様に、`Web.config`と共に画像、CSS クラス、および PDF ファイルなどの静的なファイルを直接を介して、ファイルがコピーされます。</span><span class="sxs-lookup"><span data-stu-id="13492-200">Likewise, the `Web.config` file is copied straight over, along with any static files, such as images, CSS classes, and PDF files.</span></span> <span data-ttu-id="13492-201">形式的の詳細については、コンパイル ツールがさまざまなを処理する方法は、ファイルの種類を参照してください[ASP.NET プリコンパイル中のファイルの処理](https://msdn.microsoft.com/library/e22s60h9.aspx)です。</span><span class="sxs-lookup"><span data-stu-id="13492-201">For a more formal description of how the compilation tool handles various file types, refer to [File Handling During ASP.NET Precompilation](https://msdn.microsoft.com/library/e22s60h9.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="13492-202">Web サイトの発行 ダイアログ ボックスから「固定の名前付けに使用されているとシングル ページ アセンブリ」のチェック ボックスをオンして、ASP.NET ページ、ユーザー コントロール、またはマスター ページごとに 1 つのアセンブリを作成するコンパイル ツールに対して指示することができます。</span><span class="sxs-lookup"><span data-stu-id="13492-202">You can instruct the compilation tool to create one assembly per ASP.NET page, User Control, or master page by checking the "Used fixed naming and single page assemblies" checkbox from the Publish Web Site dialog box.</span></span> <span data-ttu-id="13492-203">独自のアセンブリにコンパイルされた各 ASP.NET ページの展開より詳細に制御できます。</span><span class="sxs-lookup"><span data-stu-id="13492-203">Having each ASP.NET page compiled into its own assembly allows for more fine-grained control over deployment.</span></span> <span data-ttu-id="13492-204">たとえば、単一の ASP.NET web ページを更新してその変更を配置するために必要な場合必要があるのみを展開するページの`.aspx`ファイルと、運用環境に関連付けられているアセンブリ。</span><span class="sxs-lookup"><span data-stu-id="13492-204">For example, if you updated a single ASP.NET web page and needed to deploy that change, you need only deploy that page's `.aspx` file and associated assembly to the production environment.</span></span> <span data-ttu-id="13492-205">参照してください[How To: ASP.NET コンパイル ツールを使用して固定名を生成する](https://msdn.microsoft.com/library/ms228040.aspx)詳細についてはします。</span><span class="sxs-lookup"><span data-stu-id="13492-205">Consult [How To: Generate Fixed Names with the ASP.NET Compilation Tool](https://msdn.microsoft.com/library/ms228040.aspx) for more information.</span></span>


<span data-ttu-id="13492-206">ターゲットの場所のディレクトリは、プリコンパイルされた web プロジェクトの一部がつまりれていないファイルも含まれています。`PrecompiledApp.config`です。</span><span class="sxs-lookup"><span data-stu-id="13492-206">The target location directory also contains a file that was not part of the precompiled web project, namely `PrecompiledApp.config`.</span></span> <span data-ttu-id="13492-207">このファイルは、アプリケーションがプリコンパイルされた ASP.NET ランタイムと、更新可能なまたは正午更新可能な UI を使用したプリコンパイルしたかどうかを通知します。</span><span class="sxs-lookup"><span data-stu-id="13492-207">This file informs the ASP.NET runtime that the application was precompiled and whether it was precompiled with an updatable or noon-updatable UI.</span></span>

<span data-ttu-id="13492-208">最後に、すぐを 1 つ開きます、 `.aspx` Visual Studio または任意のテキスト エディターを使用してターゲットの場所にファイル。</span><span class="sxs-lookup"><span data-stu-id="13492-208">Finally, take a moment to open one of the `.aspx` files in the target location using Visual Studio or your text editor of choice.</span></span> <span data-ttu-id="13492-209">更新可能なユーザー インターフェイスで展開するためのプリコンパイル、ターゲットの場所のディレクトリ内の ASP.NET ページは、正確なマークアップと同じ web サイト内の対応するファイルを含めます。</span><span class="sxs-lookup"><span data-stu-id="13492-209">When precompiling for deployment with an updatable user interface, the ASP.NET pages in the target location directory contain the exact same markup as the corresponding files in the website.</span></span>

### <a name="precompiling-for-deployment-with-a-non-updatable-user-interface"></a><span data-ttu-id="13492-210">非更新可能なユーザー インターフェイスで展開するためのプリコンパイル</span><span class="sxs-lookup"><span data-stu-id="13492-210">Precompiling for Deployment With a Non-Updatable User Interface</span></span>

<span data-ttu-id="13492-211">ASP.NET コンパイラ ツールは、更新不可能な UI を使用した展開のサイトのプリコンパイルも使用できます。</span><span class="sxs-lookup"><span data-stu-id="13492-211">The ASP.NET compiler tool can also be used to precompile a site for deployment with a non-updatable UI.</span></span> <span data-ttu-id="13492-212">更新不可能な UI を使用したサイトをプリコンパイルは同様に機能していること、ASP.NET ページ、ユーザー コントロール、およびマスター ページ先のディレクトリでは、マークアップを削除した UI 更新、重要な違いプリコンパイルします。</span><span class="sxs-lookup"><span data-stu-id="13492-212">Precompiling the site with a non-updatable UI works much like precompiling with an updatable UI, the key difference being that the ASP.NET pages, User Controls, and master pages in the target directory are stripped of their markup.</span></span> <span data-ttu-id="13492-213">更新不可能な UI を使用した展開用に web サイトをプリコンパイルするビルド メニューから Web サイトの発行オプションを選択が、「このプリコンパイル済みサイトを更新を許可する」オプションをオフにして (を参照してください**図 4**)。</span><span class="sxs-lookup"><span data-stu-id="13492-213">To precompile a website for deployment with a non-updatable UI, choose the Publish Web Site option from the Build menu, but uncheck the "Allow this precompiled site to be updatable" option (see **Figure 4**).</span></span>

[![](precompiling-your-website-cs/_static/image11.png)](precompiling-your-website-cs/_static/image10.png)

<span data-ttu-id="13492-214">**図 4**:「このプリコンパイル済みサイトを更新を許可する」オプションをプリコンパイルで、非 UI を更新をオフに</span><span class="sxs-lookup"><span data-stu-id="13492-214">**Figure 4**: Uncheck the "Allow this precompiled site to be updatable" Option To Precompile With a Non-Updatable UI</span></span>  
 <span data-ttu-id="13492-215">([フルサイズのイメージを表示するをクリックして](precompiling-your-website-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="13492-215">([Click to view full-size image](precompiling-your-website-cs/_static/image12.png))</span></span>

<span data-ttu-id="13492-216">**図 5**更新不可能なユーザー インターフェイスを持つをプリコンパイルした後、ターゲットの場所のフォルダーを示しています。</span><span class="sxs-lookup"><span data-stu-id="13492-216">**Figure 5** shows the target location folder after precompiling with a non-updatable user interface.</span></span>

[![](precompiling-your-website-cs/_static/image14.png)](precompiling-your-website-cs/_static/image13.png)

<span data-ttu-id="13492-217">**図 5**: 更新不可能な UI を使用した展開のターゲットの場所フォルダー</span><span class="sxs-lookup"><span data-stu-id="13492-217">**Figure 5**: The Target Location Folder for Deployment With a Non-Updatable UI</span></span>  
 <span data-ttu-id="13492-218">([フルサイズのイメージを表示するをクリックして](precompiling-your-website-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="13492-218">([Click to view full-size image](precompiling-your-website-cs/_static/image15.png))</span></span>

<span data-ttu-id="13492-219">比較**図 3**に**図 5**です。</span><span class="sxs-lookup"><span data-stu-id="13492-219">Compare **Figure 3** to **Figure 5**.</span></span> <span data-ttu-id="13492-220">2 つのフォルダーを同じに見えるかもしれませんが、更新不可の UI フォルダーに、マスター ページがないことに注意してください`Site.master`です。</span><span class="sxs-lookup"><span data-stu-id="13492-220">While the two folders may look identical, note that the non-updatable UI folder lacks the master page, `Site.master`.</span></span> <span data-ttu-id="13492-221">また**図 5**の宣言型マークアップを削除したをプレース ホルダー テキストで置換したされていることが表示されます、これらのファイルの内容を表示する場合、ASP.NET のさまざまなページが含まれています:"This is によって生成されたマーカー ファイルプリコンパイル ツール、削除できません"。</span><span class="sxs-lookup"><span data-stu-id="13492-221">And while **Figure 5** includes the various ASP.NET pages, if you view the contents of these files you'll see that they've been stripped of their declarative markup and replaced with the placeholder text: "This is a marker file generated by the precompilation tool, and should not be deleted!"</span></span>

[![](precompiling-your-website-cs/_static/image17.png)](precompiling-your-website-cs/_static/image16.png)

<span data-ttu-id="13492-222">**図 5**: 宣言型マークアップは、ASP.NET ページから削除されました</span><span class="sxs-lookup"><span data-stu-id="13492-222">**Figure 5**: The Declarative Markup Has Been Removed from the ASP.NET Pages</span></span>

<span data-ttu-id="13492-223">`Bin`フォルダー**図 3**と**5**より大幅に異なります。</span><span class="sxs-lookup"><span data-stu-id="13492-223">The `Bin` folders in **Figures 3** and **5** differ more substantially.</span></span> <span data-ttu-id="13492-224">アセンブリに加えて、`Bin`フォルダー**図 5**が含まれています、 `.compiled` ASP.NET ページ、ユーザー コントロール、およびマスター ページのファイルです。</span><span class="sxs-lookup"><span data-stu-id="13492-224">In addition to the assemblies, the `Bin` folder in **Figure 5** includes a `.compiled` file for each ASP.NET page, User Control, and master page.</span></span>

<span data-ttu-id="13492-225">更新不可能な UI を使用したサイトをプリコンパイルするは、個人または会社のインストールまたは実稼働環境で web サイトを管理ユーザーによって変更する ASP.NET ページの内容のしない状況で便利です。</span><span class="sxs-lookup"><span data-stu-id="13492-225">Precompiling a site with a non-updatable UI is useful in situations where you do not want the ASP.NET pages' contents to be modified by the person or company who installs or manages the website in the production environment.</span></span> <span data-ttu-id="13492-226">Web サーバーにインストールするお客様を販売している ASP.NET web アプリケーションをビルドすることがある場合を直接編集して、サイトの外観を変更しない場合ことを確認してください、`.aspx`出荷するページ。</span><span class="sxs-lookup"><span data-stu-id="13492-226">If you build an ASP.NET web application that you sell to customers to install on their own web servers, you may want to ensure that they do not modify the look and feel of your site by directly editing the `.aspx` pages you ship them.</span></span> <span data-ttu-id="13492-227">プレース ホルダーを出荷する更新不可能な UI を使用した web サイトをプリコンパイルするには、によって`.aspx`お客様から調査またはその内容を変更するように、インストールの一部としてページ。</span><span class="sxs-lookup"><span data-stu-id="13492-227">By precompiling your website with a non-updatable UI, you ship the placeholder `.aspx` pages as part of the installation, thereby preventing your customers from examining or modifying their content.</span></span>

### <a name="precompiling-from-the-command-line"></a><span data-ttu-id="13492-228">コマンドラインからプリコンパイル</span><span class="sxs-lookup"><span data-stu-id="13492-228">Precompiling from the Command Line</span></span>

<span data-ttu-id="13492-229">背後で Visual Studio の Web サイトの発行 ダイアログ ボックスが ASP.NET コンパイル ツールを呼び出します (`aspnet_compiler.exe`)、web サイトをプリコンパイルします。</span><span class="sxs-lookup"><span data-stu-id="13492-229">Behind the scenes, Visual Studio's Publish Web Site dialog box invokes the ASP.NET compilation tool (`aspnet_compiler.exe`) to precompile the website.</span></span> <span data-ttu-id="13492-230">また、コマンドラインからこのツールを呼び出すことができます。</span><span class="sxs-lookup"><span data-stu-id="13492-230">Alternatively, you can invoke this tool from the command line.</span></span> <span data-ttu-id="13492-231">実際には、Visual Web Developer を使用する場合、必要があります、コマンドラインから、コンパイラ ツールを実行するように Visual Web Developer のビルド メニューでは、Web サイトの発行オプションは含まれません。</span><span class="sxs-lookup"><span data-stu-id="13492-231">In fact, if you use Visual Web Developer then you will need to run the compiler tool from the command line, as Visual Web Developer's Build menu does not include the Publish Web Site option.</span></span>

<span data-ttu-id="13492-232">コマンド ライン コンパイラ ツールを使用するコマンドラインを削除しのフレームワーク ディレクトリに移動することによって開始`%WINDIR%\Microsoft.NET\Framework\v2.0.50727`です。</span><span class="sxs-lookup"><span data-stu-id="13492-232">To use the compiler tool from the command line, start by dropping to the command line and navigating to the framework directory, `%WINDIR%\Microsoft.NET\Framework\v2.0.50727`.</span></span> <span data-ttu-id="13492-233">次に、コマンドラインに次のステートメントを入力します。</span><span class="sxs-lookup"><span data-stu-id="13492-233">Next, enter the following statement into the command line:</span></span>

`aspnet_compiler -p "physical_path_to_app" -v / -f -u "target_location_folder"`

<span data-ttu-id="13492-234">上記のコマンドは、ASP.NET コンパイラ ツールを起動 (`aspnet_compiler.exe`) および、via、`-p`スイッチをルートと、web サイトをプリコンパイルするよう指示*物理\_パス\_に\_アプリ*;この値はのようになります`C:\MySites\BookReviews`引用符で区切る必要があります。</span><span class="sxs-lookup"><span data-stu-id="13492-234">The above command launches the ASP.NET compiler tool (`aspnet_compiler.exe`) and, via the `-p` switch, instructs it to precompile the website rooted at *physical\_path\_to\_app*; this value will be something like `C:\MySites\BookReviews`, and should be delimited by quotation marks.</span></span>

<span data-ttu-id="13492-235">`-v`スイッチは、サイトの仮想ディレクトリを指定します。</span><span class="sxs-lookup"><span data-stu-id="13492-235">The `-v` switch specifies the virtual directory of the site.</span></span> <span data-ttu-id="13492-236">サイトが IIS メタベースに既定の web サイトとして登録されているかどうかは、省略することができます、`-p`切り替えるし、アプリケーションの仮想ディレクトリを指定するだけです。</span><span class="sxs-lookup"><span data-stu-id="13492-236">If your site is registered as the default website in the IIS metabase then you can omit the `-p` switch and just specify the virtual directory of the application.</span></span> <span data-ttu-id="13492-237">使用する場合、`-p`切り替えるには、値の処理を続行、`-v`スイッチは、web サイトのルートを示すし、アプリケーション ルートの参照を解決するために使用します。</span><span class="sxs-lookup"><span data-stu-id="13492-237">If you use the `-p` switch, the value proceeding the `-v` switch indicates the root of the website, and is used to resolve application-root references.</span></span> <span data-ttu-id="13492-238">インスタンスの値を指定する場合`-v /MySite`をアプリケーションでは、参照、`~/path/file`として解決されます`~/MySite/path/file`です。</span><span class="sxs-lookup"><span data-stu-id="13492-238">For instance, if you specify a value of `-v /MySite` then references in the application to `~/path/file` will be resolved as `~/MySite/path/file`.</span></span> <span data-ttu-id="13492-239">スイッチを使用すれば、書評サイトは web ポータルをホストに存在するルート ディレクトリにあるため`-v /`です。</span><span class="sxs-lookup"><span data-stu-id="13492-239">Because the Book Reviews site is located at the root directory at my web hosting company I have used the switch `-v /`.</span></span>

<span data-ttu-id="13492-240">`-f`スイッチ、存在する場合、指示を上書きするコンパイル ツール、*ターゲット\_場所\_フォルダー*ディレクトリが既に存在する場合。</span><span class="sxs-lookup"><span data-stu-id="13492-240">The `-f` switch, if present, instructs the compilation tool to overwrite the *target\_location\_folder* directory if it already exists.</span></span> <span data-ttu-id="13492-241">省略した場合、`-f`スイッチとターゲットの場所フォルダーが既に存在する、コンパイル ツールは、エラーで終了されます:"エラー ASPRUNTIME: ターゲット ディレクトリが空ではありません。</span><span class="sxs-lookup"><span data-stu-id="13492-241">If you omit the `-f` switch and the target location folder already exists, the compilation tool will quit with the error: "error ASPRUNTIME: The target directory is not empty.</span></span> <span data-ttu-id="13492-242">ください。 手動で削除または別のターゲットを選択します。"</span><span class="sxs-lookup"><span data-stu-id="13492-242">Please delete it manually or choose a different target."</span></span>

<span data-ttu-id="13492-243">`-u`スイッチ、存在する場合は更新可能なユーザー インターフェイスを作成するツールに通知します。</span><span class="sxs-lookup"><span data-stu-id="13492-243">The `-u` switch, if present, informs the tool to create an updatable user interface.</span></span> <span data-ttu-id="13492-244">非更新可能なユーザー インターフェイスを持つサイトをプリコンパイルするには、このスイッチを省略します。</span><span class="sxs-lookup"><span data-stu-id="13492-244">Omit this switch to precompile the site with a non-updatable user interface.</span></span>

<span data-ttu-id="13492-245">最後に、*ターゲット\_場所\_フォルダー*が物理ディレクトリへのパス、ターゲットの場所です。 この値はのようになります`C:\MySites\Output\BookReviews`、引用符で区切る必要があります。</span><span class="sxs-lookup"><span data-stu-id="13492-245">Lastly, the *target\_location\_folder* is the physical path to the target location directory; this value will be something like `C:\MySites\Output\BookReviews`, and should be delimited by quotation marks.</span></span>

## <a name="deploying-the-precompiled-website"></a><span data-ttu-id="13492-246">プリコンパイル済みの web サイトを展開します。</span><span class="sxs-lookup"><span data-stu-id="13492-246">Deploying the Precompiled Website</span></span>

<span data-ttu-id="13492-247">この時点で、ASP.NET コンパイル ツールを使用して、両方の更新と更新不可能なユーザー インターフェイス オプションを使用して web サイトをプリコンパイルする方法を説明しました。</span><span class="sxs-lookup"><span data-stu-id="13492-247">At this point we have seen how to use the ASP.NET compilation tool to precompile a website using both the updatable and non-updatable user interface options.</span></span> <span data-ttu-id="13492-248">ただし、この例これまでをプリコンパイルした web サイトをローカル フォルダー、および運用環境にないです。</span><span class="sxs-lookup"><span data-stu-id="13492-248">However, our examples thus far have precompiled the website to a local folder, and not to the production environment.</span></span> <span data-ttu-id="13492-249">良いニュースはプリコンパイル済みの web サイトの展開はとても簡単ですされ、または実行できます。 Visual Studio によってその他のファイル コピーのメカニズムによってなどをスタンドアロンの FTP クライアントからです。</span><span class="sxs-lookup"><span data-stu-id="13492-249">The good news is that deploying the precompiled website is a breeze and can be done through Visual Studio or through some other file copy mechanism, such as from a stand-alone FTP client.</span></span>

<span data-ttu-id="13492-250">Web サイトの発行 ダイアログ ボックス (で最初に表示される**図 1**) への web サイトのプリコンパイル済みファイルのコピー先を示すターゲットの場所のオプションがあります。</span><span class="sxs-lookup"><span data-stu-id="13492-250">The Publish Web Site dialog box (first shown in **Figure 1**) has a target location option, which indicates where the precompiled website files are copied to.</span></span> <span data-ttu-id="13492-251">この場所には、リモート web サーバーまたは FTP サーバーを指定できます。</span><span class="sxs-lookup"><span data-stu-id="13492-251">This location can be a remote web server or FTP server.</span></span> <span data-ttu-id="13492-252">このテキスト ボックスに、リモート サーバーを入力することをプリコンパイルし、1 つの手順で指定したサーバーに、web サイトを展開します。</span><span class="sxs-lookup"><span data-stu-id="13492-252">Entering a remote server into this textbox precompiles and deploys the website to the specified server in one step.</span></span> <span data-ttu-id="13492-253">また、ローカル フォルダーに、web サイトをプリコンパイルし、FTP またはその他のアプローチを使用して実稼働環境にそのフォルダーの内容を手動でコピーできます。</span><span class="sxs-lookup"><span data-stu-id="13492-253">Alternatively, you can precompile the website to a local folder and then manually copy the contents of that folder to the production environment via FTP or some other approach.</span></span>

<span data-ttu-id="13492-254">Visual Studio の Web サイトの発行 ダイアログ ボックスを使用して自動的に展開されている、プリコンパイル済みの web サイトのことをお勧め単純なサイトの構成、開発環境と運用環境の違いがないです。</span><span class="sxs-lookup"><span data-stu-id="13492-254">Having the precompiled website automatically deployed via Visual Studio's Publish Web Site dialog box is helpful for simple sites where there are no configuration differences between the development and production environments.</span></span> <span data-ttu-id="13492-255">ただしにあると、 [*一般的な構成の相違点の間で開発および運用*チュートリアル](common-configuration-differences-between-development-and-production-cs.md)はこのような違いが存在することは珍しくありません。</span><span class="sxs-lookup"><span data-stu-id="13492-255">However, as noted in the [*Common Configuration Differences Between Development and Production* tutorial](common-configuration-differences-between-development-and-production-cs.md) it is not uncommon for such differences to exist.</span></span> <span data-ttu-id="13492-256">たとえば、書評の web アプリケーションは、開発環境でよりも、実稼働環境で別のデータベースを使用します。</span><span class="sxs-lookup"><span data-stu-id="13492-256">For example, the Book Reviews web application uses a different database in the production environment than in the development environment.</span></span> <span data-ttu-id="13492-257">Visual Studio がリモート サーバーに、web サイトを発行すると無条件開発環境で構成ファイルの情報をコピーします。</span><span class="sxs-lookup"><span data-stu-id="13492-257">When Visual Studio publishes the website to a remote server it blindly copies up the configuration file information in the development environment.</span></span>

<span data-ttu-id="13492-258">サイト構成の違い、開発環境と運用環境で、ローカル ディレクトリにサイトをプリコンパイル、実稼働環境に固有の構成ファイルをコピーし、プリコンパイル済みの出力の内容をコピーすることをお場合があります。実稼働します。</span><span class="sxs-lookup"><span data-stu-id="13492-258">For sites with configuration differences between the development and production environments it may be best to precompile the site to a local directory, copy over the production-specific configuration files, and then copy the contents of the precompiled output to production.</span></span>

<span data-ttu-id="13492-259">開発環境から運用環境にファイルのコピーに関するリフレッシャーを参照してください、 [ *FTP クライアントを使用して、web サイトを展開する*](deploying-your-site-using-an-ftp-client-cs.md)と[ *Web サイトを使用して Visual Studio の配置*](determining-what-files-need-to-be-deployed-cs.md)チュートリアルです。</span><span class="sxs-lookup"><span data-stu-id="13492-259">For a refresher on copying files from the development environment to the production environment refer to the [*Deploying Your Website Using an FTP Client*](deploying-your-site-using-an-ftp-client-cs.md) and [*Deploying Your Website Using Visual Studio*](determining-what-files-need-to-be-deployed-cs.md) tutorials.</span></span>

## <a name="summary"></a><span data-ttu-id="13492-260">まとめ</span><span class="sxs-lookup"><span data-stu-id="13492-260">Summary</span></span>

<span data-ttu-id="13492-261">ASP.NET コンパイルの 2 つのモードをサポートしています: 自動と明示的なです。</span><span class="sxs-lookup"><span data-stu-id="13492-261">ASP.NET supports two modes of compilation: automatic and explicit.</span></span> <span data-ttu-id="13492-262">前のチュートリアルで既に説明したは Web サイト プロジェクト (WSPs) は、既定では、自動コンパイルを使用して Web アプリケーション プロジェクト (Wap) 明示的なコンパイルを使用します。</span><span class="sxs-lookup"><span data-stu-id="13492-262">As discussed in previous tutorials, Web Application Projects (WAPs) use explicit compilation whereas Web Site Projects (WSPs) use automatic compilation, by default.</span></span> <span data-ttu-id="13492-263">ただし、明示的に ASP.NET コンパイル ツールを使用して展開する前に、WSP をコンパイルすることができます。</span><span class="sxs-lookup"><span data-stu-id="13492-263">However, it is possible to explicitly compile a WSP prior to deployment by using the ASP.NET compilation tool.</span></span>

<span data-ttu-id="13492-264">このチュートリアルの展開のサポートについては、コンパイル ツールのプリコンパイルに重点を置きます。</span><span class="sxs-lookup"><span data-stu-id="13492-264">This tutorial focused on the compilation tool's Precompilation for Deployment support.</span></span> <span data-ttu-id="13492-265">コンパイル ツールにターゲットの場所にフォルダーを作成し、指定した web アプリケーションのソース コードをコンパイルし、これらをコピーの展開をプリコンパイルする場合、ターゲットの場所のフォルダーにアセンブリと、コンテンツ ファイルをコンパイルします。</span><span class="sxs-lookup"><span data-stu-id="13492-265">When precompiling for deployment, the compilation tool creates a target location folder, compiles the specified web application's source code, and copies these compiled assemblies and the content files into the target location folder.</span></span> <span data-ttu-id="13492-266">更新可能なまたは更新不可能なユーザー インターフェイスを作成するのには、コンパイル ツールを構成できます。</span><span class="sxs-lookup"><span data-stu-id="13492-266">The compilation tool can be configured to create an updatable or non-updatable user interface.</span></span> <span data-ttu-id="13492-267">プリコンパイル更新不可能なユーザー インターフェイス オプションを使用して、コンテンツ ファイル内の宣言型マークアップが削除されます。</span><span class="sxs-lookup"><span data-stu-id="13492-267">When precompiling with a non-updatable user interface option, the declarative markup in the content files is removed.</span></span> <span data-ttu-id="13492-268">簡単に言うと、プリコンパイルでは、必要な場合は、ソース コード ファイルを含めずに、削除されると、宣言型マークアップを使用して Web サイト プロジェクト ベースのアプリケーションを展開できます。</span><span class="sxs-lookup"><span data-stu-id="13492-268">In a nutshell, precompilation permits you to deploy your Web Site Project-based application without including any source code files and with the declarative markup removed, if desired.</span></span>

<span data-ttu-id="13492-269">満足プログラミング!</span><span class="sxs-lookup"><span data-stu-id="13492-269">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="13492-270">関連項目</span><span class="sxs-lookup"><span data-stu-id="13492-270">Further Reading</span></span>

<span data-ttu-id="13492-271">このチュートリアルで説明したトピックの詳細については、次の情報を参照してください。</span><span class="sxs-lookup"><span data-stu-id="13492-271">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="13492-272">ASP.NET Web サイトのプリコンパイル</span><span class="sxs-lookup"><span data-stu-id="13492-272">ASP.NET Web Site Precompilation</span></span>](https://msdn.microsoft.com/library/ms228015.aspx)
- [<span data-ttu-id="13492-273">分離コードと ASP.NET 2.0 でコンパイル</span><span class="sxs-lookup"><span data-stu-id="13492-273">Codebehind and Compilation in ASP.NET 2.0</span></span>](https://msdn.microsoft.com/magazine/cc163675.aspx)
- [<span data-ttu-id="13492-274">ASP.NET でのプリコンパイル</span><span class="sxs-lookup"><span data-stu-id="13492-274">Precompilation in ASP.NET</span></span>](http://www.odetocode.com/Articles/417.aspx)
- [<span data-ttu-id="13492-275">ASP.NET でのプリコンパイル済みサイト オプション</span><span class="sxs-lookup"><span data-stu-id="13492-275">Precompiled Site Options in ASP.NET</span></span>](http://www.dotnetperls.com/precompiled)

> [!div class="step-by-step"]
> <span data-ttu-id="13492-276">[前へ](logging-error-details-with-elmah-cs.md)
> [次へ](users-and-roles-on-the-production-website-cs.md)</span><span class="sxs-lookup"><span data-stu-id="13492-276">[Previous](logging-error-details-with-elmah-cs.md)
[Next](users-and-roles-on-the-production-website-cs.md)</span></span>
