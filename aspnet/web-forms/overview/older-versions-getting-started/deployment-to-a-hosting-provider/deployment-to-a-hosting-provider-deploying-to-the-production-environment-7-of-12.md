---
uid: web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12
title: "SQL Server compact の Visual Studio または Visual Web Developer を使用して ASP.NET Web アプリケーションの配置: 12 の 7 - 実稼働環境に展開する |Microsoft ドキュメント"
author: tdykstra
description: "この一連のチュートリアルは、展開する方法を示します (発行)、ASP.NET web アプリケーション プロジェクトを Visual Stu を使用して、SQL Server Compact データベースが含まれています."
ms.author: aspnetcontent
manager: wpickett
ms.date: 11/17/2011
ms.topic: article
ms.assetid: b83ab819-2b05-4776-b7b4-79ef78d457a5
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12
msc.type: authoredcontent
ms.openlocfilehash: ad44968975b7929f5b0f70334deabc7238797402
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/10/2017
---
<a name="deploying-an-aspnet-web-application-with-sql-server-compact-using-visual-studio-or-visual-web-developer-deploying-to-the-production-environment---7-of-12"></a><span data-ttu-id="b1ff6-103">SQL Server compact の Visual Studio または Visual Web Developer を使用して ASP.NET Web アプリケーションの配置: 12 の 7 - 実稼働環境に展開します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-103">Deploying an ASP.NET Web Application with SQL Server Compact using Visual Studio or Visual Web Developer: Deploying to the Production Environment - 7 of 12</span></span>
====================
<span data-ttu-id="b1ff6-104">によって[Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

[<span data-ttu-id="b1ff6-105">スタート プロジェクトをダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-105">Download Starter Project</span></span>](http://code.msdn.microsoft.com/Deploying-an-ASPNET-Web-4e31366b)

> <span data-ttu-id="b1ff6-106">この一連のチュートリアルは、展開する方法を示します (発行)、ASP.NET web アプリケーション プロジェクトを Visual Studio 2012 RC または Visual Studio Express 2012 RC for Web を使用して SQL Server Compact データベースが含まれます。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-106">This series of tutorials shows you how to deploy (publish) an ASP.NET web application project that includes a SQL Server Compact database by using Visual Studio 2012 RC or Visual Studio Express 2012 RC for Web.</span></span> <span data-ttu-id="b1ff6-107">Web 公開の更新プログラムをインストールする場合は、また Visual Studio 2010 を使用することができます。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-107">You can also use Visual Studio 2010 if you install the Web Publish Update.</span></span> <span data-ttu-id="b1ff6-108">系列の概要については、次を参照してください。[系列内の最初のチュートリアル](deployment-to-a-hosting-provider-introduction-1-of-12.md)です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-108">For an introduction to the series, see [the first tutorial in the series](deployment-to-a-hosting-provider-introduction-1-of-12.md).</span></span>
> 
> <span data-ttu-id="b1ff6-109">チュートリアルについては、RC のリリースの Visual Studio 2012 以降の展開機能を示しています、SQL Server Compact 以外の SQL Server のエディションを展開する方法を示していますし、Azure App Service Web アプリを展開する方法を示しています、次を参照してください[ASP.NET Web 配置。Visual Studio を使用して](../../deployment/visual-studio-web-deployment/introduction.md)です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-109">For a tutorial that shows deployment features introduced after the RC release of Visual Studio 2012, shows how to deploy SQL Server editions other than SQL Server Compact, and shows how to deploy to Azure App Service Web Apps, see [ASP.NET Web Deployment using Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md).</span></span>


## <a name="overview"></a><span data-ttu-id="b1ff6-110">概要</span><span class="sxs-lookup"><span data-stu-id="b1ff6-110">Overview</span></span>

<span data-ttu-id="b1ff6-111">このチュートリアルでは、ホスティング プロバイダーを持つアカウントを設定して配置、ASP.NET web アプリケーションを Visual Studio の 1 回のクリックを使用して実稼働環境には、機能を公開します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-111">In this tutorial, you set up an account with a hosting provider and deploy your ASP.NET web application to the production environment by using the Visual Studio one-click publish feature.</span></span>

<span data-ttu-id="b1ff6-112">アラーム: エラー メッセージを取得する、または、チュートリアルを通過するとおりに機能しない、確認して、[トラブルシューティングのページ](deployment-to-a-hosting-provider-creating-and-installing-deployment-packages-12-of-12.md)です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-112">Reminder: If you get an error message or something doesn't work as you go through the tutorial, be sure to check the [troubleshooting page](deployment-to-a-hosting-provider-creating-and-installing-deployment-packages-12-of-12.md).</span></span>

## <a name="selecting-a-hosting-provider"></a><span data-ttu-id="b1ff6-113">ホスティング プロバイダーの選択</span><span class="sxs-lookup"><span data-stu-id="b1ff6-113">Selecting a Hosting Provider</span></span>

<span data-ttu-id="b1ff6-114">Contoso 大学アプリケーションとこのチュートリアルの系列では、ASP.NET 4 および Web Deploy をサポートするプロバイダーが必要です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-114">For the Contoso University application and this tutorial series, you need a provider that supports ASP.NET 4 and Web Deploy.</span></span> <span data-ttu-id="b1ff6-115">チュートリアルでは、でしたライブ web サイトを展開する完全なエクスペリエンスを示すように、特定のホスティング企業が選択されました。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-115">A specific hosting company was chosen so that the tutorials could illustrate the complete experience of deploying to a live website.</span></span> <span data-ttu-id="b1ff6-116">各ホスティング企業が、さまざまな機能を提供し、ある程度のサーバーに展開する場合の動作が異なります。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-116">Each hosting company provides different features, and the experience of deploying to their servers varies somewhat.</span></span> <span data-ttu-id="b1ff6-117">ただし、このチュートリアルで説明するプロセスは通常、全体的なプロセスです。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-117">However, the process described in this tutorial is typical for the overall process.</span></span> <span data-ttu-id="b1ff6-118">Cytanium.com、このチュートリアルに使用されるホスティング プロバイダーは、使用可能な次のいずれかと、このチュートリアルで使用するにはなりません承認または推奨します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-118">The hosting provider used for this tutorial, Cytanium.com, is one of many that are available, and its use in this tutorial does not constitute an endorsement or recommendation.</span></span>

<span data-ttu-id="b1ff6-119">ホスティング プロバイダーを選択する準備ができたら、機能との価格を比較することができます、[プロバイダーのギャラリー](https://www.microsoft.com/web/hosting) Microsoft.com/web サイト上。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-119">When you are ready to select your own hosting provider, you can compare features and prices in the [gallery of providers](https://www.microsoft.com/web/hosting) on the Microsoft.com/web site.</span></span>

## <a name="creating-an-account"></a><span data-ttu-id="b1ff6-120">アカウントを作成します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-120">Creating an Account</span></span>

<span data-ttu-id="b1ff6-121">選択したプロバイダーのアカウントを作成します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-121">Create an account at your selected provider.</span></span> <span data-ttu-id="b1ff6-122">場合のサポート、完全な SQL Server データベースは、追加された余分なこのチュートリアルを選択する必要はありませんの必要になります、 [SQL Server への移行](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12.md)このシリーズの後でチュートリアルです。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-122">If support for a full SQL Server database is an added extra, you do not need to select it for this tutorial, but you'll need it for the [Migrating to SQL Server](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12.md) tutorial later in this series.</span></span>

<span data-ttu-id="b1ff6-123">これらのチュートリアルについては、新しいドメイン名を登録する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-123">For these tutorials, you don't have to register a new domain name.</span></span> <span data-ttu-id="b1ff6-124">プロバイダーによって、サイトに割り当てられている一時的な URL を使用して展開の成功を確認するテストすることができます。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-124">You can test to verify successful deployment by using the temporary URL assigned to the site by the provider.</span></span>

<span data-ttu-id="b1ff6-125">アカウントが作成されたら、通常を展開し、サイトを管理するために必要なすべての情報を含む「ようこそ」電子メールを受信します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-125">After the account has been created, you typically receive a welcome email that contains all the information you need in order to deploy and manage your site.</span></span> <span data-ttu-id="b1ff6-126">ホスティング プロバイダーに送信する情報はここに表示される内容のようになります。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-126">The information that your hosting provider sends you will be similar to what is shown here.</span></span> <span data-ttu-id="b1ff6-127">新しいアカウント所有者に送信される Cytanium ようこそ電子メールには、次の情報が含まれています。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-127">The Cytanium welcome email that's sent to new account owners includes the following information:</span></span>

- <span data-ttu-id="b1ff6-128">サイトの URL をプロバイダーのコントロール パネル、サイトの設定を管理できます。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-128">The URL to the provider's control panel site, where you can manage settings for your site.</span></span> <span data-ttu-id="b1ff6-129">ようこそ電子メールを簡単に参照のこの部分では、ID と指定したパスワードが含まれています。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-129">The ID and password you specified are included in this part of the welcome email for easy reference.</span></span> <span data-ttu-id="b1ff6-130">(両方が変更されて次の図のデモ値にします。)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-130">(Both have been changed to a demo value for this illustration.)</span></span>

    <span data-ttu-id="b1ff6-131">[![Welcome_Email_Control_Panel_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image2.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-131">[![Welcome_Email_Control_Panel_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image2.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image1.png)</span></span>
- <span data-ttu-id="b1ff6-132">既定の .NET Framework のバージョンとそれを変更する方法についてはします。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-132">The default .NET Framework version and information about how to change it.</span></span> <span data-ttu-id="b1ff6-133">多くホスティング サイト既定 2.0、2.0、3.0、または 3.5、.NET Framework を対象とする ASP.NET アプリケーションで動作します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-133">Many hosting sites default to 2.0, which works with ASP.NET applications that target the .NET Framework 2.0, 3.0, or 3.5.</span></span> <span data-ttu-id="b1ff6-134">Contoso 大学が .NET Framework 4 アプリケーションでは、この設定を変更する必要があるためです。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-134">However Contoso University is a .NET Framework 4 application, so you have to change this setting.</span></span> <span data-ttu-id="b1ff6-135">(ASP.NET 4.5 アプリケーションの .NET 4.0 の設定を使用します)。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-135">(For an ASP.NET 4.5 application you would use the .NET 4.0 setting.)</span></span>

    <span data-ttu-id="b1ff6-136">[![Welcome_Email_Framework_Version](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image4.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-136">[![Welcome_Email_Framework_Version](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image4.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image3.png)</span></span>
- <span data-ttu-id="b1ff6-137">Web サイトにアクセスに使用できる一時的な URL です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-137">The temporary URL that you can use to access your web site.</span></span> <span data-ttu-id="b1ff6-138">このアカウントが作成されたときに、"contosouniversity.com"は、既存のドメイン名として入力されました。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-138">When this account was created, "contosouniversity.com" was entered as the existing domain name.</span></span> <span data-ttu-id="b1ff6-139">そのため、一時的な URL は`http://contosouniversity.com.vserver01.cytanium.com`します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-139">Therefore the temporary URL is `http://contosouniversity.com.vserver01.cytanium.com`.</span></span>

    <span data-ttu-id="b1ff6-140">[![Welcome_Email_Temporary_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image6.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-140">[![Welcome_Email_Temporary_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image6.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image5.png)</span></span>
- <span data-ttu-id="b1ff6-141">詳細については、データベースとそれらにアクセスするために必要な接続文字列を設定する方法。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-141">Information about how to set up databases, and the connection strings that you need in order to access them:</span></span>

    <span data-ttu-id="b1ff6-142">[![Welcome_Email_Database_Info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image8.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-142">[![Welcome_Email_Database_Info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image8.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image7.png)</span></span>
- <span data-ttu-id="b1ff6-143">ツールと設定については、サイトを展開するためです。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-143">Information about tools and settings for deploying your site.</span></span> <span data-ttu-id="b1ff6-144">(Cytanium から受信した電子メールについても触れます WebMatrix で、ここでは省略します。)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-144">(The email from Cytanium also mentions WebMatrix, which is omitted here.)</span></span>

    <span data-ttu-id="b1ff6-145">[![Welcome_Email_Deploy_info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image10.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-145">[![Welcome_Email_Deploy_info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image10.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image9.png)</span></span>

## <a name="setting-the-net-framework-version"></a><span data-ttu-id="b1ff6-146">.NET Framework のバージョンを設定</span><span class="sxs-lookup"><span data-stu-id="b1ff6-146">Setting the .NET Framework Version</span></span>

<span data-ttu-id="b1ff6-147">Cytanium ようこそ電子メールには、.NET Framework のバージョンを変更する方法の手順へのリンクが含まれています。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-147">The Cytanium welcome email includes a link to instructions on how to change the version of the .NET Framework.</span></span> <span data-ttu-id="b1ff6-148">これらの手順では、Cytanium コントロール パネルから行うことこれを説明します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-148">These instructions explain that this can be done through the Cytanium control panel.</span></span> <span data-ttu-id="b1ff6-149">その他のプロバイダーが異なって表示される、コントロール パネルのサイトともこれを行うには異なる方法で指示することがあります。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-149">Other providers have control panel sites that look different, or they may instruct you to do this in a different way.</span></span>

<span data-ttu-id="b1ff6-150">コントロール パネルの URL に移動します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-150">Go to the control panel URL.</span></span> <span data-ttu-id="b1ff6-151">ユーザー名とパスワードを使用してログインには、コントロール パネルでを参照してください。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-151">After logging in with your user name and password, you see the control panel.</span></span>

<span data-ttu-id="b1ff6-152">[![Cytanium_Control_Panel](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image12.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-152">[![Cytanium_Control_Panel](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image12.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image11.png)</span></span>

<span data-ttu-id="b1ff6-153">**をホストしているスペース**ボックス Web アイコンの上にポインターを保持し、 **Websites**  メニューからです。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-153">In the **Hosting Spaces** box, hold the pointer over the Web icon and select **Web Sites** from the menu.</span></span>

<span data-ttu-id="b1ff6-154">[![Cytanium_Control_Panel_selecting_Web_Sites](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image14.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-154">[![Cytanium_Control_Panel_selecting_Web_Sites](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image14.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image13.png)</span></span>

<span data-ttu-id="b1ff6-155">**Websites**ボックスで、クリックして**contosouniversity.com** (アカウントを作成したときに使用したサイトの名前)。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-155">In the **Web Sites** box, click **contosouniversity.com** (the name of the site that you used when you created the account).</span></span>

<span data-ttu-id="b1ff6-156">[![Cytanium_Control_Panel_selecting_contosouniversity](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image16.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-156">[![Cytanium_Control_Panel_selecting_contosouniversity](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image16.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image15.png)</span></span>

<span data-ttu-id="b1ff6-157">**Web サイトのプロパティ**ボックスで、選択、**拡張**タブです。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-157">In the **Web Site Properties** box, select the **Extensions** tab.</span></span>

<span data-ttu-id="b1ff6-158">[![Cytanium_Control_Panel_Extensions_tab](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image18.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-158">[![Cytanium_Control_Panel_Extensions_tab](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image18.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image17.png)</span></span>

<span data-ttu-id="b1ff6-159">ASP.NET からの変更**2.0 の統合パイプライン**に**4.0 (統合パイプライン)**、順にクリック**更新**です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-159">Change ASP.NET from **2.0 Integrated Pipeline** to **4.0 (Integrated Pipeline)**, and then click **Update**.</span></span>

## <a name="publishing-to-the-hosting-provider"></a><span data-ttu-id="b1ff6-160">ホスティング プロバイダーへの発行</span><span class="sxs-lookup"><span data-stu-id="b1ff6-160">Publishing to the Hosting Provider</span></span>

<span data-ttu-id="b1ff6-161">ホスティング プロバイダーからのようこそ電子メールには、すべてのプロジェクトを発行するために必要な設定が含まれていて、発行プロファイルにその情報を手動で入力することができます。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-161">The welcome email from the hosting provider includes all of the settings you need in order to publish the project, and you can enter that information manually into a publish profile.</span></span> <span data-ttu-id="b1ff6-162">プロバイダーへの展開を構成する、簡単かつ以下のエラーが発生しやすいメソッドを使用します: ダウンロード、 *.publishsettings*ファイルし、発行プロファイルにインポートします。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-162">But you'll use an easier and less error-prone method to configure deployment to the provider: you'll download a *.publishsettings* file and import it into a publish profile.</span></span>

<span data-ttu-id="b1ff6-163">ブラウザーで Cytanium コントロール パネルに移動し、選択**Web**し、 **Web サイトです。**</span><span class="sxs-lookup"><span data-stu-id="b1ff6-163">In your browser, go to the Cytanium control panel and select **Web** and then select **Web Sites.**</span></span>

![コントロール パネルの Web サイトを選択します。](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image19.png)

<span data-ttu-id="b1ff6-165">選択、 **contosouniversity.com** web サイトです。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-165">Select the **contosouniversity.com** web site.</span></span>

![Contosouniversity.com を選択すると、コントロール パネル](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image20.png)

<span data-ttu-id="b1ff6-167">選択、 **Web 公開**タブです。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-167">Select the **Web Publishing** tab.</span></span>

![コントロール パネル Web の発行 タブ](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image21.png)

<span data-ttu-id="b1ff6-169">Web ユーザー名とパスワードを入力して発行に使用する資格情報を作成します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-169">Create credentials to use for web publishing by entering a user name and password.</span></span> <span data-ttu-id="b1ff6-170">コントロール パネルへのログオンに使用する同じ資格情報を入力することができます。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-170">You can enter the same credentials that you use to log on to the control panel.</span></span> <span data-ttu-id="b1ff6-171">をクリックして**を有効にする**です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-171">Then click **Enable**.</span></span>

![コントロール パネルの 発行の資格情報を作成します。](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image22.png)

<span data-ttu-id="b1ff6-173">をクリックして**この web サイトの発行プロファイルのダウンロード**です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-173">Click **Download Publishing Profile for this web site**.</span></span>

![発行プロファイルのコントロール パネルのダウンロード](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image23.png)

<span data-ttu-id="b1ff6-175">開くか、ファイルを保存するメッセージが表示されたら、それを保存します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-175">When you are prompted to open or save the file, save it.</span></span>

![発行プロファイル ファイルを保存します。](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image24.png)

<span data-ttu-id="b1ff6-177">**ソリューション エクスプ ローラー** Visual Studio で、ContosoUniversity プロジェクトを右クリックし、選択**発行**です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-177">In **Solution Explorer** in Visual Studio, right-click the ContosoUniversity project and select **Publish**.</span></span> <span data-ttu-id="b1ff6-178">**Web の発行**上 ダイアログ ボックスを開きます、**プレビュー**タブで、**テスト**プロファイルを選択するために使用する最後のプロファイルであるためです。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-178">The **Publish Web** dialog box opens on the **Preview** tab with the **Test** profile selected because that is the last profile you used.</span></span>

<span data-ttu-id="b1ff6-179">選択、**プロファイル** タブをクリックして**インポート**です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-179">Select the **Profile** tab and then Click **Import**.</span></span>

![公開 Web ウィザードのインポート ボタン](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image25.png)

<span data-ttu-id="b1ff6-181">**発行設定のインポート**ダイアログ ボックスで、 *.publishsettings*ファイルをダウンロードして、をクリックして**開く**です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-181">In the **Import Publish Settings** dialog box, select the *.publishsettings* file that you downloaded, and click **Open**.</span></span> <span data-ttu-id="b1ff6-182">ウィザードは、すべての入力フィールドで、[接続] タブに進みます。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-182">The wizard advances to the Connection tab with all of the fields filled in.</span></span>

![公開 Web ウィザードの [接続] タブ](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image26.png)

<span data-ttu-id="b1ff6-184">.Publishsettings ファイルは、送信先 URL ボックスに、サイトの計画的な永続的な URL をなりますが、そのドメインをまだ購入していない場合は場合、は、一時的な URL を使用して値を置き換えます。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-184">The .publishsettings file puts the planned permanent URL for the site in the Destination URL box, but if you haven't purchased that domain yet, replace the value with the temporary URL.</span></span> <span data-ttu-id="b1ff6-185">この例では、URL は *[http://contosouniversity.com.vserver01.cytanium.com](http://contosouniversity.com.vserver01.cytanium.com)です。*このボックスの唯一の目的では、ブラウザーに自動的に開きます後に正常に展開後にどのような URL を指定します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-185">For this example, the URL is *[http://contosouniversity.com.vserver01.cytanium.com](http://contosouniversity.com.vserver01.cytanium.com).* The only purpose of this box is to specify what URL the browser will open to automatically after successfully after deployment.</span></span> <span data-ttu-id="b1ff6-186">空のまま、のみの結果がブラウザーを展開後に自動的に起動しません。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-186">If you leave it blank, the only consequence is that the browser won't start automatically after deployment.</span></span>

<span data-ttu-id="b1ff6-187">をクリックして**接続の検証**設定が正しいことと、サーバーに接続できることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-187">Click **Validate Connection** to verify that the settings are correct and you can connect to the server.</span></span> <span data-ttu-id="b1ff6-188">前述の緑のチェック マークは、接続が成功したことを確認します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-188">As you saw earlier, a green check mark verifies that the connection is successful.</span></span>

<span data-ttu-id="b1ff6-189">接続の検証 をクリックするときに表示される、**証明書エラー**  ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-189">When you click Validate Connection, you might see a **Certificate Error** dialog box.</span></span> <span data-ttu-id="b1ff6-190">を行う場合は、サーバー名が予期したとおりであることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-190">If you do, verify that the server name is what you expect.</span></span> <span data-ttu-id="b1ff6-191">場合は、選択**Visual Studio の今後のセッションにこの証明書を保存** をクリック**Accept**です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-191">If it is, select **Save this certificate for future sessions of Visual Studio** and click **Accept**.</span></span> <span data-ttu-id="b1ff6-192">(このエラーを展開している URL の SSL 証明書を購入する必要を避けるために、ホスティング プロバイダーが選択されていることを意味します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-192">(This error means that the hosting provider has chosen to avoid the expense of purchasing an SSL certificate for the URL that you are deploying to.</span></span> <span data-ttu-id="b1ff6-193">有効な証明書を使用してセキュリティで保護された接続を確立する場合は、連絡、ホスティング プロバイダーです。)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-193">If you prefer to establish a secure connection by using a valid certificate, contact your hosting provider.)</span></span>

![証明書のエラー](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image27.png)

<span data-ttu-id="b1ff6-195">**[次へ]**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-195">Click **Next**.</span></span>

<span data-ttu-id="b1ff6-196">**データベース**のセクションで、**設定** タブで、同じ入力発行プロファイルのテスト用に入力した値です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-196">In the **Databases** section of the **Settings** tab, enter the same values that you entered for the Test publish profile.</span></span> <span data-ttu-id="b1ff6-197">ドロップダウン リストに必要な接続文字列があります。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-197">You'll find the connection strings you need in the drop-down lists.</span></span>

- <span data-ttu-id="b1ff6-198">接続文字列 ボックスで**SchoolContext、**選択`Data Source=|DataDirectory|School-Prod.sdf`</span><span class="sxs-lookup"><span data-stu-id="b1ff6-198">In the connection string box for **SchoolContext,** select `Data Source=|DataDirectory|School-Prod.sdf`</span></span>
- <span data-ttu-id="b1ff6-199">**SchoolContext****適用の Code First Migrations**です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-199">Under **SchoolContext**, select **Apply Code First Migrations**.</span></span>
- <span data-ttu-id="b1ff6-200">接続文字列 ボックスで**DefaultConnection**を選択`Data Source=|DataDirectory|aspnet-Prod.sdf`</span><span class="sxs-lookup"><span data-stu-id="b1ff6-200">In the connection string box for **DefaultConnection**, select `Data Source=|DataDirectory|aspnet-Prod.sdf`</span></span>
- <span data-ttu-id="b1ff6-201">**DefaultConnection**のままにして**データベースの更新**オフにします。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-201">Under **DefaultConnection**, leave **Update database** cleared.</span></span>

![公開 Web ウィザードの設定 タブ](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image28.png)

<span data-ttu-id="b1ff6-203">**[次へ]**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-203">Click **Next**.</span></span>

<span data-ttu-id="b1ff6-204">**プレビュー**  タブで、をクリックして**開始プレビュー**コピーされるファイルの一覧を表示します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-204">In the **Preview** tab, click **Start Preview** to see a list of the files that will be copied.</span></span> <span data-ttu-id="b1ff6-205">先ほど見たとき、ローカル コンピューター上の IIS に配置されたものと同じ一覧が参照してください。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-205">You see the same list that you saw earlier when you deployed to IIS on the local computer.</span></span>

<span data-ttu-id="b1ff6-206">発行する前に、Web.Production.config 変換ファイルが適用できるようにプロファイルの名前を変更します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-206">Before you publish, change the name of the profile so that your Web.Production.config transformation file will be applied.</span></span> <span data-ttu-id="b1ff6-207">選択、**プロファイル** タブでをクリックし、**プロファイルの管理**です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-207">Select the **Profile** tab and click **Manage Profiles**.</span></span>

![公開 Web ウィザードの プロファイルの管理](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image29.png)

<span data-ttu-id="b1ff6-209">**Web の発行プロファイルの編集** ダイアログ ボックス、実稼働のプロファイルを選択し、をクリックして**の名前を変更**、実稼働環境に、プロファイルの名前を変更します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-209">In the **Edit Web Publish Profiles** dialog box, select the production profile, click **Rename**, and change the profile name to Production.</span></span> <span data-ttu-id="b1ff6-210">をクリックして**閉じる**です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-210">Then click **Close**.</span></span>

![Web 発行プロファイル ダイアログ ボックスを編集します。](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image30.png)

<span data-ttu-id="b1ff6-212">**[発行]**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-212">Click **Publish**.</span></span>

<span data-ttu-id="b1ff6-213">アプリケーションは、ホスティング プロバイダーに発行されます。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-213">The application is published to the hosting provider.</span></span> <span data-ttu-id="b1ff6-214">結果を示しています、**出力**ウィンドウです。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-214">The result shows in the **Output** window.</span></span>

![配置後の出力 ウィンドウ](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image31.png)

<span data-ttu-id="b1ff6-216">入力した URL をブラウザーが自動的に開く**送信先 URL**ボックスに、**接続**のタブ、 **Web の発行**ウィザード。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-216">The browser automatically opens to the URL that you entered in **Destination URL** box on the **Connection** tab of the **Publish Web** wizard.</span></span> <span data-ttu-id="b1ff6-217">Visual Studio で、サイトを実行すると、ここではない「(テスト)」として同じのホーム ページを表示またはタイトル バーに「(開発)」環境インジケーター。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-217">You see the same home page as when you run the site in Visual Studio, except now there is no "(Test)" or "(Dev)" environment indicator in the title bar.</span></span> <span data-ttu-id="b1ff6-218">これが示す環境インジケーター *Web.config*変換が正常に動作します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-218">This indicates that the environment indicator *Web.config* transformation worked correctly.</span></span>

> [!NOTE]
> <span data-ttu-id="b1ff6-219">まだ見出しに"(Test)"を表示、削除、 *obj*フォルダーから ContosoUniversity プロジェクトと再展開します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-219">If you still see "(Test)" in the heading, delete the *obj* folder from the ContosoUniversity project and redeploy.</span></span> <span data-ttu-id="b1ff6-220">ソフトウェアのプレリリース バージョンは、以前に適用された変換ファイル (Web.Test.config) 適用可能性があります取得もう一度が、実稼働のプロファイルを使用しています。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-220">In pre-release versions of the software, the previously applied transformation file (Web.Test.config) might get applied again although you are using the Production profile.</span></span>


<span data-ttu-id="b1ff6-221">[![Home_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image33.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-221">[![Home_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image33.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image32.png)</span></span>

<span data-ttu-id="b1ff6-222">データベースへのアクセスを原因となるページを実行する前に、Elmah が発生したエラーをログに記録できることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-222">Before you run a page that causes database access, make sure that Elmah will be able to log any errors that occur.</span></span>

## <a name="setting-folder-permissions-for-elmah"></a><span data-ttu-id="b1ff6-223">Elmah のフォルダーのアクセス許可の設定</span><span class="sxs-lookup"><span data-stu-id="b1ff6-223">Setting Folder Permissions for Elmah</span></span>

<span data-ttu-id="b1ff6-224">前のチュートリアルの次の系列に留意するようアプリケーションが Elmah がエラー ログ ファイルを格納する場所、アプリケーションで、フォルダーに対する書き込みアクセス許可を持つことを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-224">As you remember from the previous tutorial in this series, you must make sure that the application has Write permissions for the folder in your application where Elmah stores error log files.</span></span> <span data-ttu-id="b1ff6-225">展開したときに IIS をローカル コンピューターに、これらのアクセス許可が手動で設定します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-225">When you deployed to IIS locally on your computer, you set those permissions manually.</span></span> <span data-ttu-id="b1ff6-226">このセクションでは、Cytanium にアクセス許可を設定する方法が表示されます。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-226">In this section, you'll see how to set permissions at Cytanium.</span></span> <span data-ttu-id="b1ff6-227">(一部のホスティング プロバイダーを有効にできません。 書き込みアクセス許可を持つ 1 つまたは複数の事前定義されたフォルダーを提供している可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-227">(Some hosting providers may not enable you to do this; they may offer one or more predefined folders with Write permissions.</span></span> <span data-ttu-id="b1ff6-228">そのケースで必要がありますを指定したフォルダーを使用して、アプリケーションを変更します。)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-228">In that case you would have to modify your application to use the specified folders.)</span></span>

<span data-ttu-id="b1ff6-229">Cytanium コントロール パネルの フォルダーのアクセス許可を設定することができます。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-229">You can set folder permissions in the Cytanium control panel.</span></span> <span data-ttu-id="b1ff6-230">コントロールへの URL を選択して移動**ファイル マネージャー**です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-230">Go to the control panel URL and select **File Manager**.</span></span>

<span data-ttu-id="b1ff6-231">[![Cytanium_Control_Panel_with_File_Manager_selected](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image35.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-231">[![Cytanium_Control_Panel_with_File_Manager_selected](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image35.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image34.png)</span></span>

<span data-ttu-id="b1ff6-232">**ファイル マネージャー**ボックスで、 **contosouniversity.com**し**wwwrooot**にアプリケーションのルート フォルダーを参照してください。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-232">In the **File Manager** box, select **contosouniversity.com** and then **wwwrooot** to see the application's root folder.</span></span> <span data-ttu-id="b1ff6-233">南京錠のアイコンをクリックして横に**Elmah**です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-233">Click the padlock icon next to **Elmah**.</span></span>

<span data-ttu-id="b1ff6-234">[![Cytanium_Control_Panel_File_Manager_at_root_folder](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image37.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image36.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-234">[![Cytanium_Control_Panel_File_Manager_at_root_folder](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image37.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image36.png)</span></span>

<span data-ttu-id="b1ff6-235">**ファイル**/**フォルダーのアクセス許可**ウィンドウで、**読み取り**と**書き込み**のチェック ボックスを**contosouniversity.com**  をクリック**アクセス許可の設定**です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-235">In the **File**/**Folder Permissions** window, select the **Read** and **Write** checkboxes for **contosouniversity.com** and click **Set Permissions**.</span></span>

<span data-ttu-id="b1ff6-236">[![Cytanium_Control_Panel_File_Folder_Permissions_Elmah](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image39.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-236">[![Cytanium_Control_Panel_File_Folder_Permissions_Elmah](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image39.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image38.png)</span></span>

<span data-ttu-id="b1ff6-237">Elmah への書き込みアクセスがあることを確認、 *Elmah*フォルダーで、エラーの原因と Elmah エラー レポートを表示します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-237">Make sure that Elmah has write access to the *Elmah* folder by causing an error and then displaying the Elmah error report.</span></span> <span data-ttu-id="b1ff6-238">要求するように無効な URL *Studentsxxx.aspx*です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-238">Request an invalid URL like *Studentsxxx.aspx*.</span></span> <span data-ttu-id="b1ff6-239">前に、表示される、 *GenericErrorPage.aspx*ページ。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-239">As before, you see the *GenericErrorPage.aspx* page.</span></span> <span data-ttu-id="b1ff6-240">クリックして、 **Log Out**リンク、および実行し、 *Elmah.axd*です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-240">Click the **Log Out** link, and then run *Elmah.axd*.</span></span> <span data-ttu-id="b1ff6-241">取得する、**ログで**を検証するかを最初に、ページ、 *Web.config*変換が正常に Elmah 承認を追加します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-241">You get the **Log In** page first, which validates that the *Web.config* transform successfully added Elmah authorization.</span></span> <span data-ttu-id="b1ff6-242">ログインした後に発生するエラーを表示するレポートを参照してください。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-242">After you log in, you see the report that shows the error you just caused.</span></span>

<span data-ttu-id="b1ff6-243">[![Elmah.axd_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image41.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-243">[![Elmah.axd_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image41.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image40.png)</span></span>

## <a name="testing-in-the-production-environment"></a><span data-ttu-id="b1ff6-244">実稼働環境でのテスト</span><span class="sxs-lookup"><span data-stu-id="b1ff6-244">Testing in the Production Environment</span></span>

<span data-ttu-id="b1ff6-245">実行、**受講者**ページ。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-245">Run the **Students** page.</span></span> <span data-ttu-id="b1ff6-246">アプリケーションでは、最初に、データベースを作成する Code First Migrations をトリガーする School データベースにアクセスしようとしています。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-246">The application tries to access the School database for the first time, which triggers Code First Migrations to create the database.</span></span> <span data-ttu-id="b1ff6-247">現在の遅延後に、ページが表示されたら、受講者がないことを示します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-247">When the page displays after a moment's delay, it shows that there are no students.</span></span>

<span data-ttu-id="b1ff6-248">[![Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image43.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image42.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-248">[![Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image43.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image42.png)</span></span>

<span data-ttu-id="b1ff6-249">実行、**講習においてインストラクター**シード データが、データベースのインストラクター データを正常に挿入することを確認します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-249">Run the **Instructors** page to verify that the Seed data successfully inserted instructor data in the database.</span></span>

<span data-ttu-id="b1ff6-250">[![Instructors_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image45.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image44.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-250">[![Instructors_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image45.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image44.png)</span></span>

<span data-ttu-id="b1ff6-251">テスト環境で行ったようを実稼働環境で作業するデータベースの更新が通常たくないテスト データ、実稼働データベースを入力することを確認します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-251">As you did in the test environment, you want to verify that database updates work in the production environment, but you typically do not want to enter test data into your production database.</span></span> <span data-ttu-id="b1ff6-252">このチュートリアルでは、テストで行ったのと同じメソッドを使用します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-252">For this tutorial, you'll use the same method you did in test.</span></span> <span data-ttu-id="b1ff6-253">そのデータベースを検証するメソッドを検出することができます、実際のアプリケーションの更新が成功した、実稼働データベースにテスト データを伴います。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-253">But in a real application you might want to find a method that validates that database updates are successful without introducing test data into the production database.</span></span> <span data-ttu-id="b1ff6-254">一部のアプリケーションでは、何かを追加し、それを削除することは実用的場合があります。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-254">In some applications, it might be practical to add something and then delete it.</span></span>

<span data-ttu-id="b1ff6-255">受講者を追加し、入力したデータを表示、**受講者**ページをデータベース内のデータを更新することを確認します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-255">Add a student and then view the data you entered in the **Students** page to verify that you can update data in the database.</span></span>

<span data-ttu-id="b1ff6-256">[![Add_Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image47.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-256">[![Add_Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image47.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image46.png)</span></span>

<span data-ttu-id="b1ff6-257">[![Students_page_with_new_student_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image49.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-257">[![Students_page_with_new_student_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image49.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image48.png)</span></span>

<span data-ttu-id="b1ff6-258">検証を選択して承認規則が正しく動作している**更新クレジット**から、**コース**メニュー。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-258">Validate that authorization rules are working correctly by selecting **Update Credits** from the **Courses** menu.</span></span> <span data-ttu-id="b1ff6-259">**ログで**ページが表示されます。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-259">The **Log In** page is displayed.</span></span> <span data-ttu-id="b1ff6-260">管理者アカウントの資格情報を入力し、をクリックして**ログで**、および**更新クレジット**ページが表示されます。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-260">Enter your administrator account credentials, click **Log In**, and the **Update Credits** page is displayed.</span></span>

<span data-ttu-id="b1ff6-261">[![Log_In_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image51.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-261">[![Log_In_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image51.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image50.png)</span></span>

<span data-ttu-id="b1ff6-262">ログインが成功した場合、**更新クレジット**ページが表示されます。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-262">If login is successful, the **Update Credits** page is displayed.</span></span> <span data-ttu-id="b1ff6-263">これは、(1 人の管理者アカウント) の ASP.NET メンバーシップ データベースが正常に展開されたことを示します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-263">This indicates that the ASP.NET membership database (with the single administrator account) was successfully deployed.</span></span>

<span data-ttu-id="b1ff6-264">[![Update_Credits_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image53.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-264">[![Update_Credits_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image53.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image52.png)</span></span>

<span data-ttu-id="b1ff6-265">これで正常に展開およびテストが、サイトとは使用可能なパブリック インターネット経由でします。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-265">You have now successfully deployed and tested your site and it is available publicly over the Internet.</span></span>

## <a name="creating-a-more-reliable-test-environment"></a><span data-ttu-id="b1ff6-266">信頼性の高いテスト環境を作成します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-266">Creating a More Reliable Test Environment</span></span>

<span data-ttu-id="b1ff6-267">説明に従って、[テスト環境に展開する](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12.md)チュートリアルでは、最も信頼性の高いテスト環境には、運用アカウントと同じようには、ホスティング プロバイダーに 2 番目のアカウントがあるとします。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-267">As explained in the [Deploying to the Test Environment](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12.md) tutorial, the most reliable test environment would be a second account at the hosting provider that's just like the production account.</span></span> <span data-ttu-id="b1ff6-268">2 つ目のホスト アカウントにサインアップする必要がありますので、テスト環境としてローカルの IIS を使用するよりも高価になります。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-268">This would be more expensive than using local IIS as your test environment, since you would have to sign up for a second hosting account.</span></span> <span data-ttu-id="b1ff6-269">実稼働サイト エラー、または故障が防止されますが場合、は、価値のコストであることを決定する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-269">But if it prevents production site errors or outages, you might decide that it's worth the cost.</span></span>

<span data-ttu-id="b1ff6-270">作成して、テスト アカウントへの展開のプロセスのほとんどは、新機能を既にインストールしている実稼働環境に展開すると同様です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-270">Most of the process for creating and deploying to a test account is similar to what you've already done to deploy to production:</span></span>

- <span data-ttu-id="b1ff6-271">作成、 *Web.config*変換ファイル。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-271">Create a *Web.config* transformation file.</span></span>
- <span data-ttu-id="b1ff6-272">ホスティング プロバイダーには、アカウントを作成します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-272">Create an account at the hosting provider.</span></span>
- <span data-ttu-id="b1ff6-273">新しい発行プロファイルを作成し、テスト アカウントに展開します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-273">Create a new publish profile and deploy to the test account.</span></span>

### <a name="preventing-public-access-to-the-test-site"></a><span data-ttu-id="b1ff6-274">テスト サイトへのパブリック アクセス防止</span><span class="sxs-lookup"><span data-stu-id="b1ff6-274">Preventing Public Access to the Test Site</span></span>

<span data-ttu-id="b1ff6-275">テスト アカウントの重要な考慮事項は、インターネットでは、ライブされますが、これを使用する公開したくないです。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-275">An important consideration for the test account is that it will be live on the Internet, but you don't want the public to use it.</span></span> <span data-ttu-id="b1ff6-276">サイトを非公開には、次の方法の 1 つ以上を使用できます。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-276">To keep the site private you can use one or more of the following methods:</span></span>

- <span data-ttu-id="b1ff6-277">テストに使用する IP アドレスからのみテスト サイトへのアクセスを許可するファイアウォール規則を設定するホスティング プロバイダーに問い合わせてください。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-277">Contact the hosting provider to set firewall rules that allow access to the testing site only from IP addresses that you use for testing.</span></span>
- <span data-ttu-id="b1ff6-278">パブリックのサイトの URL に似ていますがないように、URL を偽装します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-278">Disguise the URL so that it is not similar to the public site's URL.</span></span>
- <span data-ttu-id="b1ff6-279">使用して、 *robots.txt*こと検索エンジンがクロール テスト サイトとレポートのリンクを 検索結果を確認するファイル。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-279">Use a *robots.txt* file to ensure that search engines will not crawl the test site and report links to it in search results.</span></span>

<span data-ttu-id="b1ff6-280">これらのメソッドの最初の明らかに、最も安全ですが、するための手順は、各ホスティング プロバイダーに固有と、このチュートリアルでは扱いませんがします。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-280">The first of these methods is obviously the most secure, but the procedure for that is specific to each hosting provider and will not be covered in this tutorial.</span></span> <span data-ttu-id="b1ff6-281">した場合は、テスト アカウントの URL を参照する、IP アドレスのみを許可するホスティング プロバイダーに、理論上がない検索エンジンがそれをクロールについて心配します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-281">If you do arrange with your hosting provider to allow only your IP address to browse to the test account URL, you theoretically don't have to worry about search engines crawling it.</span></span> <span data-ttu-id="b1ff6-282">その場合でも、展開しますが、 *robots.txt*場合に、そのファイアウォール規則がオフになってしまったこと、ファイルのバックアップとしてことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-282">But even in that case, deploying a *robots.txt* file is a good idea as a backup in case that firewall rule is ever accidentally turned off.</span></span>

<span data-ttu-id="b1ff6-283">*Robots.txt*ファイルがプロジェクト フォルダーに移動し、ことで、次のテキストを持つ必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-283">The *robots.txt* file goes in your project folder and should have the following text in it:</span></span>

[!code-console[Main](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/samples/sample1.cmd)]

<span data-ttu-id="b1ff6-284">`User-agent`行は、ファイル内のルールがすべて検索エンジン web クローラー (ロボット) に適用される検索エンジンに指示し、`Disallow`行は、サイトのページをクロールないことを指定します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-284">The `User-agent` line tells search engines that the rules in the file apply to all search engine web crawlers (robots), and the `Disallow` line specifies that no pages on the site should be crawled.</span></span>

<span data-ttu-id="b1ff6-285">おそらくたくを運用環境のデプロイからこのファイルを除外する必要があるため、実稼働サイトをカタログ化する検索エンジンです。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-285">You probably do want search engines to catalog your production site, so you need to exclude this file from production deployment.</span></span> <span data-ttu-id="b1ff6-286">そのためには、次を参照してください。**できますものを除外する特定のファイルまたはフォルダーの展開から?**で[ASP.NET Web アプリケーション プロジェクトの展開に関する FAQ](https://msdn.microsoft.com/en-us/library/ee942158.aspx#can_i_exclude_specific_files_or_folders_from_deployment)です。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-286">To do that, see **Can I exclude specific files or folders from deployment?** in [ASP.NET Web Application Project Deployment FAQ](https://msdn.microsoft.com/en-us/library/ee942158.aspx#can_i_exclude_specific_files_or_folders_from_deployment).</span></span> <span data-ttu-id="b1ff6-287">発行プロファイルの運用環境用にのみ、排他領域を指定することを確認します。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-287">Make sure that you specify the exclusion only for the Production publish profile.</span></span>

<span data-ttu-id="b1ff6-288">2 つ目のホスト アカウントの作成は、テスト環境は必要ありませんが、追加の経費価値がありますを使用するアプローチです。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-288">Creating a second hosting account is an approach to working with a test environment that is not required but might be worth the added expense.</span></span> <span data-ttu-id="b1ff6-289">次のチュートリアルでは、IIS を使用して、テスト環境に進みます。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-289">In the following tutorials, you'll continue to use IIS as your test environment.</span></span>

<span data-ttu-id="b1ff6-290">チュートリアルでは、[次へ]、アプリケーション コードを更新し、変更をテスト環境や実稼働環境に配置されます。</span><span class="sxs-lookup"><span data-stu-id="b1ff6-290">In the next tutorial, you'll update application code and deploy your change to the test and production environments.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="b1ff6-291">[前へ](deployment-to-a-hosting-provider-setting-folder-permissions-6-of-12.md)
[次へ](deployment-to-a-hosting-provider-deploying-a-code-only-update-8-of-12.md)</span><span class="sxs-lookup"><span data-stu-id="b1ff6-291">[Previous](deployment-to-a-hosting-provider-setting-folder-permissions-6-of-12.md)
[Next](deployment-to-a-hosting-provider-deploying-a-code-only-update-8-of-12.md)</span></span>
