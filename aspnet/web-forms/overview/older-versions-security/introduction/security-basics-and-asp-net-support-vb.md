---
uid: web-forms/overview/older-versions-security/introduction/security-basics-and-asp-net-support-vb
title: "セキュリティの基礎と ASP.NET のサポート (VB) |Microsoft ドキュメント"
author: rick-anderson
description: "これは、一連の認証 partic へのアクセスを承認する訪問者 web フォームを使用するための手法を紹介するチュートリアルの最初のチュートリアルです."
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/13/2008
ms.topic: article
ms.assetid: ab68a92b-fc81-40a4-a7dc-406625d2c5d4
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-security/introduction/security-basics-and-asp-net-support-vb
msc.type: authoredcontent
ms.openlocfilehash: 43edf6745627e92d20c26377404e44f07e649a75
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/24/2018
---
<a name="security-basics-and-aspnet-support-vb"></a><span data-ttu-id="6c143-103">セキュリティの基礎と ASP.NET のサポート (VB)</span><span class="sxs-lookup"><span data-stu-id="6c143-103">Security Basics and ASP.NET Support (VB)</span></span>
====================
<span data-ttu-id="6c143-104">によって[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="6c143-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="6c143-105">PDF をダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="6c143-105">Download PDF</span></span>](http://download.microsoft.com/download/2/F/7/2F705A34-F9DE-4112-BBDE-60098089645E/aspnet_tutorial01_Basics_vb.pdf)

> <span data-ttu-id="6c143-106">これは、一連の web フォームからユーザーを認証、特定のページと機能にアクセスを承認して、ASP.NET アプリケーション内のユーザー アカウントを管理するための手法を紹介するチュートリアルの最初のチュートリアルです。</span><span class="sxs-lookup"><span data-stu-id="6c143-106">This is the first tutorial in a series of tutorials that will explore techniques for authenticating visitors through a web form, authorizing access to particular pages and functionality, and managing user accounts in an ASP.NET application.</span></span>


## <a name="introduction"></a><span data-ttu-id="6c143-107">はじめに</span><span class="sxs-lookup"><span data-stu-id="6c143-107">Introduction</span></span>

<span data-ttu-id="6c143-108">唯一のフォーラム、e コマース サイト、オンラインの電子メールの web サイト、ポータル web サイト、およびソーシャル ネットワーク サイトのすべてに共通であるとは</span><span class="sxs-lookup"><span data-stu-id="6c143-108">What is the one thing forums, eCommerce sites, online email websites, portal websites, and social network sites all have in common?</span></span> <span data-ttu-id="6c143-109">これらはすべて提供*ユーザー アカウント*です。</span><span class="sxs-lookup"><span data-stu-id="6c143-109">They all offer *user accounts*.</span></span> <span data-ttu-id="6c143-110">ユーザー アカウントを提供しているサイトは、いくつかのサービスを提供する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6c143-110">Sites that offer user accounts must provide a number of services.</span></span> <span data-ttu-id="6c143-111">少なくとも新しい訪問者がアカウントを作成する必要があるし、返す訪問者がログインできる必要があります。</span><span class="sxs-lookup"><span data-stu-id="6c143-111">At a minimum, new visitors need to be able to create an account and returning visitors must be able to log in.</span></span> <span data-ttu-id="6c143-112">このような web アプリケーションを決定できますにログオンしたユーザーに基づく: ユーザー、またはユーザーの特定のサブセットにログインしている、可能性がありますに制限するいくつかのページやアクション他のページ可能性があります固有の表示については、ログインのユーザーに可能性があります情報または表示増減したり、によってどのようなユーザーがページを表示します。</span><span class="sxs-lookup"><span data-stu-id="6c143-112">Such web applications can make decisions based on the logged in user: some pages or actions might be restricted to only logged in users, or to a certain subset of users; other pages might show information specific to the logged in user, or might show more or less information, depending on what user is viewing the page.</span></span>

<span data-ttu-id="6c143-113">これは、一連の web フォームからユーザーを認証、特定のページと機能にアクセスを承認して、ASP.NET アプリケーション内のユーザー アカウントを管理するための手法を紹介するチュートリアルの最初のチュートリアルです。</span><span class="sxs-lookup"><span data-stu-id="6c143-113">This is the first tutorial in a series of tutorials that will explore techniques for authenticating visitors through a web form, authorizing access to particular pages and functionality, and managing user accounts in an ASP.NET application.</span></span> <span data-ttu-id="6c143-114">これらのチュートリアルの過程では、検討する方法。</span><span class="sxs-lookup"><span data-stu-id="6c143-114">Over the course of these tutorials we will examine how to:</span></span>

- <span data-ttu-id="6c143-115">識別し、web サイトにユーザーのログイン</span><span class="sxs-lookup"><span data-stu-id="6c143-115">Identify and log users in to a website</span></span>
- <span data-ttu-id="6c143-116">ASP を使用します。NET のメンバーシップ ユーザー アカウントを管理するためにフレームワーク</span><span class="sxs-lookup"><span data-stu-id="6c143-116">Use ASP.NET's Membership framework to manage user accounts</span></span>
- <span data-ttu-id="6c143-117">作成、更新、およびユーザー アカウントを削除</span><span class="sxs-lookup"><span data-stu-id="6c143-117">Create, update, and delete user accounts</span></span>
- <span data-ttu-id="6c143-118">Web ページ、ディレクトリ、またはにログオンしたユーザーに基づく特定の機能へのアクセスを制限します。</span><span class="sxs-lookup"><span data-stu-id="6c143-118">Limit access to a web page, directory, or specific functionality based on the logged in user</span></span>
- <span data-ttu-id="6c143-119">ASP を使用します。ロールにユーザー アカウントを関連付ける NET のロールのフレームワーク</span><span class="sxs-lookup"><span data-stu-id="6c143-119">Use ASP.NET's Roles framework to associate user accounts with roles</span></span>
- <span data-ttu-id="6c143-120">ユーザー ロールを管理します。</span><span class="sxs-lookup"><span data-stu-id="6c143-120">Manage user roles</span></span>
- <span data-ttu-id="6c143-121">Web ページ、ディレクトリ、またはログイン ユーザーの役割に基づいた特定の機能へのアクセスを制限します。</span><span class="sxs-lookup"><span data-stu-id="6c143-121">Limit access to a web page, directory, or specific functionality based on the logged in user's role</span></span>
- <span data-ttu-id="6c143-122">カスタマイズおよび ASP を拡張します。ネットワークのセキュリティの Web コントロール</span><span class="sxs-lookup"><span data-stu-id="6c143-122">Customize and extend ASP.NET's security Web controls</span></span>

<span data-ttu-id="6c143-123">これらのチュートリアルは、簡潔なは、スクリーン ショットが多いプロセスを視覚的に順番の詳細な手順についての提供に特化しています。</span><span class="sxs-lookup"><span data-stu-id="6c143-123">These tutorials are geared to be concise and provide step-by-step instructions with plenty of screen shots to walk you through the process visually.</span></span> <span data-ttu-id="6c143-124">各チュートリアルは、c# および Visual Basic バージョンで利用可能な使用される完全なコードのダウンロードが含まれています。</span><span class="sxs-lookup"><span data-stu-id="6c143-124">Each tutorial is available in C# and Visual Basic versions and includes a download of the complete code used.</span></span> <span data-ttu-id="6c143-125">(最初のチュートリアルは高度な視点からのセキュリティの基本概念について重点的におよび、関連付けられているコード含まれていません)。</span><span class="sxs-lookup"><span data-stu-id="6c143-125">(This first tutorial focuses on security concepts from a high-level viewpoint and therefore does not contain any associated code.)</span></span>

<span data-ttu-id="6c143-126">このチュートリアルでは、セキュリティに関する重要な概念とどのような機能が ASP.NET には、フォーム認証、承認、ユーザー アカウント、およびロールの実装に役立つ利用について説明します。</span><span class="sxs-lookup"><span data-stu-id="6c143-126">In this tutorial we will discuss important security concepts and what facilities are available in ASP.NET to assist in implementing forms authentication, authorization, user accounts, and roles.</span></span> <span data-ttu-id="6c143-127">開始しましょう!</span><span class="sxs-lookup"><span data-stu-id="6c143-127">Let's get started!</span></span>

> [!NOTE]
> <span data-ttu-id="6c143-128">セキュリティは、物理的な技術にまたがるアプリケーションの重要な側面とポリシーを決定し、高度な計画と専門知識が必要です。</span><span class="sxs-lookup"><span data-stu-id="6c143-128">Security is an important aspect of any application that spans physical, technological, and policy decisions and requires a high degree of planning and domain knowledge.</span></span> <span data-ttu-id="6c143-129">セキュリティで保護された web アプリケーションを開発するためのガイドとして、このチュートリアルのシリーズが想定されていません。</span><span class="sxs-lookup"><span data-stu-id="6c143-129">This tutorial series is not intended as a guide for developing secure web applications.</span></span> <span data-ttu-id="6c143-130">代わりに、フォーム認証、承認、ユーザー アカウント、およびロールを具体的には、焦点を当てます。</span><span class="sxs-lookup"><span data-stu-id="6c143-130">Rather, it focuses specifically on forms authentication, authorization, user accounts, and roles.</span></span> <span data-ttu-id="6c143-131">この系列には、これらの問題の周りの回転いくつかのセキュリティ概念が説明されている、ときに他のユーザーのままにする調べてです。</span><span class="sxs-lookup"><span data-stu-id="6c143-131">While some security concepts revolving around these issues are discussed in this series, others are left unexplored.</span></span>


## <a name="authentication-authorization-user-accounts-and-roles"></a><span data-ttu-id="6c143-132">認証、承認、ユーザー アカウント、およびロール</span><span class="sxs-lookup"><span data-stu-id="6c143-132">Authentication, Authorization, User Accounts, and Roles</span></span>

<span data-ttu-id="6c143-133">認証、承認、ユーザー アカウント、およびロールは、使用されるほとんどの場合、このチュートリアルの系列全体でクイックすぐ web セキュリティのコンテキスト内でこれらの用語の定義をしたいと考えて、4 つの用語です。</span><span class="sxs-lookup"><span data-stu-id="6c143-133">Authentication, authorization, user accounts, and roles are four terms that will be used very often throughout this tutorial series, so I'd like to take a quick moment to define these terms within the context of web security.</span></span> <span data-ttu-id="6c143-134">インターネットなどのクライアント/サーバー モデルでは、要求を行っているクライアントの識別をサーバーが必要な多くのシナリオがあります。</span><span class="sxs-lookup"><span data-stu-id="6c143-134">In a client-server model, such as the Internet, there are many scenarios in which the server needs to identify the client making the request.</span></span> <span data-ttu-id="6c143-135">*認証*プロセスよって、クライアントの id です。</span><span class="sxs-lookup"><span data-stu-id="6c143-135">*Authentication* is the process of ascertaining the client's identity.</span></span> <span data-ttu-id="6c143-136">クライアントが正常に識別されると呼ばれます*認証*です。</span><span class="sxs-lookup"><span data-stu-id="6c143-136">A client who has been successfully identified is said to be *authenticated*.</span></span> <span data-ttu-id="6c143-137">不明なクライアントがあると言われます*認証されていない*または*匿名*です。</span><span class="sxs-lookup"><span data-stu-id="6c143-137">An unidentified client is said to be *unauthenticated* or *anonymous*.</span></span>

<span data-ttu-id="6c143-138">セキュリティで保護された認証システムを含む次の 3 つのファセットの少なくとも 1 つ:[ユーザーが知って、問題がある場合、または何か](http://www.cs.cornell.edu/Courses/cs513/2005fa/NNLauthPeople.html)です。</span><span class="sxs-lookup"><span data-stu-id="6c143-138">Secure authentication systems involve at least one of the following three facets: [something you know, something you have, or something you are](http://www.cs.cornell.edu/Courses/cs513/2005fa/NNLauthPeople.html).</span></span> <span data-ttu-id="6c143-139">ほとんどの web アプリケーションは、パスワードや PIN など、クライアントが知っているものに依存します。</span><span class="sxs-lookup"><span data-stu-id="6c143-139">Most web applications rely on something the client knows, such as a password or a PIN.</span></span> <span data-ttu-id="6c143-140">ユーザー名と例については、パスワードに-ユーザーを識別するための情報をいいます*資格情報*です。</span><span class="sxs-lookup"><span data-stu-id="6c143-140">The information used to identify a user - her username and password, for example - are referred to as *credentials*.</span></span> <span data-ttu-id="6c143-141">このチュートリアルのシリーズについて重点的に*フォーム認証*、これは、認証モデルをユーザーが web ページのフォームでの資格情報を提供することにより、サイトにサインインします。</span><span class="sxs-lookup"><span data-stu-id="6c143-141">This tutorial series focuses on *forms authentication*, which is an authentication model where users log in to the site by providing their credentials in a web page form.</span></span> <span data-ttu-id="6c143-142">すべてが発生してこの種類の前に認証します。</span><span class="sxs-lookup"><span data-stu-id="6c143-142">We have all experienced this type of authentication before.</span></span> <span data-ttu-id="6c143-143">任意の電子商取引サイトに移動します。</span><span class="sxs-lookup"><span data-stu-id="6c143-143">Go to any eCommerce site.</span></span> <span data-ttu-id="6c143-144">チェック アウトする準備ができたら、テキスト ボックスに、web ページ上のユーザー名とパスワードを入力してにログインする必要があります。</span><span class="sxs-lookup"><span data-stu-id="6c143-144">When you are ready to check out you are asked to log in by entering your username and password into textboxes on a web page.</span></span>

<span data-ttu-id="6c143-145">クライアントを識別するだけでなく、サーバーは、どのようなリソースまたは機能は、要求を行っているクライアントによってアクセスを制限する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6c143-145">In addition to identifying clients, a server may need to limit what resources or functionalities are accessible depending on the client making the request.</span></span> <span data-ttu-id="6c143-146">*承認*は、特定のユーザーが特定のリソースまたは機能にアクセスする権限を持っているかどうかを決定するプロセスです。</span><span class="sxs-lookup"><span data-stu-id="6c143-146">*Authorization* is the process of determining whether a particular user has the authority to access a specific resource or functionality.</span></span>

<span data-ttu-id="6c143-147">A*ユーザー アカウント*特定のユーザーについての永続化するストアです。</span><span class="sxs-lookup"><span data-stu-id="6c143-147">A *user account* is a store for persisting information about a particular user.</span></span> <span data-ttu-id="6c143-148">ユーザー アカウントでは、ユーザーのログイン名とパスワードなどのユーザーを一意に識別する情報を含める必要があります最小限に抑える。</span><span class="sxs-lookup"><span data-stu-id="6c143-148">User accounts must minimally include information that uniquely identifies the user, such as the user's login name and password.</span></span> <span data-ttu-id="6c143-149">この基本的な情報と共に、ユーザー アカウントがなどを含めることができます。 ユーザーの電子メール アドレスです。アカウントが作成された日時日付と時刻が、前回のログインです。最初と最後の名前です。電話番号です。郵送先住所。</span><span class="sxs-lookup"><span data-stu-id="6c143-149">Along with this essential information, user accounts may include things like: the user's email address; the date and time the account was created; the date and time they last logged in; first and last name; phone number; and mailing address.</span></span> <span data-ttu-id="6c143-150">フォーム認証を使用する場合のユーザー アカウント情報は通常 Microsoft SQL Server などのリレーショナル データベースに格納されます。</span><span class="sxs-lookup"><span data-stu-id="6c143-150">When using forms authentication, user account information is typically stored in a relational database like Microsoft SQL Server.</span></span>

<span data-ttu-id="6c143-151">ユーザー アカウントをサポートする web アプリケーションがユーザーにグループ化できます必要に応じて*ロール*です。</span><span class="sxs-lookup"><span data-stu-id="6c143-151">Web applications that support user accounts may optionally group users into *roles*.</span></span> <span data-ttu-id="6c143-152">ロールは、ユーザーに適用され、承認規則とページ レベルの機能を定義する抽象化を提供するラベルだけです。</span><span class="sxs-lookup"><span data-stu-id="6c143-152">A role is simply a label that is applied to a user and provides an abstraction for defining authorization rules and page-level functionality.</span></span> <span data-ttu-id="6c143-153">たとえば、web サイトには、特定の web ページのセットにアクセスする管理者以外のユーザーを禁止する承認規則で管理者ロールがあります。</span><span class="sxs-lookup"><span data-stu-id="6c143-153">For example, a website might include an Administrator role with authorization rules that prohibit anyone but an Administrator to access a particular set of web pages.</span></span> <span data-ttu-id="6c143-154">さらに、すべてのユーザー (管理者以外のユーザーを含む) にアクセスできるページのさまざまなは、追加データを表示または、管理者ロールのユーザーにアクセスすると、余分な機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="6c143-154">Moreover, a variety of pages that are accessible to all users (including non-Administrators) might display additional data or offer extra functionality when visited by users in the Administrators role.</span></span> <span data-ttu-id="6c143-155">ロールを使用して、ユーザーによってではなくの役割、役割の単位で、これらの承認規則を定義おできます。</span><span class="sxs-lookup"><span data-stu-id="6c143-155">Using roles, we can define these authorization rules on a role-by-role basis rather than user-by-user.</span></span>

## <a name="authenticating-users-in-an-aspnet-application"></a><span data-ttu-id="6c143-156">ASP.NET アプリケーション内でユーザーを認証</span><span class="sxs-lookup"><span data-stu-id="6c143-156">Authenticating Users in an ASP.NET Application</span></span>

<span data-ttu-id="6c143-157">ブラウザーは、ユーザーは、リンク上のブラウザーのアドレス ウィンドウまたはクリックに URL を入力、ときに、[ハイパー テキスト転送プロトコル (HTTP)](http://en.wikipedia.org/wiki/HTTP)指定されたコンテンツの web サーバーへの要求を使用して、ASP.NET ページで、イメージ、JavaScriptファイル、またはその他のコンテンツの種類。</span><span class="sxs-lookup"><span data-stu-id="6c143-157">When a user enters a URL into their browser's address window or clicks on a link, the browser makes a [Hypertext Transfer Protocol (HTTP)](http://en.wikipedia.org/wiki/HTTP) request to the web server for the specified content, be it an ASP.NET page, an image, a JavaScript file, or any other type of content.</span></span> <span data-ttu-id="6c143-158">Web サーバーは、要求されたコンテンツを返す際に携わるです。</span><span class="sxs-lookup"><span data-stu-id="6c143-158">The web server is tasked with returning the requested content.</span></span> <span data-ttu-id="6c143-159">これには、それには要求を行ったユーザーと、要求されたコンテンツを取得する、id が承認されているかどうかを含む、要求の点の数を判断する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6c143-159">In doing so, it must determine a number of things about the request, including who made the request and whether the identity is authorized to retrieve the requested content.</span></span>

<span data-ttu-id="6c143-160">既定では、ブラウザーは、何らかの識別情報が不足している HTTP 要求を送信します。</span><span class="sxs-lookup"><span data-stu-id="6c143-160">By default, browsers send HTTP requests that lack any sort of identification information.</span></span> <span data-ttu-id="6c143-161">ブラウザーは認証情報を含める場合、web サーバー、ワークフローの開始認証要求を行っているクライアントを識別しようとします。</span><span class="sxs-lookup"><span data-stu-id="6c143-161">But if the browser does include authentication information then the web server starts the authentication workflow, which attempts to identify the client making the request.</span></span> <span data-ttu-id="6c143-162">認証ワークフローの手順は、web アプリケーションで使用されている認証の種類によって異なります。</span><span class="sxs-lookup"><span data-stu-id="6c143-162">The steps of the authentication workflow depend on the type of authentication being used by the web application.</span></span> <span data-ttu-id="6c143-163">ASP.NET は、3 種類の認証をサポートしています。 Windows、Passport、およびフォーム。</span><span class="sxs-lookup"><span data-stu-id="6c143-163">ASP.NET supports three types of authentication: Windows, Passport, and forms.</span></span> <span data-ttu-id="6c143-164">フォーム認証では、このチュートリアルのシリーズに焦点を当てていますが、比較し、Windows 認証のユーザーのストアとワークフローを比較する分を見てみましょう。</span><span class="sxs-lookup"><span data-stu-id="6c143-164">This tutorial series focuses on forms authentication, but let's take a minute to compare and contrast Windows authentication user stores and workflow.</span></span>

### <a name="authentication-via-windows-authentication"></a><span data-ttu-id="6c143-165">Windows 認証を使用した認証</span><span class="sxs-lookup"><span data-stu-id="6c143-165">Authentication via Windows Authentication</span></span>

<span data-ttu-id="6c143-166">Windows 認証のワークフローは、次の認証の手法のいずれかを使用します。</span><span class="sxs-lookup"><span data-stu-id="6c143-166">The Windows authentication workflow uses one of the following authentication techniques:</span></span>

- <span data-ttu-id="6c143-167">基本認証</span><span class="sxs-lookup"><span data-stu-id="6c143-167">Basic authentication</span></span>
- <span data-ttu-id="6c143-168">ダイジェスト認証</span><span class="sxs-lookup"><span data-stu-id="6c143-168">Digest authentication</span></span>
- <span data-ttu-id="6c143-169">Windows 統合認証</span><span class="sxs-lookup"><span data-stu-id="6c143-169">Windows Integrated Authentication</span></span>

<span data-ttu-id="6c143-170">次の 3 つすべての手法がほぼ同じように作業: 不正な匿名の要求が到着すると、web サーバーがその承認を示す HTTP 応答が引き続き必要です。</span><span class="sxs-lookup"><span data-stu-id="6c143-170">All three techniques work in roughly the same way: when an unauthorized, anonymous request arrives, the web server sends back an HTTP response that indicates that authorization is required to continue.</span></span> <span data-ttu-id="6c143-171">ブラウザーは、ユーザー (図 1 を参照してください)、ユーザー名とパスワードを要求するモーダル ダイアログ ボックスを表示します。</span><span class="sxs-lookup"><span data-stu-id="6c143-171">The browser then displays a modal dialog box that prompts the user for their username and password (see Figure 1).</span></span> <span data-ttu-id="6c143-172">この情報は、HTTP ヘッダーを使用して web サーバーに送信されします。</span><span class="sxs-lookup"><span data-stu-id="6c143-172">This information is then sent back to the web server via an HTTP header.</span></span>


![モーダル ダイアログ ボックスには、ユーザー、資格情報のメッセージが表示されます。](security-basics-and-asp-net-support-vb/_static/image1.png)

<span data-ttu-id="6c143-174">**図 1**: モーダル ダイアログ ボックスには、ユーザー、資格情報のメッセージが表示されます</span><span class="sxs-lookup"><span data-stu-id="6c143-174">**Figure 1**: A Modal Dialog Box Prompts the User for His Credentials</span></span>


<span data-ttu-id="6c143-175">指定された資格情報は、web サーバーの Windows ユーザーのストアに対して検証されます。</span><span class="sxs-lookup"><span data-stu-id="6c143-175">The supplied credentials are validated against the web server's Windows User Store.</span></span> <span data-ttu-id="6c143-176">したがって、web アプリケーションで認証されたユーザーごとが、組織内 Windows アカウントを必要する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6c143-176">This means that each authenticated user in your web application must have a Windows account in your organization.</span></span> <span data-ttu-id="6c143-177">これは、イントラネットのシナリオで一般的です。</span><span class="sxs-lookup"><span data-stu-id="6c143-177">This is commonplace in intranet scenarios.</span></span> <span data-ttu-id="6c143-178">実際をイントラネットの設定で Windows 統合認証を使用する場合、ブラウザーに自動的に提供 web サーバー図 1 に示すように、ダイアログ ボックスの抑制これにより、ネットワークにログオンするために使用する資格情報を使用します。</span><span class="sxs-lookup"><span data-stu-id="6c143-178">In fact, when using Windows Integrated Authentication in an intranet setting, the browser automatically provides the web server with the credentials used to log on to the network, thereby suppressing the dialog box shown in Figure 1.</span></span> <span data-ttu-id="6c143-179">Windows 認証はイントラネット アプリケーションに最適ですがいない通常可能なインターネット アプリケーションのサイトでサインアップした各ユーザーの Windows アカウントを作成しないためです。</span><span class="sxs-lookup"><span data-stu-id="6c143-179">While Windows authentication is great for intranet applications, it is usually unfeasible for Internet applications since you do not want to create Windows accounts for each and every user who signs up at your site.</span></span>

### <a name="authentication-via-forms-authentication"></a><span data-ttu-id="6c143-180">フォーム認証を使用した認証</span><span class="sxs-lookup"><span data-stu-id="6c143-180">Authentication via Forms Authentication</span></span>

<span data-ttu-id="6c143-181">その一方で、フォーム認証は、インターネットの web アプリケーションに最適です。</span><span class="sxs-lookup"><span data-stu-id="6c143-181">Forms authentication, on the other hand, is ideal for Internet web applications.</span></span> <span data-ttu-id="6c143-182">フォーム認証することは、web フォームを介して資格情報を入力するよう求めるにより、ユーザーを識別します。</span><span class="sxs-lookup"><span data-stu-id="6c143-182">Recall that forms authentication identifies the user by prompting them to enter their credentials through a web form.</span></span> <span data-ttu-id="6c143-183">その結果、ユーザーが権限のないリソースにアクセスしようとしたときは自動的に、ログイン ページにリダイレクト自分の資格情報を入力することができます。</span><span class="sxs-lookup"><span data-stu-id="6c143-183">Consequently, when a user attempts to access an unauthorized resource, they are automatically redirected to the login page where they can enter their credentials.</span></span> <span data-ttu-id="6c143-184">送信された資格情報は、カスタム ユーザー ストア - 通常はデータベースに対して、検証されます。</span><span class="sxs-lookup"><span data-stu-id="6c143-184">The submitted credentials are then validated against a custom user store - usually a database.</span></span>

<span data-ttu-id="6c143-185">送信された資格情報を確認した後、*フォーム認証チケット*ユーザー用に作成します。</span><span class="sxs-lookup"><span data-stu-id="6c143-185">After verifying the submitted credentials, a *forms authentication ticket* is created for the user.</span></span> <span data-ttu-id="6c143-186">このチケットは、ユーザーが認証されたユーザー名などの識別情報が含まれますことを示します。</span><span class="sxs-lookup"><span data-stu-id="6c143-186">This ticket indicates that the user has been authenticated and includes identifying information, such as the username.</span></span> <span data-ttu-id="6c143-187">フォーム認証チケットは、クライアント コンピューター上の cookie として格納されます (通常)。</span><span class="sxs-lookup"><span data-stu-id="6c143-187">The forms authentication ticket is (typically) stored as a cookie on the client computer.</span></span> <span data-ttu-id="6c143-188">そのため、web サイトにアクセスする際に、web アプリケーションにログインとユーザーを識別できるように、HTTP 要求でのフォーム認証チケットが含まれます。</span><span class="sxs-lookup"><span data-stu-id="6c143-188">Therefore, subsequent visits to the website include the forms authentication ticket in the HTTP request, thereby enabling the web application to identify the user once they have logged in.</span></span>

<span data-ttu-id="6c143-189">図 2 は、高度な視点からのフォーム認証のワークフローを示しています。</span><span class="sxs-lookup"><span data-stu-id="6c143-189">Figure 2 illustrates the forms authentication workflow from a high-level vantage point.</span></span> <span data-ttu-id="6c143-190">ASP.NET での認証と承認の部分が 2 つの個別のエンティティとして機能する方法に注意してください。</span><span class="sxs-lookup"><span data-stu-id="6c143-190">Notice how the authentication and authorization pieces in ASP.NET act as two separate entities.</span></span> <span data-ttu-id="6c143-191">フォーム認証システムは、ユーザーを識別 (または、匿名いることを報告)。</span><span class="sxs-lookup"><span data-stu-id="6c143-191">The forms authentication system identifies the user (or reports that they are anonymous).</span></span> <span data-ttu-id="6c143-192">認証システムは、ユーザーが要求されたリソースへのアクセスを持つかどうかが決まります。</span><span class="sxs-lookup"><span data-stu-id="6c143-192">The authorization system is what determines whether the user has access to the requested resource.</span></span> <span data-ttu-id="6c143-193">場合、ユーザーが承認されていません (図 2 の場合と ProtectedPage.aspx に匿名でアクセスしようとしています)、承認システムにより、ユーザーが拒否されたこと、原因で、フォーム認証システムを自動的にユーザーをログイン ページにリダイレクトが報告されます。</span><span class="sxs-lookup"><span data-stu-id="6c143-193">If the user is unauthorized (as they are in Figure 2 when attempting to anonymously visit ProtectedPage.aspx), the authorization system reports that the user is denied, causing the forms authentication system to automatically redirect the user to the login page.</span></span>

<span data-ttu-id="6c143-194">ユーザーがログインに成功した後、後続の HTTP 要求には、フォーム認証チケットが含まれます。</span><span class="sxs-lookup"><span data-stu-id="6c143-194">Once the user has successfully logged in, subsequent HTTP requests include the forms authentication ticket.</span></span> <span data-ttu-id="6c143-195">フォーム認証システムが単にユーザーを識別 - 認証システム、ユーザーが要求されたリソースにアクセスできるかどうかを決定することができます。</span><span class="sxs-lookup"><span data-stu-id="6c143-195">The forms authentication system merely identifies the user - it is the authorization system that determines whether the user can access the requested resource.</span></span>


![フォーム認証のワークフロー](security-basics-and-asp-net-support-vb/_static/image2.png)

<span data-ttu-id="6c143-197">**図 2**: フォーム認証のワークフロー</span><span class="sxs-lookup"><span data-stu-id="6c143-197">**Figure 2**: The Forms Authentication Workflow</span></span>


<span data-ttu-id="6c143-198">次の 2 つのチュートリアルでは、非常に大きい詳しくフォーム認証を詳しく調べ、お[フォーム認証の概要を](an-overview-of-forms-authentication-vb.md)と[フォーム認証の構成と高度なトピック](forms-authentication-configuration-and-advanced-topics-vb.md)です。</span><span class="sxs-lookup"><span data-stu-id="6c143-198">We will dig into forms authentication in much greater detail in the next two tutorials,[An Overview of Forms Authentication](an-overview-of-forms-authentication-vb.md) and [Forms Authentication Configuration and Advanced Topics](forms-authentication-configuration-and-advanced-topics-vb.md).</span></span> <span data-ttu-id="6c143-199">詳細については、ASP です。NET の認証オプションを参照してください[ASP.NET 認証](https://msdn.microsoft.com/library/eeyk640h.aspx)です。</span><span class="sxs-lookup"><span data-stu-id="6c143-199">For more on ASP.NET's authentication options, see [ASP.NET Authentication](https://msdn.microsoft.com/library/eeyk640h.aspx).</span></span>

## <a name="limiting-access-to-web-pages-directories-and-page-functionality"></a><span data-ttu-id="6c143-200">Web ページ、ディレクトリ、およびページの機能へのアクセスを制限します。</span><span class="sxs-lookup"><span data-stu-id="6c143-200">Limiting Access to Web Pages, Directories, and Page Functionality</span></span>

<span data-ttu-id="6c143-201">ASP.NET には、特定のユーザーが特定のファイルまたはディレクトリにアクセスする権限を持っているかどうかを決定する 2 つの方法が含まれています。</span><span class="sxs-lookup"><span data-stu-id="6c143-201">ASP.NET includes two ways to determine whether a particular user has authority to access a specific file or directory:</span></span>

- <span data-ttu-id="6c143-202">**ファイルの承認**- アクセス制御リスト (Acl) を介してこれらのファイルへのアクセス、web サーバーのファイル システム上に存在するファイルを指定することができます、ASP.NET ページと web サービスが実装されるためです。</span><span class="sxs-lookup"><span data-stu-id="6c143-202">**File authorization** - since ASP.NET pages and web services are implemented as files that reside on the web server's file system, access to these files can be specified through Access Control Lists (ACLs).</span></span> <span data-ttu-id="6c143-203">ファイルの承認が最もよく使用 Windows 認証されている Acl を Windows アカウントに適用されるアクセス許可があるためです。</span><span class="sxs-lookup"><span data-stu-id="6c143-203">File authorization is most commonly used with Windows authentication because ACLs are permissions that apply to Windows accounts.</span></span> <span data-ttu-id="6c143-204">フォーム認証を使用する場合は、オペレーティング システムとファイル システム レベルのすべての要求がサイトにアクセスするユーザーに関係なく、同じ Windows アカウントで実行されます。</span><span class="sxs-lookup"><span data-stu-id="6c143-204">When using forms authentication, all operating system- and file system-level requests are executed by the same Windows account, regardless of the user visiting the site.</span></span>
- <span data-ttu-id="6c143-205">**URL 承認**-URL 承認で、ページ開発者が Web.config で承認規則を指定します。これらの承認規則は、ユーザーまたはロールのアクセスを許可または特定のページや、アプリケーション内のディレクトリへのアクセスを拒否新機能を指定します。</span><span class="sxs-lookup"><span data-stu-id="6c143-205">**URL authorization**- with URL authorization, the page developer specifies authorization rules in Web.config. These authorization rules specify what users or roles are allowed to access or are denied from accessing certain pages or directories in the application.</span></span>

<span data-ttu-id="6c143-206">ファイルの承認と URL の承認は、特定のディレクトリ内のすべての ASP.NET ページまたは特定の ASP.NET ページにアクセスするための承認規則を定義します。</span><span class="sxs-lookup"><span data-stu-id="6c143-206">File authorization and URL authorization define authorization rules for accessing a particular ASP.NET page or for all ASP.NET pages in a particular directory.</span></span> <span data-ttu-id="6c143-207">これらの手法を使用して特定のユーザーの特定のページへの要求を拒否または一連のユーザーへのアクセス許可およびすべてのユーザーにアクセスを拒否する ASP.NET に指示できます。</span><span class="sxs-lookup"><span data-stu-id="6c143-207">Using these techniques we can instruct ASP.NET to deny requests to a particular page for a particular user, or allow access to a set of users and deny access to everyone else.</span></span> <span data-ttu-id="6c143-208">場所 ページで、すべてのユーザー アクセスできますが、ページの機能は、ユーザーによって異なります。 のシナリオについて説明します。</span><span class="sxs-lookup"><span data-stu-id="6c143-208">What about scenarios where all of the users can access the page, but the page's functionality depends on the user?</span></span> <span data-ttu-id="6c143-209">たとえば、ユーザー アカウントをサポートする多くのサイトでは、さまざまなコンテンツまたは匿名ユーザーと認証済みユーザーのデータを表示するページがあります。</span><span class="sxs-lookup"><span data-stu-id="6c143-209">For example, many sites that support user accounts have pages that display different content or data for authenticated users versus anonymous users.</span></span> <span data-ttu-id="6c143-210">匿名ユーザー、認証されたユーザーはのように、お帰りメッセージを表示して代わりに対しとすると、サイトにログインへのリンクを参照してください可能性があります*Username*ログアウトへのリンクと共にします。別の例: オークション サイトにある項目を表示するときに、入札者またはオークション品目するかどうかに応じて、異なる情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="6c143-210">An anonymous user might see a link to log in to the site, whereas an authenticated user would instead see a message like, Welcome back, *Username* along with a link to log out. Another example: when viewing an item at an auction site you see different information depending on whether you are a bidder or the one auctioning the item.</span></span>

<span data-ttu-id="6c143-211">このようなページ レベルの調整は、宣言またはプログラムによって実現できます。</span><span class="sxs-lookup"><span data-stu-id="6c143-211">Such page-level adjustments can be accomplished declaratively or programmatically.</span></span> <span data-ttu-id="6c143-212">ごとに異なるコンテンツを表示する匿名認証されたユーザー、ドラッグするだけよりも、 [LoginView コントロール](https://msdn.microsoft.com/library/system.web.ui.webcontrols.loginview.aspx)ページにその AnonymousTemplate と LoggedInTemplate テンプレートに、適切なコンテンツを入力します。</span><span class="sxs-lookup"><span data-stu-id="6c143-212">To show different content for anonymous than authenticated users, simply drag a [LoginView control](https://msdn.microsoft.com/library/system.web.ui.webcontrols.loginview.aspx) onto your page and enter the appropriate content into its AnonymousTemplate and LoggedInTemplate templates.</span></span> <span data-ttu-id="6c143-213">また、プログラムで指定できます、現在の要求が認証されるかどうかはユーザー、およびどのような役割 (存在する場合) に属しています。</span><span class="sxs-lookup"><span data-stu-id="6c143-213">Alternatively, you can programmatically determine whether the current request is authenticated, who the user is, and what roles they belong to (if any).</span></span> <span data-ttu-id="6c143-214">この情報は、し、表示/非表示 ページでグリッドまたはパネル内の列を使用することができます。</span><span class="sxs-lookup"><span data-stu-id="6c143-214">You can use this information to then show or hide columns in a grid or Panels on the page.</span></span>

<span data-ttu-id="6c143-215">この系列には、承認に焦点を当てている 3 つのチュートリアルが用意されています。</span><span class="sxs-lookup"><span data-stu-id="6c143-215">This series includes three tutorials that focus on authorization.</span></span> <span data-ttu-id="6c143-216">***ユーザー ベースの承認***; 特定のユーザー アカウントのページまたはディレクトリ内のページへのアクセスを制限する方法を説明します***ロール ベースの承認***レベル以外の場合は、最後に、ロールの承認規則を指定することでは、***を表示するコンテンツに基づいて、現在ログイン ユーザー***チュートリアルでは、特定の変更について説明ページのコンテンツやページにアクセスするユーザーに基づいて機能します。</span><span class="sxs-lookup"><span data-stu-id="6c143-216">***User-Based Authorization***examines how to limit access to a page or pages in a directory for specific user accounts; ***Role-Based Authorization*** looks at supplying authorization rules at the role level; lastly, the ***Displaying Content Based on the Currently Logged In User*** tutorial explores modifying a particular page's content and functionality based on the user visiting the page.</span></span> <span data-ttu-id="6c143-217">詳細については、ASP です。NET の承認のオプションを参照してください[ASP.NET 承認](https://msdn.microsoft.com/library/wce3kxhd.aspx)です。</span><span class="sxs-lookup"><span data-stu-id="6c143-217">For more on ASP.NET's authorization options, see [ASP.NET Authorization](https://msdn.microsoft.com/library/wce3kxhd.aspx).</span></span>

## <a name="user-accounts-and-roles"></a><span data-ttu-id="6c143-218">ユーザー アカウントとロール</span><span class="sxs-lookup"><span data-stu-id="6c143-218">User Accounts and Roles</span></span>

<span data-ttu-id="6c143-219">ASP です。NET のフォーム認証では、ユーザーがサイトにログインし、認証済みの状態がページ訪問間で記憶するためのインフラストラクチャを提供します。</span><span class="sxs-lookup"><span data-stu-id="6c143-219">ASP.NET's forms authentication provides an infrastructure for users to log in to a site and have their authenticated state remembered across page visits.</span></span> <span data-ttu-id="6c143-220">URL の承認は、ASP.NET アプリケーションの特定のファイルまたはフォルダーへのアクセスを制限するためのフレームワークを提供します。</span><span class="sxs-lookup"><span data-stu-id="6c143-220">And URL authorization offers a framework for limiting access to specific files or folders in an ASP.NET application.</span></span> <span data-ttu-id="6c143-221">ただし、どちらの機能には、ユーザー アカウント情報を格納するか、ロールを管理するための手段が用意されています。</span><span class="sxs-lookup"><span data-stu-id="6c143-221">Neither feature, however, supplies a means for storing user account information or managing roles.</span></span>

<span data-ttu-id="6c143-222">ASP.NET 2.0 では、前に開発者が独自のユーザーおよびロール ストアの作成を担当します。</span><span class="sxs-lookup"><span data-stu-id="6c143-222">Prior to ASP.NET 2.0, developers were responsible for creating their own user and role stores.</span></span> <span data-ttu-id="6c143-223">またユーザー インターフェイスの設計と基本的なユーザーのコードは、ログイン ページおよびその他の新しいアカウントを作成するページのようにアカウントに関連するページを書き込むフックいました。</span><span class="sxs-lookup"><span data-stu-id="6c143-223">They were also on the hook for designing the user interfaces and writing the code for essential user account-related pages like the login page and the page to create a new account, among others.</span></span> <span data-ttu-id="6c143-224">ASP.NET では、各開発者と同様に、質問に自分の設計に関する決定事項に到着する実装のユーザー アカウントには、組み込みのユーザー アカウントのフレームワークせず格納する方法はパスワードやその他の機密情報ですか。パスワードの長さや強度に関するにはどのようなガイドライン示しているか。</span><span class="sxs-lookup"><span data-stu-id="6c143-224">Without any built-in user account framework in ASP.NET, each developer implementing user accounts had to arrive at his own design decisions on questions like, How do I store passwords or other sensitive information? and What guidelines should I impose regarding password length and strength?</span></span>

<span data-ttu-id="6c143-225">今日をはるかに簡単に感謝は、ASP.NET アプリケーションでユーザー アカウントを実装する、*メンバーシップ framework*およびログイン Web コントロール組み込みです。</span><span class="sxs-lookup"><span data-stu-id="6c143-225">Today, implementing user accounts in an ASP.NET application is much simpler thanks to the *Membership framework* and the built-in Login Web controls.</span></span> <span data-ttu-id="6c143-226">メンバーシップ フレームワークは、いくつかのクラスの[System.Web.Security 名前空間](https://msdn.microsoft.com/library/system.web.security.aspx)重要なユーザー アカウントに関連するタスクを実行するための機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="6c143-226">The Membership framework is a handful of classes in the [System.Web.Security namespace](https://msdn.microsoft.com/library/system.web.security.aspx) that provide functionality for performing essential user account-related tasks.</span></span> <span data-ttu-id="6c143-227">メンバーシップ framework でのキー クラスは、[メンバーシップ クラス](https://msdn.microsoft.com/library/system.web.security.membership.aspx)などのメソッドを持ちます。</span><span class="sxs-lookup"><span data-stu-id="6c143-227">The key class in the Membership framework is the [Membership class](https://msdn.microsoft.com/library/system.web.security.membership.aspx), which has methods like:</span></span>

- <span data-ttu-id="6c143-228">CreateUser</span><span class="sxs-lookup"><span data-stu-id="6c143-228">CreateUser</span></span>
- <span data-ttu-id="6c143-229">DeleteUser</span><span class="sxs-lookup"><span data-stu-id="6c143-229">DeleteUser</span></span>
- <span data-ttu-id="6c143-230">GetAllUsers</span><span class="sxs-lookup"><span data-stu-id="6c143-230">GetAllUsers</span></span>
- <span data-ttu-id="6c143-231">GetUser</span><span class="sxs-lookup"><span data-stu-id="6c143-231">GetUser</span></span>
- <span data-ttu-id="6c143-232">UpdateUser</span><span class="sxs-lookup"><span data-stu-id="6c143-232">UpdateUser</span></span>
- <span data-ttu-id="6c143-233">ValidateUser</span><span class="sxs-lookup"><span data-stu-id="6c143-233">ValidateUser</span></span>

<span data-ttu-id="6c143-234">メンバーシップ フレームワークを使用して、[プロバイダー モデル](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx)、クリーンにメンバーシップ フレームワークの API の実装から分離します。</span><span class="sxs-lookup"><span data-stu-id="6c143-234">The Membership framework uses the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), which cleanly separates the Membership framework's API from its implementation.</span></span> <span data-ttu-id="6c143-235">これにより、一般的な API を使用することができますが、アプリケーションのカスタムのニーズに合った実装を使用するように、権限します。</span><span class="sxs-lookup"><span data-stu-id="6c143-235">This enables developers to use a common API, but empowers them to use an implementation that meets their application's custom needs.</span></span> <span data-ttu-id="6c143-236">要するに、メンバーシップ クラスは (、メソッド、プロパティ、およびイベント)、フレームワークの重要な機能を定義していますが、任意の実装の詳細が実際に指定されていません。</span><span class="sxs-lookup"><span data-stu-id="6c143-236">In short, the Membership class defines the essential functionality of the framework (the methods, properties, and events), but does not actually supply any implementation details.</span></span> <span data-ttu-id="6c143-237">代わりに、メンバーシップ クラスのメソッドを呼び出すは構成されているプロバイダーでは、実際の作業を実行します。</span><span class="sxs-lookup"><span data-stu-id="6c143-237">Instead, the methods of the Membership class invoke the configured provider, which is what performs the actual work.</span></span> <span data-ttu-id="6c143-238">たとえばのメンバーシップ クラスは、CreateUser メソッドが呼び出されたときに、メンバーシップ クラスは、ユーザー ストアの詳細を知りません。</span><span class="sxs-lookup"><span data-stu-id="6c143-238">For example, when the Membership class's CreateUser method is invoked, the Membership class doesn't know the details of the user store.</span></span> <span data-ttu-id="6c143-239">ユーザーがデータベースまたは XML ファイルまたはその他のストアに保持されているかどうかを認識していません。</span><span class="sxs-lookup"><span data-stu-id="6c143-239">It doesn't know if users are being maintained in a database or in an XML file or in some other store.</span></span> <span data-ttu-id="6c143-240">メンバーシップ クラスは、検査への呼び出しを委任するには、どのようなプロバイダーを決定する、web アプリケーションの構成と、そのプロバイダー クラスは、実際には、適切なユーザー ストアに新しいユーザー アカウントの作成を担当します。</span><span class="sxs-lookup"><span data-stu-id="6c143-240">The Membership class examines the web application's configuration to determine what provider to delegate the call to, and that provider class is responsible for actually creating the new user account in the appropriate user store.</span></span> <span data-ttu-id="6c143-241">図 3 には、この操作を示します。</span><span class="sxs-lookup"><span data-stu-id="6c143-241">This interaction is illustrated in Figure 3.</span></span>

<span data-ttu-id="6c143-242">Microsoft では、2 つのメンバーシップ プロバイダー クラスは、.NET Framework に付属します。</span><span class="sxs-lookup"><span data-stu-id="6c143-242">Microsoft ships two Membership provider classes in the .NET Framework:</span></span>

- <span data-ttu-id="6c143-243">[ActiveDirectoryMembershipProvider](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) -Active Directory と Active Directory Application Mode (ADAM) サーバー で、メンバーシップ API を実装します。</span><span class="sxs-lookup"><span data-stu-id="6c143-243">[ActiveDirectoryMembershipProvider](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) - implements the Membership API in Active Directory and Active Directory Application Mode (ADAM) servers.</span></span>
- <span data-ttu-id="6c143-244">[SqlMembershipProvider](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx) -SQL Server データベースで、メンバーシップ API を実装します。</span><span class="sxs-lookup"><span data-stu-id="6c143-244">[SqlMembershipProvider](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx) - implements the Membership API in a SQL Server database.</span></span>

<span data-ttu-id="6c143-245">この一連のチュートリアルについては、SqlMembershipProvider した場合にのみ焦点を当てます。</span><span class="sxs-lookup"><span data-stu-id="6c143-245">This tutorial series focuses exclusively on the SqlMembershipProvider.</span></span>


<span data-ttu-id="6c143-246">[![プロバイダー モデルにより、さまざまな実装をシームレスに接続されているに、フレームワーク](security-basics-and-asp-net-support-vb/_static/image4.png)](security-basics-and-asp-net-support-vb/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="6c143-246">[![The Provider Model Enables Different Implementations to be Seamlessly Plugged Into the Framework](security-basics-and-asp-net-support-vb/_static/image4.png)](security-basics-and-asp-net-support-vb/_static/image3.png)</span></span>

<span data-ttu-id="6c143-247">**図 03**: のプロバイダー モデルにより、さまざまな実装をシームレスに接続されているに、フレームワーク ([フルサイズのイメージを表示するをクリックして](security-basics-and-asp-net-support-vb/_static/image5.png))</span><span class="sxs-lookup"><span data-stu-id="6c143-247">**Figure 03**: The Provider Model Enables Different Implementations to be Seamlessly Plugged Into the Framework ([Click to view full-size image](security-basics-and-asp-net-support-vb/_static/image5.png))</span></span>


<span data-ttu-id="6c143-248">プロバイダー モデルの利点は、別の実装の Microsoft、サード パーティ ベンダーまたは個々 の開発者が開発したおよびメンバーシップ フレームワークにシームレスに接続されていることです。</span><span class="sxs-lookup"><span data-stu-id="6c143-248">The benefit of the provider model is that alternative implementations can be developed by Microsoft, third-party vendors, or individual developers and seamlessly plugged into the Membership framework.</span></span> <span data-ttu-id="6c143-249">たとえば、リリースしました[Microsoft Access データベースのメンバーシップ プロバイダー](https://download.microsoft.com/download/5/5/b/55bc291f-4316-4fd7-9269-dbf9edbaada8/sampleaccessproviders.vsi)です。</span><span class="sxs-lookup"><span data-stu-id="6c143-249">For example, Microsoft has released [a Membership provider for Microsoft Access databases](https://download.microsoft.com/download/5/5/b/55bc291f-4316-4fd7-9269-dbf9edbaada8/sampleaccessproviders.vsi).</span></span> <span data-ttu-id="6c143-250">メンバーシップ プロバイダーの詳細についてを参照してください、[プロバイダー ツールキット](https://msdn.microsoft.com/asp.net/aa336558.aspx)、メンバーシップ プロバイダー、サンプルのカスタム プロバイダー、100 を超えるページのプロバイダー モデルのドキュメントのチュートリアルが含まれていると、組み込みのメンバーシップ プロバイダー (つまり、ActiveDirectoryMembershipProvider および SqlMembershipProvider) のソース コードを完了します。</span><span class="sxs-lookup"><span data-stu-id="6c143-250">For more information on the Membership providers, refer to the [Provider Toolkit](https://msdn.microsoft.com/asp.net/aa336558.aspx), which includes a walkthrough of the Membership providers, sample custom providers, over 100 pages of documentation on the provider model, and the complete source code for the built-in Membership providers (namely, ActiveDirectoryMembershipProvider and SqlMembershipProvider).</span></span>

<span data-ttu-id="6c143-251">また、ASP.NET 2.0 には、ロール フレームワークが導入されました。</span><span class="sxs-lookup"><span data-stu-id="6c143-251">ASP.NET 2.0 also introduced the Roles framework.</span></span> <span data-ttu-id="6c143-252">メンバーシップ フレームワークと同様にロール フレームワークはプロバイダー モデルの上に構築されます。</span><span class="sxs-lookup"><span data-stu-id="6c143-252">Like the Membership framework, the Roles framework is built atop the provider model.</span></span> <span data-ttu-id="6c143-253">使用して、API が公開されている、[ロール クラス](https://msdn.microsoft.com/library/system.web.security.roles.aspx)と .NET Framework が 3 つのプロバイダー クラスが付属しています。</span><span class="sxs-lookup"><span data-stu-id="6c143-253">Its API is exposed via the [Roles class](https://msdn.microsoft.com/library/system.web.security.roles.aspx) and the .NET Framework ships with three provider classes:</span></span>

- <span data-ttu-id="6c143-254">[AuthorizationStoreRoleProvider](https://msdn.microsoft.com/library/system.web.security.authorizationstoreroleprovider.aspx) -Active Directory または ADAM など、承認マネージャーのポリシー ストアのロール情報を管理します。</span><span class="sxs-lookup"><span data-stu-id="6c143-254">[AuthorizationStoreRoleProvider](https://msdn.microsoft.com/library/system.web.security.authorizationstoreroleprovider.aspx) - manages role information in an authorization-manager policy store, such as Active Directory or ADAM.</span></span>
- <span data-ttu-id="6c143-255">[SqlRoleProvider](https://msdn.microsoft.com/library/system.web.security.sqlroleprovider.aspx) -SQL Server データベースにロールを実装します。</span><span class="sxs-lookup"><span data-stu-id="6c143-255">[SqlRoleProvider](https://msdn.microsoft.com/library/system.web.security.sqlroleprovider.aspx) - implements roles in a SQL Server database.</span></span>
- <span data-ttu-id="6c143-256">[WindowsTokenRoleProvider](https://msdn.microsoft.com/library/system.web.security.windowstokenroleprovider.aspx) -訪問者の Windows グループに基づくロール情報を関連付けます。</span><span class="sxs-lookup"><span data-stu-id="6c143-256">[WindowsTokenRoleProvider](https://msdn.microsoft.com/library/system.web.security.windowstokenroleprovider.aspx) - associates role information based on the visitor's Windows group.</span></span> <span data-ttu-id="6c143-257">このメソッドは通常、Windows 認証で使用されます。</span><span class="sxs-lookup"><span data-stu-id="6c143-257">This method is typically used with Windows authentication.</span></span>

<span data-ttu-id="6c143-258">この一連のチュートリアルについては、SqlRoleProvider した場合にのみ焦点を当てます。</span><span class="sxs-lookup"><span data-stu-id="6c143-258">This tutorial series focuses exclusively on the SqlRoleProvider.</span></span>

<span data-ttu-id="6c143-259">プロバイダー モデルには、単一の前向きの API (メンバーシップとロール クラス) が含まれているため、実装の詳細について心配することがなく API の機能を構築することは - ページで選択されたプロバイダーで処理されます。開発者です。</span><span class="sxs-lookup"><span data-stu-id="6c143-259">Since the provider model includes a single forward-facing API (the Membership and Roles classes), it is possible to build functionality around that API without having to worry about the implementation details - those are handled by the providers selected by the page developer.</span></span> <span data-ttu-id="6c143-260">この統一された API では、Web コントロールのメンバーシップとロールのフレームワークでは、そのインターフェイスを構築するには、Microsoft とサード パーティ ベンダー。</span><span class="sxs-lookup"><span data-stu-id="6c143-260">This unified API allows for Microsoft and third-party vendors to build Web controls that interface with the Membership and Roles frameworks.</span></span> <span data-ttu-id="6c143-261">ASP.NET の数に付属して[ログイン Web コントロール](https://msdn.microsoft.com/library/ms178329.aspx)一般的なユーザー アカウントのユーザー インターフェイスを実装するためです。</span><span class="sxs-lookup"><span data-stu-id="6c143-261">ASP.NET ships with a number of [Login Web controls](https://msdn.microsoft.com/library/ms178329.aspx) for implementing common user account user interfaces.</span></span> <span data-ttu-id="6c143-262">たとえば、[ログイン コントロール](https://msdn.microsoft.com/library/system.web.ui.webcontrols.login.aspx)、それらを検証し、フォーム認証を使用してログオンし、それらの自分の資格情報をユーザーに要求します。</span><span class="sxs-lookup"><span data-stu-id="6c143-262">For example, the [Login control](https://msdn.microsoft.com/library/system.web.ui.webcontrols.login.aspx) prompts a user for their credentials, validates them, and then logs them in via forms authentication.</span></span> <span data-ttu-id="6c143-263">[LoginView コントロール](https://msdn.microsoft.com/library/system.web.ui.webcontrols.loginview.aspx)匿名ユーザー認証されたユーザーとに異なるマークアップまたはユーザーのロールに基づいて、異なるマークアップを表示するためのテンプレートを提供します。</span><span class="sxs-lookup"><span data-stu-id="6c143-263">The [LoginView control](https://msdn.microsoft.com/library/system.web.ui.webcontrols.loginview.aspx) offers templates for displaying different markup to anonymous users versus authenticated users, or different markup based on the user's role.</span></span> <span data-ttu-id="6c143-264">および[CreateUserWizard コントロール](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.aspx)新しいユーザー アカウントを作成するためのステップ バイ ステップのユーザー インターフェイスを提供します。</span><span class="sxs-lookup"><span data-stu-id="6c143-264">And the [CreateUserWizard control](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.aspx) provides a step-by-step user interface for creating a new user account.</span></span>

<span data-ttu-id="6c143-265">背後のさまざまなログイン コントロールは、メンバーシップとロールのフレームワークと対話します。</span><span class="sxs-lookup"><span data-stu-id="6c143-265">Underneath the covers the various Login controls interact with the Membership and Roles frameworks.</span></span> <span data-ttu-id="6c143-266">1 行のコードを記述することがなく、ほとんどのログイン コントロールを実装できます。</span><span class="sxs-lookup"><span data-stu-id="6c143-266">Most Login controls can be implemented without having to write a single line of code.</span></span> <span data-ttu-id="6c143-267">拡張、およびそれらの機能をカスタマイズする方法を含む将来のチュートリアルではこれらのコントロールをさらに詳しく見ていきます。</span><span class="sxs-lookup"><span data-stu-id="6c143-267">We will examine these controls in greater detail in future tutorials, including techniques for extending and customizing their functionality.</span></span>

## <a name="summary"></a><span data-ttu-id="6c143-268">まとめ</span><span class="sxs-lookup"><span data-stu-id="6c143-268">Summary</span></span>

<span data-ttu-id="6c143-269">ユーザー アカウントをサポートするすべての web アプリケーションのような機能が必要など: ユーザーがログインし、ページの訪問; の間で記憶状態で、次のログがある機能アカウントを作成する新しい訪問者の web ページでき、ページの開発者にどのようなリソース、データ、および機能がどのようなユーザーまたはロールに利用可能なを指定します。</span><span class="sxs-lookup"><span data-stu-id="6c143-269">All web applications that support user accounts require similar features, such as: the ability for users to log in and have their log in status remembered across page visits; a web page for new visitors to create an account; and the ability to the page developer to specify what resource, data, and functionality are available to what users or roles.</span></span> <span data-ttu-id="6c143-270">認証および承認のユーザーとユーザー アカウントとロールを管理するためのタスクは、フォーム認証、URL の承認、およびメンバーシップとロール フレームワーク感謝の ASP.NET アプリケーションで達成する非常に簡単です。</span><span class="sxs-lookup"><span data-stu-id="6c143-270">The tasks of authenticating and authorizing users and of managing user accounts and roles is remarkably easy to accomplish in ASP.NET applications thanks to forms authentication, URL authorization, and the Membership and Roles frameworks.</span></span>

<span data-ttu-id="6c143-271">次のいくつかのチュートリアルの過程段階的に一から web アプリケーションを構築して、このような側面を確認します。</span><span class="sxs-lookup"><span data-stu-id="6c143-271">Over the course of the next several tutorials we will examine these aspects by building a working web application from the ground up in a step-by-step fashion.</span></span> <span data-ttu-id="6c143-272">次の 2 つのチュートリアルでは、フォーム認証の詳細を調査します。</span><span class="sxs-lookup"><span data-stu-id="6c143-272">In the next two tutorial we will explore forms authentication in detail.</span></span> <span data-ttu-id="6c143-273">ログインし、ログアウトへの訪問者は、web アプリケーションを構築しているときに、フォーム認証ワークフローの動作、フォーム認証チケット使い慣れて分析してみます、セキュリティ上の問題を説明およびフォーム認証システムを構成する方法を参照してください - が表示されます。</span><span class="sxs-lookup"><span data-stu-id="6c143-273">We will see the forms authentication workflow in action, dissect the forms authentication ticket, discuss security concerns, and see how to configure the forms authentication system - all while building a web application that allows visitors to log in and log out.</span></span>

<span data-ttu-id="6c143-274">満足プログラミング!</span><span class="sxs-lookup"><span data-stu-id="6c143-274">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="6c143-275">関連項目</span><span class="sxs-lookup"><span data-stu-id="6c143-275">Further Reading</span></span>

<span data-ttu-id="6c143-276">このチュートリアルで説明したトピックの詳細については、次の情報を参照してください。</span><span class="sxs-lookup"><span data-stu-id="6c143-276">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="6c143-277">ASP.NET 2.0 のメンバーシップ、ロール、フォーム認証、およびセキュリティ リソース</span><span class="sxs-lookup"><span data-stu-id="6c143-277">ASP.NET 2.0 Membership, Roles, Forms Authentication, and Security Resources</span></span>](https://weblogs.asp.net/scottgu/ASP.NET-2.0-Membership_2C00_-Roles_2C00_-Forms-Authentication_2C00_-and-Security-Resources-)
- [<span data-ttu-id="6c143-278">ASP.NET 2.0 のセキュリティのガイドライン</span><span class="sxs-lookup"><span data-stu-id="6c143-278">ASP.NET 2.0 Security Guidelines</span></span>](https://msdn.microsoft.com/library/ms998258.aspx)
- [<span data-ttu-id="6c143-279">ASP.NET の認証</span><span class="sxs-lookup"><span data-stu-id="6c143-279">ASP.NET Authentication</span></span>](https://msdn.microsoft.com/library/eeyk640h.aspx)
- [<span data-ttu-id="6c143-280">ASP.NET の承認</span><span class="sxs-lookup"><span data-stu-id="6c143-280">ASP.NET Authorization</span></span>](https://msdn.microsoft.com/library/wce3kxhd.aspx)
- [<span data-ttu-id="6c143-281">ASP.NET ログイン コントロールの概要</span><span class="sxs-lookup"><span data-stu-id="6c143-281">ASP.NET Login Controls Overview</span></span>](https://msdn.microsoft.com/library/ms178329.aspx)
- [<span data-ttu-id="6c143-282">ASP.NET 2.0 を確認するメンバーシップ、ロール、およびプロファイル</span><span class="sxs-lookup"><span data-stu-id="6c143-282">Examining ASP.NET 2.0's Membership, Roles, and Profile</span></span>](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx)
- [<span data-ttu-id="6c143-283">I: でのメンバーシップとロールを使用して自分のサイトの保護方法</span><span class="sxs-lookup"><span data-stu-id="6c143-283">How Do I: Secure My Site Using Membership and Roles?</span></span>](https://asp.net/learn/videos/video-45.aspx) <span data-ttu-id="6c143-284">(ビデオ)</span><span class="sxs-lookup"><span data-stu-id="6c143-284">(Video)</span></span>
- [<span data-ttu-id="6c143-285">メンバーシップの概要</span><span class="sxs-lookup"><span data-stu-id="6c143-285">Introduction to Membership</span></span>](https://msdn.microsoft.com/library/yh26yfzy.aspx)
- [<span data-ttu-id="6c143-286">MSDN セキュリティ デベロッパー センター</span><span class="sxs-lookup"><span data-stu-id="6c143-286">MSDN Security Developer Center</span></span>](https://msdn.microsoft.com/security/default.aspx)
- <span data-ttu-id="6c143-287">[プロフェッショナル向けの ASP.NET 2.0 セキュリティ、メンバーシップ、およびロール管理](http://www.wrox.com/WileyCDA/WroxTitle/productCd-0764596985.html)(ISBN: 978-0-7645-9698-8)</span><span class="sxs-lookup"><span data-stu-id="6c143-287">[Professional ASP.NET 2.0 Security, Membership, and Role Management](http://www.wrox.com/WileyCDA/WroxTitle/productCd-0764596985.html) (ISBN: 978-0-7645-9698-8)</span></span>
- [<span data-ttu-id="6c143-288">プロバイダー ツールキット</span><span class="sxs-lookup"><span data-stu-id="6c143-288">Provider Toolkit</span></span>](https://msdn.microsoft.com/asp.net/aa336558.aspx)

## <a name="about-the-author"></a><span data-ttu-id="6c143-289">作成者について</span><span class="sxs-lookup"><span data-stu-id="6c143-289">About the Author</span></span>

<span data-ttu-id="6c143-290">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml)、7 つ受け取りますブックとの創設者の作成者[4GuysFromRolla.com](http://www.4guysfromrolla.com)、1998 年からマイクロソフトの Web テクノロジで取り組んできました。</span><span class="sxs-lookup"><span data-stu-id="6c143-290">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="6c143-291">Scott は、コンサルタント、トレーナー、ライターとして機能します。</span><span class="sxs-lookup"><span data-stu-id="6c143-291">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="6c143-292">最新の著書[ *Sam 学べる自分で ASP.NET 2.0 が 24 時間以内に*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)です。</span><span class="sxs-lookup"><span data-stu-id="6c143-292">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="6c143-293">彼に到達できる[ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)彼のブログを使用して含まれているのか[http://ScottOnWriting.NET](http://ScottOnWriting.NET)です。</span><span class="sxs-lookup"><span data-stu-id="6c143-293">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="6c143-294">感謝の特別な</span><span class="sxs-lookup"><span data-stu-id="6c143-294">Special Thanks To</span></span>

<span data-ttu-id="6c143-295">このチュートリアルの系列は既に多くの便利なレビュー担当者によって確認済みです。</span><span class="sxs-lookup"><span data-stu-id="6c143-295">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="6c143-296">このチュートリアルのレビュー担当者の潜在顧客は、このチュートリアルの多くの便利なレビュー担当者によってレビュー済みの系列をでした。</span><span class="sxs-lookup"><span data-stu-id="6c143-296">Lead reviewer for this tutorial was This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="6c143-297">このチュートリアルの潜在顧客レビュー担当者には、Alicja Maziarz、John Suru Teresa マーフィーなどがあります。</span><span class="sxs-lookup"><span data-stu-id="6c143-297">Lead reviewers for this tutorial include Alicja Maziarz, John Suru, and Teresa Murphy.</span></span> <span data-ttu-id="6c143-298">今後、MSDN の記事を確認することに関心のあるですか。</span><span class="sxs-lookup"><span data-stu-id="6c143-298">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="6c143-299">場合は、ドロップ me 一度に 1 行ずつ[mitchell@4GuysFromRolla.comです。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="6c143-299">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="6c143-300">[前へ](forms-authentication-configuration-and-advanced-topics-cs.md)
[次へ](an-overview-of-forms-authentication-vb.md)</span><span class="sxs-lookup"><span data-stu-id="6c143-300">[Previous](forms-authentication-configuration-and-advanced-topics-cs.md)
[Next](an-overview-of-forms-authentication-vb.md)</span></span>
