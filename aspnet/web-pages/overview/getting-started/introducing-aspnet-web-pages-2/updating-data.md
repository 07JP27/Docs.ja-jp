---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/updating-data
title: "ASP.NET Web Pages の概要 - データベースのデータの更新 |Microsoft ドキュメント"
author: tfitzmac
description: "このチュートリアルでは、ASP.NET Web Pages (Razor) を使用する場合は、(変更)、既存のデータベース エントリを更新する方法を示します。 系列を完了すると想定 th しています."
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/02/2018
ms.topic: article
ms.assetid: ac86ec9c-6b69-485b-b9e0-8b9127b13e6b
ms.technology: dotnet-webpages
ms.prod: .net-framework
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/updating-data
msc.type: authoredcontent
ms.openlocfilehash: b016231975bf8d359f4c390b0b478edc383117d4
ms.sourcegitcommit: df2157ae9aeea0075772719c29784425c783e82a
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/10/2018
---
<a name="introducing-aspnet-web-pages---updating-database-data"></a>ASP.NET Web ページの概要 - データベースのデータの更新
====================
によって[Tom FitzMacken](https://github.com/tfitzmac)

> このチュートリアルでは、ASP.NET Web Pages (Razor) を使用する場合は、(変更)、既存のデータベース エントリを更新する方法を示します。 を通じてシリーズを完了すると想定[データの入力を使用してフォームを使用して ASP.NET Web Pages](entering-data.md)です。
> 
> 学習する内容。
> 
> - 個々 のレコードを選択する方法、`WebGrid`ヘルパー。
> - データベースから 1 つのレコードを読み取る方法です。
> - データベース レコードの値を持つフォームをプリロードする方法です。
> - データベースの既存のレコードを更新する方法です。
> - 表示する ページで情報を格納する方法。
> - 隠しフィールドを使用して情報を格納する方法です。
>   
> 
> 説明されている機能/テクノロジ:
> 
> - `WebGrid`ヘルパー。
> - SQL`Update`コマンド。
> - `Database.Execute` メソッド。
> - フィールドを非表示 (`<input type="hidden">`)。


## <a name="what-youll-build"></a>新機能のビルドします。

前のチュートリアルでは、データベースにレコードを追加する方法について学習しました。 ここでは、編集するためのレコードを表示する方法を学習します。 *映画*を更新します ページで、`WebGrid`ヘルパーを表示できるように、**編集**各ムービーの横にあるリンク。

![各ムービーの [編集] リンクを含む WebGrid を表示します。](updating-data/_static/image1.png)

クリックすると、**編集**リンクに移動する異なるページでは、ムービー情報が既にフォームで。

![ムービーを編集することを示すビデオ ページを編集します。](updating-data/_static/image2.png)

任意の値を変更することができます。 変更を送信するときにページ内のコードはデータベースを更新し、ムービーの一覧に戻ることができます。

このプロセスの一部の動作と同様にほぼ、 *AddMovie.cshtml*のため、このチュートリアルの多くはなじみのある、前のチュートリアルで作成したページ。

個々 のムービーを編集する方法を実装することがいくつかの方法はあります。 アプローチには、簡単に実装し、わかりやすいになっているために選ばれました。

## <a name="adding-an-edit-link-to-the-movie-listing"></a>ムービーの一覧を編集 リンクを追加します。

更新を開始する、*映画*ページも一覧表示する各ムービーが含まれるように、**編集**リンクします。

開く、 *Movies.cshtml*ファイル。

ページの本文に次のように変更します。、`WebGrid`列を追加することでマークアップ。 変更後のマークアップを次に示します。

[!code-html[Main](updating-data/samples/sample1.html?highlight=6)]

新しい列では、この 1 つです。

[!code-html[Main](updating-data/samples/sample2.html)]

この列のポイントは、リンクを表示する (`<a>`要素)"Edit"と表示されました。 ページを実行すると、次のように検索するリンクを作成するは私たちの後で、`id`各ムービーのさまざまな値。

[!code-css[Main](updating-data/samples/sample3.css)]

このリンクをという名前のページを呼び出す*EditMovie*、これは、クエリ文字列を渡すと`?id=7`そのページにします。

新しい列の構文は、少し複雑になりますが、いくつかの要素をまとめてそのためにのみです。 各要素は簡単です。 集中する場合だけ、`<a>`要素では、このマークアップを参照してください。

[!code-html[Main](updating-data/samples/sample4.html)]

グリッドの動作に関するいくつかのバック グラウンド: グリッドには、各データベース レコードのいずれかの行が表示されます。 および、データベースのレコードに各フィールドの列が表示されます。 グリッドの各行が構築されるときに、`item`オブジェクトには、その行のデータベースのレコード (アイテム) が含まれています。 これによって、その行のデータを取得するためのコードのことができます。 ここに表示される: 式`item.ID`が現在のデータベース アイテムの ID 値を取得します。 可能性があります (タイトル、ジャンル、または年) のデータベースの値のいずれかと同じ方法を使用して取得`item.Title`、 `item.Genre`、または`item.Year`です。

式`"~/EditMovie?id=@item.ID`ターゲット URL のハード コーディングされた部品を結合 (`~/EditMovie?id=`) 動的に派生この ID に置き換えます。 (説明しました、`~`演算子が前のチュートリアルでは、ASP.NET の操作を現在の web サイトのルートを表すです)。

結果は、列内のマークアップのこの部分だけが生成されること、次のマークアップのようなもの実行時に。

[!code-xml[Main](updating-data/samples/sample5.xml)]

実際の値に必然的に、`id`行ごとに異なります。

## <a name="creating-a-custom-display-for-a-grid-column"></a>グリッド列のカスタムの表示を作成します。

これで、グリッドの列にバックアップします。 3 つの列最初にユーザーが、グリッドが表示されるデータ値のみ (タイトル、ジャンル、および year) です。 この表示を指定されたデータベース列の名前を渡すことによって&mdash;など`grid.Column("Title")`です。

この新しい**編集**リンク列は異なります。 列名を指定するには、代わりに渡す、`format`パラメーター。 このパラメーターを使用して、マークアップを定義できますを`WebGrid`ヘルパーがと共に表示されます、`item`太字または緑として列のデータを表示したり、どのような形式を必要する値。 たとえば、タイトルを太字で表示する場合は、この例のように列を作成できます。

[!code-html[Main](updating-data/samples/sample6.html)]

(さまざまな`@`中の文字、`format`プロパティは、マークアップとコード値間の遷移をマークします)。

知っておくと、`format`プロパティは、理解しやすいだ方法、新しい**編集**リンク列が一緒に配置されます。

[!code-html[Main](updating-data/samples/sample7.html)]

列で構成されます*のみ*のリンクを表示するマークアップをさらにいくつかの情報 (ID) をから抽出された行のデータベース レコードです。

> [!TIP] 
> 
> **名前付きパラメーターとメソッドの位置指定パラメーター**
> 
> 何度もしたメソッドを呼び出してに渡されるパラメーターするだけに表示されることコンマで区切られたパラメーター値。 ここでは例をいくつか示します。
> 
> `db.Execute(insertCommand, title, genre, year)`
> 
> `Validation.RequireField("title", "You must enter a title")`
> 
> このコードは、最初に説明しましたが、各ケースでは、特定の順序のメソッドにパラメーターを渡すしているときに、問題を触れません&mdash;パラメーターがそのメソッドで定義されている順序つまり、します。 `db.Execute`と`Validation.RequireFields`、渡す値の順序を混在している場合は、ページを実行すると、エラー メッセージまたは少なくともいくつか予期しない結果を得られます。 明確でパラメーターを渡す順序を知る必要があります。 (WebMatrix、IntelliSense できますを見つけ出します名前、型、およびパラメーターの順序を学習する。)
> 
> 使用して順序の値を渡す代わりに、*名前付きパラメーター*です。 (を使用すると呼ばれる、順序でパラメーターを渡す*位置指定パラメーター*)。名前付きパラメーターは、明示的に名を含めて、パラメーターの値を渡すときにします。 使用した名前付きパラメーター既に何度もこれらのチュートリアルです。 例:
> 
> [!code-csharp[Main](updating-data/samples/sample8.cs)]
> 
> と、呼び出し
> 
> [!code-css[Main](updating-data/samples/sample9.css)]
> 
> 名前付きパラメーターは、メソッドは、多くのパラメーターを受け取る場合は特に、いくつかのような状況で便利です。 1 つは、1 つまたは 2 つのパラメーターを渡す必要に渡す値がパラメーター リスト内の最初の位置の間ではないです。 別の状況は、自分に最も適した順序でパラメーターを渡すことによって、コードを読みやすくする場合です。
> 
> 当然ながら、名前付きパラメーターを使用するのにパラメーターの名前を認識する必要があります。 WebMatrix IntelliSense できます*表示*する、名前が、できません現在情報を入力します。


## <a name="creating-the-edit-page"></a>[編集] ページを作成します。

作成できるようになりました、 *EditMovie*ページ。 ユーザーがクリックして、**編集**、リンクすることになりますこのページにします。

という名前のページを作成する*EditMovie.cshtml*が次のマークアップ ファイルを置き換えます。

[!code-cshtml[Main](updating-data/samples/sample10.cshtml)]

このマークアップおよびコードある場合に似ていますが、 *AddMovie*ページ。 [送信] ボタンのテキストで小さな違いがあります。 同様、 *AddMovie*  ページでは、`Html.ValidationSummary`呼び出しをいずれかを使用する必要がある場合、検証エラーを表示します。 この時点への呼び出しを除外しているお`Validation.Message`検証概要にエラーが表示されるため、します。 述べたように前のチュートリアルでは、検証の概要と、個々 のエラー メッセージをさまざまな組み合わせで使用できます。

もう一度ことに注意して、`method`の属性、`<form>`要素に設定されている`post`です。 同様、 *AddMovie.cshtml*  ページで、このページでは、変更をデータベースにします。 そのため、このフォームを実行する必要があります、`POST`操作します。 (の違いの詳細について`GET`と`POST`、操作を参照してください、 [GET、POST、および HTTP 動詞の安全性](form-basics.md#GET,_POST,_and_HTTP_Verb_Safety)HTML フォームのチュートリアルではサイドバーです)。

以前のチュートリアルで説明したとおり、`value`テキスト ボックスの属性はそれらをプリロードするために Razor コードで設定されています。 このとき、ただし、使用しているような変数`title`と`genre`の代わりにそのタスクの`Request.Form["title"]`:

`<input type="text" name="title" value="@title" />`

としてする前に、このマークアップが事前に読み込むビデオの値を持つテキスト ボックスの値。 変数を使用するこの時間を使用せずに便利な理由はすぐに表示されます、`Request`オブジェクト。

`<input type="hidden">`のこのページの要素。 この要素は、ページに表示させず、ムービーの ID を格納します。 クエリ文字列の値を使用して、ページに、ID が渡される最初に (`?id=7`または URL に類似)。 非表示のフィールドに ID 値を配置することで行うことができますを使用すること、フォームが送信されるときにページが呼び出された元の URL へのアクセスがある不要になった場合でもです。

異なり、 *AddMovie*ページで、コードを*EditMovie*ページが 2 つの異なる関数を持っています。 最初の関数となるは、ページが最初に表示されます (および*のみ*し)、コードは、クエリ文字列からムービー ID を取得します。 次に、ID を使用して、データベースから対応するムービーを読み取り、表示 (プリロード) に、テキスト ボックスになります。

2 番目の関数となるは、ユーザーがクリックした、**変更を送信**ボタン、コードが、テキスト ボックスの値を読み取るし、それを検証します。 コードは、新しい値を持つデータベース アイテムの更新にもあります。 説明したとおり、この手法は、レコードを追加するよう*AddMovie*です。

## <a name="adding-code-to-read-a-single-movie"></a>1 つのムービーの読み取りにコードを追加します。

最初の関数を実行するには、ページの最上位にこのコードを追加します。

[!code-cshtml[Main](updating-data/samples/sample11.cshtml)]

このコードのほとんどが始まるブロックの内側は`if(!IsPost)`します。 `!`ため、式の意味に、演算子が"not"を意味*場合、この要求が post 送信*、ことわざの間接的な手段である*かどうか、この要求はこのページが実行されて初めて*です。 前述のように、このコードを実行する必要があります*のみ*初めてページを実行します。 内のコードを囲むしなかった場合`if(!IsPost)`はたびに、ページが呼び出されるかどうかを初めて実行、または次のボタンをクリックします。

コードを含む通知、`else`この時間をブロックします。 既に述べたように導入された`if`もテストする条件が true でない場合は、代替コードを実行するブロック。 ここで、ケースです。 (つまり、ページに渡された ID に問題はありません) 場合は、条件が成功した場合は、データベースから行を読み取る。 ただし、条件が満たさない場合、`else`ブロックが実行され、コードが、エラー メッセージを設定します。

## <a name="validating-a-value-passed-to-the-page"></a>ページに渡される値を検証します。

コードを使用して`Request.QueryString["id"]`ページに渡される ID を取得します。 コードにより、ID の値が渡された実際には 値が渡されなかった場合、コードは、検証エラーを設定します。

このコードは、情報を検証する別の方法を示しています。 使用していた以前のチュートリアルでは、`Validation`ヘルパー。 を検証するフィールドを登録して、ASP.NET は自動的には、検証し、を使用してエラーを表示`Html.ValidationMessage`と`Html.ValidationSummary`です。 この場合、ただし、するしている実際にはユーザー入力を検証します。 代わりに、別の場所からのページに渡された値を検証しています。 `Validation`ヘルパーしないを自動的に行うことです。

そのため、値をチェックする、自分で使用してテスト`if(!Request.QueryString["ID"].IsEmpty()`)。 使用して、エラーを表示するには問題がある場合`Html.ValidationSummary`で行ったよう、`Validation`ヘルパー。 呼び出す`Validation.AddFormError`を表示するメッセージを渡します。 `Validation.AddFormError`組み込みのメソッドに慣れている既に検証システムに関連するカスタム メッセージを定義することができますです。 (このチュートリアルの後半で取り上げます、もう少し堅牢なこの検証プロセスを実行する方法について。)

ムービーの ID があることを確認したら、コードは、データベースは、1 つのデータベースのアイテムのみを検索してを読み取ります。 (データベース操作の一般的なパターンがおそらく気付き: データベースを開き、SQL ステートメントを定義して、ステートメントを実行します)。この時点では、SQL`Select`ステートメントが含まれる`WHERE ID = @0`です。 ID は一意であり、1 つのレコードが返されます。

使用して、クエリが実行されます`db.QuerySingle`(いない`db.Query`ムービーの一覧に使用されるため、)、コードに結果を格納して、`row`変数。 名前`row`は任意です。 変数をどのような名前ができます。 上部に初期化される変数は、これらの値は、テキスト ボックスに表示できるように、ムービーの詳細で埋められます。

## <a name="testing-the-edit-page-so-far"></a>テストの編集 ページ (これまで)

ページをテストする場合は、実行、*映画*今すぐ ページをクリックして、**編集**任意のビデオの横にあるリンクします。 表示されます、 *EditMovie*の詳細ページに入力します。 選択したムービー。

![ムービーを編集することを示すビデオ ページを編集します。](updating-data/_static/image3.png)

ページの URL がのようなものが含まれることに注意してください。 `?id=10` (またはその他の番号)。 これまでにテストを実施する**編集**でリンク、*ムービー*作業、ページが、クエリ文字列から ID を読み取って、動作、データベースが 1 つのムービーのレコードを取得するクエリを実行しているページします。

ムービー情報を変更することができますをクリックすると何も起こりません**変更を送信**です。

## <a name="adding-code-to-update-the-movie-with-the-users-changes"></a>ユーザーの変更と、ムービーを更新するコードを追加します。

*EditMovie.cshtml*ファイルを 2 番目の関数 (変更の保存) を実装するには、次のコードを追加の右中かっこの内側、`@`ブロックします。 (コードを配置する正確な場所がわからない場合を表示できる、[ムービーの編集 ページの完全なコード](#Complete_Page_Listing_for_EditMovie)このチュートリアルの最後に表示される)。

[!code-csharp[Main](updating-data/samples/sample12.cs)]

このマークアップおよびコードが内のコードに似ていますが、もう一度*AddMovie*です。 コードに、`if(IsPost)`ブロック、ユーザーがクリックした場合にのみ、このコードが実行されるため、**変更を送信**ボタン&mdash;は、ときに、場合にのみ) フォームがポストされました。 この場合、使用していないようなテスト`if(IsPost && Validation.IsValid())`— はないと組み合わせている両方のテストを使用しています。 このページで確認するフォームの送信があるかどうか (`if(IsPost)`)、のみし、検証のためのフィールドを登録します。 検証結果をテストすることができますし、(`if(Validation.IsValid()`)。 フローが若干異なりますで、 *AddMovie.cshtml*  ページが、効果は同じです。

使用して、テキスト ボックスの値を取得する`Request.Form["title"]`と、他の同様のコード`<input>`要素。 今回は、コードを取得するムービー ID 隠しフィールド外に注意してください (`<input type="hidden">`)。 ときに、ページでは、最初に実行、コードは、クエリ文字列から ID を受け取りました。 クエリ文字列は以来何らかの理由で変更された場合に、最初に表示されていた、ムービーの ID を取得しているかどうかを確認する隠しフィールドから値を取得します。

非常に重要な違い、 *AddMovie*コードとこのコードは、このコードでは、SQL を使用することを`Update`ステートメントの代わりに、`Insert Into`ステートメントです。 次の例は、SQL の構文を示しています。`Update`ステートメント。

`UPDATE table SET col1="value", col2="value", col3="value" ... WHERE ID = value`

任意の順序ですべての列を指定でき、必ずしもでは、中にすべての列を更新する必要はありません、`Update`操作します。 (新しいレコードとしてレコードを保存するが有効の許可されていないため自体、ID を更新することはできません、`Update`操作します)。

> [!NOTE] 
> 
> **重要な**、`Where`データベースがどのデータベースを認識する方法は、ID を持つ句が非常に重要なレコードを更新します。 中断した場合、`Where`句、データベースが更新*すべて*データベースに記録します。 ほとんどの場合、災害になります。


コードでは、更新する値は、プレース ホルダーを使用して、SQL ステートメントに渡されます。 前に述べたしたを繰り返す: セキュリティ上の理由から、*のみ*SQL ステートメントに値を渡すプレース ホルダーを使用します。

コードを使用して後`db.Execute`を実行する、`Update`変更を確認できる、一覧のページに戻るステートメントにリダイレクトします。

> [!TIP] 
> 
> **別の SQL ステートメント、さまざまな方法**
> 
> お気付き少し異なる方法を使用して、別の SQL ステートメントを実行することです。 実行する、`Select`クエリの可能性がありますを返します。 複数のレコードで使用する、`Query`メソッドです。 実行する、`Select`がわかっているクエリが 1 つだけデータベースのアイテムを返すを使用する、`QuerySingle`メソッドです。 使用する変更を加えることが、データベースのアイテムを返さないコマンドを実行する、`Execute`メソッドです。
> 
> 間の違いで既に説明したようにさまざまな方法を異なる結果が返されるそれぞれのために存在する必要が`Query`と`QuerySingle`です。 (、`Execute`メソッド実際に値を返しますも&mdash;コマンドによって影響を受けた行の数、つまり&mdash;するしたされて無視をこれまではします)。
> 
> もちろん、`Query`メソッドは、1 つだけデータベースの行を返す場合があります。 ただし、ASP.NET 常には処理の結果、`Query`コレクションとしてのメソッドです。 メソッドが 1 行だけを返す場合でもその 1 つの行をコレクションから抽出する必要があります。 状況でこのため、場所する*知る*1 行のみが返されます、これは使いやすいビット`QuerySingle`です。
> 
> 特定の種類のデータベース操作を実行するその他のいくつかの方法はあります。 データベースのメソッドの一覧を見つけることができます、 [ASP.NET Web Pages API のクイック リファレンス](../../api-reference/asp-net-web-pages-api-reference.md#Data)です。


## <a name="making-validation-for-the-id-more-robust"></a>堅牢な ID の複数の検証を行う

ページの実行、初めて ID を取得したムービー クエリ文字列からそのムービーをデータベースから取得を移動できるようにします。 実際にはこのコードを使用して行った、検索する値を確認しました。

[!code-csharp[Main](updating-data/samples/sample13.cs)]

確認して、ユーザーを取得する場合にこのコードを使用した、 *EditMovies*  ページでビデオを選択せず、*映画* ページで、わかりやすいエラー メッセージが表示されるページです。 (それ以外の場合、ユーザーが参照と混同する多くの場合、エラー)。

ただし、この検証は、堅牢性はありません。 ページは、これらのエラーと共にも呼び出される可能性があります。

- ID では、数値はありません。 たとえばのように URL を使用して、ページを呼び出すことができます`http://localhost:nnnnn/EditMovie?id=abc`です。
- ID は、数値が存在しないムービーを参照して (たとえば、 `http://localhost:nnnnn/EditMovie?id=100934`)。

これらの Url は、実行に起因するエラーを表示する興味があるなら、*映画*ページ。 ビデオの編集を選択しの URL を変更、 *EditMovie*英字を含む URL へのページングを ID または存在しない映画の ID。

これは何か。 最初の解決策では、ことだけでなく、ID に渡される、ページが、ID が整数であるかどうかを確認します。 コードを変更、`!IsPost`テストをこの例のようになります。

[!code-csharp[Main](updating-data/samples/sample14.cs)]

2 番目の条件を追加した、`IsEmpty`にリンクされているテスト`&&`(論理 AND)。

[!code-csharp[Main](updating-data/samples/sample15.cs)]

留意することがあります、 [ASP.NET Web Pages のプログラミングの概要](../introducing-razor-syntax-c.md)などのメソッドを説明するチュートリアル`AsBool`、`AsInt`文字の文字列をその他の任意のデータ型に変換します。 `IsInt`メソッド (など、他のユーザーおよび`IsBool`と`IsDateTime`) と似ています。 ただし、それらをテストのみかどうかを*できます*実際には、変換を実行せず、文字列に変換します。 基本的に指示しているので、ここで、*クエリ文字列の値を整数に変換できる場合.*.

他の潜在的な問題はムービーが存在しないを探しています。 ムービーを取得するコードは、このコードのようになります。

[!code-csharp[Main](updating-data/samples/sample16.cs)]

渡す場合、`movieId`値を`QuerySingle`実際ムービーに対応していないメソッドの場合は、何も行われませんが返され、ステートメントをに従って (たとえば、 `title=row.Title`) にエラーが発生します。

もう一度が簡単に解決します。 場合、`db.QuerySingle`メソッドには、結果が返されない、`row`変数は null になります。 チェックできるようにするかどうか、`row`からその値を取得しようとする前に、変数が null です。 次のコードを追加、`if`の値を取得するステートメントの周囲、`row`オブジェクト。

[!code-csharp[Main](updating-data/samples/sample17.cs)]

これら 2 つの追加の検証テストより堅牢ながページになります。 完全なコード、`!IsPost`ブランチは次の例のようになります。

[!code-csharp[Main](updating-data/samples/sample18.cs)]

おわかりますもう一度このタスクは、の良い使用、`else`ブロックします。 テストが成功しない場合、`else`ブロックがエラー メッセージを設定します。

## <a name="adding-a-link-to-return-to-the-movies-page"></a>映画のページに戻るためのリンクを追加します。

リンクを追加するのには、最終で役立つ詳細に戻る、*映画*ページ。 通常のフロー イベント、ユーザーがで開始されます、*映画*ページ、をクリックし、**編集**リンクします。 表示される、 *EditMovie*  ページで、ムービーを編集し、ボタンをクリックします。 戻るリダイレクト、コードが、変更を処理した後、*映画*ページ。

ただし。

- ユーザー情報は一切変更しないように指定します。
- クリックしてせず、このページにユーザーを受けている可能性があります、**編集**内のリンク、*映画*ページ。

メインの一覧を返すことを簡単にするどちらにしても、します。 簡単な解決策は&mdash;終了の直後に、次のマークアップを追加`</form>`マークアップ タグ。

[!code-html[Main](updating-data/samples/sample19.html)]

このマークアップの同じ構文を使用して、`<a>`要素を別の場所を見てきました。 URL が含まれます`~`「web サイトのルートです」ことを意味するには。

## <a name="testing-the-movie-update-process"></a>ムービーの更新プロセスのテスト

これで次のようにテストすることができます。 実行、*映画* ページで、をクリックして**編集**ムービーの横にあります。 ときに、 *EditMovie*ページが表示されたら、および変更する、ムービーをクリックして**変更を送信**です。 ムービーの一覧が表示される場合、変更内容が表示されているかどうかを確認します。

検証が動作していることを確認して、をクリックして**編集**別ムービーにします。 取得するときに、 *EditMovie*  ページで、クリア、**ジャンル**フィールド (または**年**フィールド、またはその両方) の変更を送信しようとします。 予想できるように、エラーが表示されます。

![検証エラーを示すビデオ ページを編集します。](updating-data/_static/image4.png)

をクリックして、**ムービーの一覧に戻る**のリンクを変更を破棄してに戻り、*映画*ページ。

## <a name="coming-up-next"></a>次へ直近の見通し

次のチュートリアルでは、ムービーのレコードを削除する方法が表示されます。

## <a name="complete-listing-for-movie-page-updated-with-edit-links"></a>(リンクの編集と更新された) ビデオ ページの完全な一覧

[!code-cshtml[Main](updating-data/samples/sample20.cshtml)]

<a id="Complete_Page_Listing_for_EditMovie"></a>
## <a name="complete-page-listing-for-edit-movie-page"></a>ムービーの編集 ページのページの一覧を完了します。

[!code-cshtml[Main](updating-data/samples/sample21.cshtml)]

## <a name="additional-resources"></a>その他のリソース

- [Razor 構文を使用して ASP.NET Web プログラミングの概要](../../getting-started/introducing-razor-syntax-c.md)
- [SQL UPDATE ステートメント](http://www.w3schools.com/sql/sql_update.asp)W3Schools サイト

>[!div class="step-by-step"]
[前へ](entering-data.md)
[次へ](deleting-data.md)
