---
uid: web-pages/overview/releases/top-features-in-web-pages-2
title: ASP.NET Web Pages 2 での主要な機能 |Microsoft Docs
author: microsoft
description: このトピックでは、ASP.NET の Web ページ 2、WebMatr に含まれている軽量な web プログラミング フレームワークの最上位の新機能の概要を提供します。
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/13/2012
ms.topic: article
ms.assetid: cc712e72-c3d0-4e43-bc2d-28cc09cd8f71
ms.technology: dotnet-webpages
msc.legacyurl: /web-pages/overview/releases/top-features-in-web-pages-2
msc.type: authoredcontent
ms.openlocfilehash: 3cdb9d83e0f612ad7404bfaa9721b580916e112d
ms.sourcegitcommit: 953ff9ea4369f154d6fd0239599279ddd3280009
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/03/2018
ms.locfileid: "37385267"
---
<a name="the-top-features-in-aspnet-web-pages-2"></a><span data-ttu-id="93ace-103">ASP.NET Web Pages 2 の主な機能</span><span class="sxs-lookup"><span data-stu-id="93ace-103">The Top Features in ASP.NET Web Pages 2</span></span>
====================
<span data-ttu-id="93ace-104">によって[Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="93ace-104">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="93ace-105">この記事では、ASP.NET Web Pages 2 rc では、軽量な web プログラミングのフレームワークに含まれている新機能のトップの概説[Microsoft WebMatrix 2 RC](https://www.microsoft.com/web/)します。</span><span class="sxs-lookup"><span data-stu-id="93ace-105">This article provides an overview of the top new features in the ASP.NET Web Pages 2 RC, a lightweight web programming framework that is included with [Microsoft WebMatrix 2 RC](https://www.microsoft.com/web/).</span></span>
> 
> <span data-ttu-id="93ace-106">**何が含まれます。**</span><span class="sxs-lookup"><span data-stu-id="93ace-106">**What's included:**</span></span> 
> 
> - [<span data-ttu-id="93ace-107">WebMatrix をインストールします。</span><span class="sxs-lookup"><span data-stu-id="93ace-107">Installing WebMatrix</span></span>](#install)
> - [<span data-ttu-id="93ace-108">新しい強化された機能</span><span class="sxs-lookup"><span data-stu-id="93ace-108">New and enhanced features</span></span>](#New_and_Enhanced_Features)
> 
>     - [<span data-ttu-id="93ace-109">RC のリリースの変更</span><span class="sxs-lookup"><span data-stu-id="93ace-109">Changes for the RC release</span></span>](#Changes_for_the_RC_Version)
>     - [<span data-ttu-id="93ace-110">ベータ リリースの変更</span><span class="sxs-lookup"><span data-stu-id="93ace-110">Changes for the Beta release</span></span>](#Changes_for_the_Beta_Version)
>     - [<span data-ttu-id="93ace-111">新規および更新されたサイト テンプレートを使用します。</span><span class="sxs-lookup"><span data-stu-id="93ace-111">Using the New and Updated Site Templates</span></span>](#templates)
>     - [<span data-ttu-id="93ace-112">ユーザー入力の検証</span><span class="sxs-lookup"><span data-stu-id="93ace-112">Validating User Input</span></span>](#validation)
>     - [<span data-ttu-id="93ace-113">Facebook と OAuth および OpenID を使用して他のサイトからのログインを有効にします。</span><span class="sxs-lookup"><span data-stu-id="93ace-113">Enabling logins from Facebook and other sites using OAuth and OpenID</span></span>](#oauthsetup)
>     - [<span data-ttu-id="93ace-114">マップ ヘルパーを使用してマップを追加します。</span><span class="sxs-lookup"><span data-stu-id="93ace-114">Adding Maps using the Maps Helper</span></span>](#maphelper)
>     - [<span data-ttu-id="93ace-115">サイド バイ サイドの Web ページ アプリケーションを実行します。</span><span class="sxs-lookup"><span data-stu-id="93ace-115">Running Web Pages Applications Side by Side</span></span>](#sidebyside)
>     - [<span data-ttu-id="93ace-116">モバイル デバイス用ページのレンダリング</span><span class="sxs-lookup"><span data-stu-id="93ace-116">Rendering Pages for Mobile Devices</span></span>](#mobile)
> - [<span data-ttu-id="93ace-117">その他のリソース</span><span class="sxs-lookup"><span data-stu-id="93ace-117">Additional Resources</span></span>](#resources)
> 
> > [!NOTE]
> > <span data-ttu-id="93ace-118">このトピックでは、ASP.NET Web Pages 2、コードを操作する WebMatrix を使用していることを前提としています。</span><span class="sxs-lookup"><span data-stu-id="93ace-118">This topic assumes that you are using WebMatrix to work with your ASP.NET Web Pages 2 code.</span></span> <span data-ttu-id="93ace-119">ただし、ように Web ページ 1 の場合は、Visual Studio を使用して Web ページ 2 の web サイトを作成することは IntelliSense の機能とデバッグに拡張を使用できます。</span><span class="sxs-lookup"><span data-stu-id="93ace-119">However, as with Web Pages 1, you can also create Web Pages 2 websites using Visual Studio, which gives you enhanced IntelliSense capabilities and debugging.</span></span> <span data-ttu-id="93ace-120">Visual Studio で Web ページを操作するには、まず、Visual Studio 2010 SP1、Visual Web Developer Express 2010 SP1、または Visual Studio 11 Beta をインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="93ace-120">To work with Web Pages in Visual Studio, you must first install Visual Studio 2010 SP1, Visual Web Developer Express 2010 SP1, or Visual Studio 11 Beta.</span></span> <span data-ttu-id="93ace-121">テンプレートと Visual Studio で ASP.NET MVC 4 と Web ページ 2 アプリケーションを作成するためのツールを含む ASP.NET MVC 4 Beta をインストールします。</span><span class="sxs-lookup"><span data-stu-id="93ace-121">Then install the ASP.NET MVC 4 Beta, which includes templates and tools for creating ASP.NET MVC 4 and Web Pages 2 applications in Visual Studio.</span></span>
> 
> 
> <span data-ttu-id="93ace-122">*最終更新: 2012 年 6 月の 18*</span><span class="sxs-lookup"><span data-stu-id="93ace-122">*Last update: 18 June 2012*</span></span>


<a id="install"></a>
## <a name="installing-webmatrix"></a><span data-ttu-id="93ace-123">WebMatrix をインストールします。</span><span class="sxs-lookup"><span data-stu-id="93ace-123">Installing WebMatrix</span></span>

<span data-ttu-id="93ace-124">Web ページをインストールするにをインストールして web 関連のテクノロジを構成するが容易にする無料のアプリケーションは、Microsoft Web プラットフォーム インストーラーを使用できます。</span><span class="sxs-lookup"><span data-stu-id="93ace-124">To install Web Pages, you can use the Microsoft Web Platform Installer, which is a free application that makes it easy to install and configure web-related technologies.</span></span> <span data-ttu-id="93ace-125">Web ページ 2 のベータ版を含む WebMatrix 2 の Beta をインストールします。</span><span class="sxs-lookup"><span data-stu-id="93ace-125">You will install the WebMatrix 2 Beta, which includes Web Pages 2 Beta.</span></span>

1. <span data-ttu-id="93ace-126">Web Platform Installer の最新バージョンのインストール ページを参照してください。</span><span class="sxs-lookup"><span data-stu-id="93ace-126">Browse to the installation page for the latest version of the Web Platform Installer:</span></span>

    [https://go.microsoft.com/fwlink/?LinkId=226883](https://go.microsoft.com/fwlink/?LinkId=226883)

    > [!NOTE]
    > <span data-ttu-id="93ace-127">WebMatrix 1 がインストールされて既にある場合は、このインストールにより WebMatrix 2 ベータ版に更新します。</span><span class="sxs-lookup"><span data-stu-id="93ace-127">If you already have WebMatrix 1 installed, this installation updates it to WebMatrix 2 Beta.</span></span> <span data-ttu-id="93ace-128">同じコンピューター上のバージョン 1 または 2 を使用して作成された web サイトを実行できます。</span><span class="sxs-lookup"><span data-stu-id="93ace-128">You can run websites that were created using version 1 or 2 on the same computer.</span></span> <span data-ttu-id="93ace-129">詳細については、上のセクションを参照してください。[実行 Web ページ アプリケーション サイド バイ サイド](#sidebyside)します。</span><span class="sxs-lookup"><span data-stu-id="93ace-129">For more information, see the section on [Running Web Pages Applications Side by Side](#sidebyside).</span></span>
2. <span data-ttu-id="93ace-130">選択**を今すぐインストール**します。</span><span class="sxs-lookup"><span data-stu-id="93ace-130">Choose **Install Now**.</span></span> 

    <span data-ttu-id="93ace-131">Internet Explorer を使用する場合は、次の手順に移動します。</span><span class="sxs-lookup"><span data-stu-id="93ace-131">If you use Internet Explorer, go to the next step.</span></span> <span data-ttu-id="93ace-132">Mozilla Firefox または Google Chrome などの別のブラウザーを使用する場合は、保存されたら、 *Webmatrix.exe*ファイルをコンピューターにします。</span><span class="sxs-lookup"><span data-stu-id="93ace-132">If you use a different browser like Mozilla Firefox or Google Chrome, you are prompted to save the *Webmatrix.exe* file to your computer.</span></span> <span data-ttu-id="93ace-133">ファイルを保存し、クリックしてインストーラーを起動します。</span><span class="sxs-lookup"><span data-stu-id="93ace-133">Save the file and then click it to launch the installer.</span></span>
3. <span data-ttu-id="93ace-134">インストーラーを実行し、選択、**インストール**ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="93ace-134">Run the installer and choose the **Install** button.</span></span> <span data-ttu-id="93ace-135">WebMatrix および Web ページがインストールされます。</span><span class="sxs-lookup"><span data-stu-id="93ace-135">This installs WebMatrix and Web Pages.</span></span>

## <a id="New_and_Enhanced_Features"></a>  <span data-ttu-id="93ace-136">新しい強化された機能</span><span class="sxs-lookup"><span data-stu-id="93ace-136">New and Enhanced Features</span></span>

### <a id="Changes_for_the_RC_Version"></a>  <span data-ttu-id="93ace-137">RC のバージョン (2012 年 6 月) の変更</span><span class="sxs-lookup"><span data-stu-id="93ace-137">Changes for the RC Version (June 2012)</span></span>

<span data-ttu-id="93ace-138">2012 年 6 月の RC バージョンのリリースでは、2012 年 3 月にリリースされた Beta バージョンの更新からのいくつかの変更があります。</span><span class="sxs-lookup"><span data-stu-id="93ace-138">The RC version release in June 2012 has a few changes from the Beta version refresh that was released in March 2012.</span></span> <span data-ttu-id="93ace-139">これらの変更は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="93ace-139">These changes are:</span></span>

- <span data-ttu-id="93ace-140">A`Validation.AddFormError`にメソッドが追加された、`Validation`ヘルパー。</span><span class="sxs-lookup"><span data-stu-id="93ace-140">A `Validation.AddFormError` method was added to the `Validation` helper.</span></span> <span data-ttu-id="93ace-141">これは手動で検証を実行する場合に便利です (クエリ文字列で渡される値を検証するなど) で表示できるエラー メッセージを追加して、`Html.ValidationSummary`メソッド。</span><span class="sxs-lookup"><span data-stu-id="93ace-141">This is useful if you perform validation manually (for example, you validate a value that is passed in the query string) and you want to add an error message that can be displayed by the `Html.ValidationSummary` method.</span></span> <span data-ttu-id="93ace-142">詳細については、セクションをご覧ください。[を検証するデータをしないは直接からユーザー](https://go.microsoft.com/fwlink/?LinkId=253002#Validating_Data_That_Doesnt_Come_Directly_from_Users)で[ASP.NET Web Pages (Razor) サイトでユーザー入力の検証](https://go.microsoft.com/fwlink/?LinkId=253002)です。</span><span class="sxs-lookup"><span data-stu-id="93ace-142">For more information, see the section [Validating Data That Doesn't Come Directly From Users](https://go.microsoft.com/fwlink/?LinkId=253002#Validating_Data_That_Doesnt_Come_Directly_from_Users) in [Validating User Input in ASP.NET Web Pages (Razor) Sites](https://go.microsoft.com/fwlink/?LinkId=253002).</span></span>
- <span data-ttu-id="93ace-143">バンドルと縮小の機能は、ASP.NET Web Pages 2 のコア アセンブリから削除されました。</span><span class="sxs-lookup"><span data-stu-id="93ace-143">The functionality for bundling and minification has been removed from the core ASP.NET Web Pages 2 assemblies.</span></span> <span data-ttu-id="93ace-144">結果として、`Assets`このドキュメントで後述するヘルパーを使用できません。</span><span class="sxs-lookup"><span data-stu-id="93ace-144">As a consequence, the `Assets` helper listed later in this document is not available.</span></span> <span data-ttu-id="93ace-145">代わりに、インストールする必要があります、 [ASP.NET 最適化](http://nuget.org/packages/Microsoft.Web.Optimization/0.1)NuGet パッケージ。</span><span class="sxs-lookup"><span data-stu-id="93ace-145">Instead, you must install the [ASP.NET Optimization](http://nuget.org/packages/Microsoft.Web.Optimization/0.1) NuGet package.</span></span> <span data-ttu-id="93ace-146">詳細については、次を参照してください。[バンドルと ASP.NET Web Pages (Razor) サイトで資産を縮小する](https://go.microsoft.com/fwlink/?LinkId=255373)します。</span><span class="sxs-lookup"><span data-stu-id="93ace-146">For more information, see [Bundling and Minifying Assets in an ASP.NET Web Pages (Razor) Site](https://go.microsoft.com/fwlink/?LinkId=255373).</span></span>
- <span data-ttu-id="93ace-147">ASP.NET Web Pages 2 をサポートする追加のアセンブリが追加されました。</span><span class="sxs-lookup"><span data-stu-id="93ace-147">Additional assemblies to support ASP.NET Web Pages 2 have been added.</span></span> <span data-ttu-id="93ace-148">この変更の唯一明らかな影響は、サイトの複数のアセンブリを表示することがあります*bin*フォルダー、サイトを作成するか、サイトをホスティング プロバイダーをデプロイします。</span><span class="sxs-lookup"><span data-stu-id="93ace-148">The only noticeable effect of this change is that you might see more assemblies in a site's *bin* folder after you create a site or deploy a site to a hosting provider.</span></span>

<a id="Changes_for_the_Beta_Version"></a>
### <a name="changes-for-the-beta-version-february-2012"></a><span data-ttu-id="93ace-149">ベータ版 (2012 年 2 月) の変更</span><span class="sxs-lookup"><span data-stu-id="93ace-149">Changes for the Beta Version (February 2012)</span></span>

<span data-ttu-id="93ace-150">2012 年 2 月にリリースされた Beta バージョンは、2011 年 12 月にリリースされたベータ版からいくつかの変更のみです。</span><span class="sxs-lookup"><span data-stu-id="93ace-150">The Beta version released in February 2012 has only a few changes from the Beta version that was released in December 2011.</span></span> <span data-ttu-id="93ace-151">これらの変更は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="93ace-151">These changes are:</span></span>

- <span data-ttu-id="93ace-152">Razor は、条件付き属性をサポートします。</span><span class="sxs-lookup"><span data-stu-id="93ace-152">Razor now supports conditional attributes.</span></span> <span data-ttu-id="93ace-153">Html 要素の値に属性を設定する場合は、解決にサーバー コードで`false`または`null`ASP.NET が、属性をまったく表示されません。</span><span class="sxs-lookup"><span data-stu-id="93ace-153">In an HTML element, if you set an attribute to a value that resolves in server code to `false` or `null`, ASP.NET does not render the attribute at all.</span></span> <span data-ttu-id="93ace-154">たとえば、チェック ボックスを次のマークアップがある場合を考えてみましょう。</span><span class="sxs-lookup"><span data-stu-id="93ace-154">For example, imagine you have the following markup for a check box:</span></span>

    [!code-html[Main](top-features-in-web-pages-2/samples/sample1.html)]

    <span data-ttu-id="93ace-155">場合の値`checked1`に解決される`false`または`null`、`checked`属性は表示されません。</span><span class="sxs-lookup"><span data-stu-id="93ace-155">If the value of `checked1` resolves to `false` or to `null`, the `checked` attribute is not rendered.</span></span> <span data-ttu-id="93ace-156">これは、重大な変更です。</span><span class="sxs-lookup"><span data-stu-id="93ace-156">This is a breaking change.</span></span>
- <span data-ttu-id="93ace-157">`Validation.GetHtml`メソッドの名前は`Validation.For`します。</span><span class="sxs-lookup"><span data-stu-id="93ace-157">The `Validation.GetHtml` method has been renamed to `Validation.For`.</span></span> <span data-ttu-id="93ace-158">これは重大な変更です。`Validation.GetHtml`ベータ リリースでは機能しません。</span><span class="sxs-lookup"><span data-stu-id="93ace-158">This is a breaking change; `Validation.GetHtml` will not work in the Beta release.</span></span>
- <span data-ttu-id="93ace-159">ここで含めることができます、`~`マークアップでの演算子を使用せず、サイトのルートを参照する、`Href`関数。</span><span class="sxs-lookup"><span data-stu-id="93ace-159">You can now include the `~` operator in markup to reference the site root without using the `Href` function.</span></span> <span data-ttu-id="93ace-160">(つまり、Razor パーサーできますを検索して解決するには、`~`演算子への明示的なメソッド呼び出しを必要とせず`Href`)。`Href`メソッドは引き続き機能しますので、重大な変更はありません。</span><span class="sxs-lookup"><span data-stu-id="93ace-160">(That is, the Razor parser can now find and resolve the `~` operator without requiring an explicit method call to `Href`.) The `Href` method still works, so this is not a breaking change.</span></span>

    <span data-ttu-id="93ace-161">たとえば、このようなマークアップを持っていたとします。</span><span class="sxs-lookup"><span data-stu-id="93ace-161">For example, if you previously had markup like this:</span></span>

    `<a href="@Href("~/Default.cshtml")">Home</a>`

    <span data-ttu-id="93ace-162">このようなマークアップを使用できます。</span><span class="sxs-lookup"><span data-stu-id="93ace-162">You can now use markup like this:</span></span>

    `<a href="~/Default.cshtml">Home</a>`
- <span data-ttu-id="93ace-163">`Scripts`資産 (リソース) の管理のためのヘルパーに置き換えられましたが、`Assets`ヘルパーで、次などの若干異なる方法があります。</span><span class="sxs-lookup"><span data-stu-id="93ace-163">The `Scripts` helper for assets (resource) management has been replaced with the `Assets` helper, which has slightly different methods, such as the following:</span></span>

  - <span data-ttu-id="93ace-164">`Scripts.Add`を使用して、 `Assets.AddScript`</span><span class="sxs-lookup"><span data-stu-id="93ace-164">For `Scripts.Add`, use `Assets.AddScript`</span></span>
  - <span data-ttu-id="93ace-165">`Scripts.GetScriptTags`を使用して、 `Assets.GetScripts`</span><span class="sxs-lookup"><span data-stu-id="93ace-165">For `Scripts.GetScriptTags`, use `Assets.GetScripts`</span></span>

    <span data-ttu-id="93ace-166">これは重大な変更です。`Scripts`クラスは、ベータ版のリリースで使用することはありません。</span><span class="sxs-lookup"><span data-stu-id="93ace-166">This is a breaking change; the `Scripts` class is not available in the Beta release.</span></span> <span data-ttu-id="93ace-167">この変更により、資産管理を使用して、このドキュメントのコード例が更新されました。</span><span class="sxs-lookup"><span data-stu-id="93ace-167">The code examples in this document that use asset management have been updated with this change.</span></span>

<a id="templates"></a>
### <a name="using-the-new-and-updated-site-templates"></a><span data-ttu-id="93ace-168">新規および更新されたサイト テンプレートを使用します。</span><span class="sxs-lookup"><span data-stu-id="93ace-168">Using the New and Updated Site Templates</span></span>

<span data-ttu-id="93ace-169">**スターター サイト**テンプレート Web ページ 2 で実行されるよう既定によって更新されました。</span><span class="sxs-lookup"><span data-stu-id="93ace-169">The **Starter Site** template has been updated so that it runs on Web Pages 2 by default.</span></span> <span data-ttu-id="93ace-170">次の新機能も含まれています。</span><span class="sxs-lookup"><span data-stu-id="93ace-170">It also includes the following new capabilities:</span></span>

- <span data-ttu-id="93ace-171">モバイル対応のページにレンダリングします。</span><span class="sxs-lookup"><span data-stu-id="93ace-171">Mobile-friendly page rendering.</span></span> <span data-ttu-id="93ace-172">CSS スタイルを使用して、`@media`セレクター、**スターター サイト**などのモバイル デバイスの画面の小さい画面にページの表示が改善されましたを提供します。</span><span class="sxs-lookup"><span data-stu-id="93ace-172">Through the use of CSS styles and the `@media` selector, the **Starter Site** provides improved rendering of pages on smaller screens, including mobile device screens.</span></span>
- <span data-ttu-id="93ace-173">メンバーシップと認証のオプションを強化します。</span><span class="sxs-lookup"><span data-stu-id="93ace-173">Improved membership and authentication options.</span></span> <span data-ttu-id="93ace-174">Twitter、Facebook、および Windows Live などの他のソーシャル ネットワーク サイトから自分のアカウントを使用して、サイトには、ユーザーがログインをさせることができます。</span><span class="sxs-lookup"><span data-stu-id="93ace-174">You can let users log into your site using their accounts from other social networking sites, such as Twitter, Facebook, and Windows Live.</span></span> <span data-ttu-id="93ace-175">詳細については、次を参照してください。、 [Facebook および OAuth および OpenID を使用してその他のサイトからログインを有効にする](#oauthsetup)セクション。</span><span class="sxs-lookup"><span data-stu-id="93ace-175">For more information, see the [Enabling Logins from Facebook and Other Sites using OAuth and OpenID](#oauthsetup) section.</span></span>
- <span data-ttu-id="93ace-176">HTML5 の要素。</span><span class="sxs-lookup"><span data-stu-id="93ace-176">HTML5 elements.</span></span>

<span data-ttu-id="93ace-177">新しい**個人用サイト**テンプレートを使用して、個人のブログ、写真のページでは、および Twitter のページを含む web サイトを作成できます。</span><span class="sxs-lookup"><span data-stu-id="93ace-177">The new **Personal Site** template lets you create a website that contains a personal blog, a photos page, and a Twitter page.</span></span> <span data-ttu-id="93ace-178">に基づいてサイトをカスタマイズすることができます、**個人用サイト**次の手順に従ってテンプレート。</span><span class="sxs-lookup"><span data-stu-id="93ace-178">You can customize a site based on the **Personal Site** template by doing the following:</span></span>

- <span data-ttu-id="93ace-179">レイアウト ファイルを編集して、サイトの外観を変更 (*\_SiteLayout.cshtml*) と、スタイル ファイル (*Site.css*)。</span><span class="sxs-lookup"><span data-stu-id="93ace-179">Change the look of the site by editing the layout file (*\_SiteLayout.cshtml*) and the styles file (*Site.css*).</span></span>
- <span data-ttu-id="93ace-180">サイトに機能を追加する NuGet パッケージをインストールします。</span><span class="sxs-lookup"><span data-stu-id="93ace-180">Install NuGet packages that add functionality to your site.</span></span> <span data-ttu-id="93ace-181">パッケージをインストールする方法については、ASP.NET Web Helpers Library を参照してください、チュートリアル[ヘルパーをインストールする](https://go.microsoft.com/fwlink/?LinkId=202889#webhelpers)します。</span><span class="sxs-lookup"><span data-stu-id="93ace-181">For information about how to install packages, including the ASP.NET Web Helpers Library, see the tutorial about [installing helpers](https://go.microsoft.com/fwlink/?LinkId=202889#webhelpers).</span></span>

<span data-ttu-id="93ace-182">アクセスする、**個人用サイト**テンプレート、選択**テンプレート**、WebMatrix で**クイック スタート**画面。</span><span class="sxs-lookup"><span data-stu-id="93ace-182">To access the **Personal Site** template, choose **Templates** on the WebMatrix **Quick Start** screen.</span></span>

<span data-ttu-id="93ace-183">[![topseven-personalsite-1](top-features-in-web-pages-2/_static/image2.png)](top-features-in-web-pages-2/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-183">[![topseven-personalsite-1](top-features-in-web-pages-2/_static/image2.png)](top-features-in-web-pages-2/_static/image1.png)</span></span>

<span data-ttu-id="93ace-184">**テンプレート** ダイアログ ボックスで、選択、**個人用サイト**テンプレート。</span><span class="sxs-lookup"><span data-stu-id="93ace-184">In the **Templates** dialog box, choose the **Personal Site** template.</span></span>

<span data-ttu-id="93ace-185">[![topseven-personalsite-2](top-features-in-web-pages-2/_static/image4.png)](top-features-in-web-pages-2/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-185">[![topseven-personalsite-2](top-features-in-web-pages-2/_static/image4.png)](top-features-in-web-pages-2/_static/image3.png)</span></span>

<span data-ttu-id="93ace-186">ランディング ページ、**個人用サイト**ページとページの写真を Twitter、ブログ記事へのリンクをフォローするテンプレートを使用できます。</span><span class="sxs-lookup"><span data-stu-id="93ace-186">The landing page of the **Personal Site** template lets you follow links to set up your blog, Twitter page, and photos page.</span></span>

<span data-ttu-id="93ace-187">[![topseven-personalsite-3](top-features-in-web-pages-2/_static/image6.png)](top-features-in-web-pages-2/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-187">[![topseven-personalsite-3](top-features-in-web-pages-2/_static/image6.png)](top-features-in-web-pages-2/_static/image5.png)</span></span>

<a id="validation"></a>
### <a name="validating-user-input"></a><span data-ttu-id="93ace-188">ユーザー入力の検証</span><span class="sxs-lookup"><span data-stu-id="93ace-188">Validating User Input</span></span>

<span data-ttu-id="93ace-189">Web ページの 1 に送信されたフォームは、ユーザー入力の検証に使用する、`System.Web.WebPages.Html.ModelState`クラス。</span><span class="sxs-lookup"><span data-stu-id="93ace-189">In Web Pages 1, to validate user input on submitted forms, you use the `System.Web.WebPages.Html.ModelState` class.</span></span> <span data-ttu-id="93ace-190">(「Web ページ 1 のチュートリアルではいくつかのコード サンプルに示す[データを扱う](../data/5-working-with-data.md)。)この方法は、Web ページ 2 でも使用できます。</span><span class="sxs-lookup"><span data-stu-id="93ace-190">(This is illustrated in several of the code samples in the Web Pages 1 tutorial titled [Working with Data](../data/5-working-with-data.md).) You can still use this approach in Web Pages 2.</span></span> <span data-ttu-id="93ace-191">ただし、Web ページ 2 では、ユーザー入力の検証のためのツールも提供しています。</span><span class="sxs-lookup"><span data-stu-id="93ace-191">However, Web Pages 2 also offers improved tools for validating user input:</span></span>

- <span data-ttu-id="93ace-192">などの新しい検証クラス`System.Web.WebPages.ValidationHelper`と`System.Web.WebPages.Validator`数行のコードで強力な検証タスクを実行することができます。</span><span class="sxs-lookup"><span data-stu-id="93ace-192">New validation classes, including `System.Web.WebPages.ValidationHelper` and `System.Web.WebPages.Validator`, that let you do powerful validation tasks with a few lines of code.</span></span>
- <span data-ttu-id="93ace-193">必要に応じて、クライアント側の検証は、検証エラーの確認対象のサーバーへのラウンド トリップを必要とするのではなくユーザーへの迅速なフィードバックを提供します。</span><span class="sxs-lookup"><span data-stu-id="93ace-193">Optionally, client-side validation, which provides immediate feedback to the user instead of requiring a round trip to the server to check for validation errors.</span></span> <span data-ttu-id="93ace-194">(セキュリティ上の理由から、検証は実行サーバーで、チェックをクライアントであらかじめ実行されているが場合でもです。)</span><span class="sxs-lookup"><span data-stu-id="93ace-194">(For security reasons, validation is performed on the server even if the checks have been performed in the client beforehand.)</span></span>

<span data-ttu-id="93ace-195">新しい検証機能を使用するには、次の操作を行います。</span><span class="sxs-lookup"><span data-stu-id="93ace-195">To use the new validation features, do the following:</span></span>

<span data-ttu-id="93ace-196">ページのコードでのメソッドを使用して検証する要素を登録、`Validation`ヘルパー: `Validation.RequireField`、 `Validation.RequireFields` (を必須にする複数の要素を登録するには)、または`Validation.Add`します。</span><span class="sxs-lookup"><span data-stu-id="93ace-196">In the page's code, register an element to be validated by using methods of the `Validation` helper: `Validation.RequireField`, `Validation.RequireFields` (to register multiple elements to be required), or `Validation.Add`.</span></span> <span data-ttu-id="93ace-197">`Add`メソッドは、他の種類のデータ型のチェック、文字列の長さのチェック、別のフィールド内のエントリを比較するように、検証チェックを指定することができ、パターン (正規表現を使用)。</span><span class="sxs-lookup"><span data-stu-id="93ace-197">The `Add` method lets you specify other types of validation checks, like data-type checking, comparing entries in different fields, string-length checks, and patterns (using regular expressions).</span></span> <span data-ttu-id="93ace-198">次にいくつかの例を示します。</span><span class="sxs-lookup"><span data-stu-id="93ace-198">Here are some examples:</span></span>

[!code-html[Main](top-features-in-web-pages-2/samples/sample2.html)]

<span data-ttu-id="93ace-199">フィールド固有のエラーを表示するには、呼び出す`Html.ValidationMessage`検証対象の各要素のマークアップで。</span><span class="sxs-lookup"><span data-stu-id="93ace-199">To display a field-specific error, call `Html.ValidationMessage` in the markup for each element being validated:</span></span>

[!code-cshtml[Main](top-features-in-web-pages-2/samples/sample3.cshtml)]

<span data-ttu-id="93ace-200">概要を表示する (`<ul>`一覧) ページで、すべてのエラーの`Html.ValidationSummary`マークアップで。</span><span class="sxs-lookup"><span data-stu-id="93ace-200">To display a summary (`<ul>` list) of all the errors in the page, `Html.ValidationSummary` in the markup:</span></span>

[!code-cshtml[Main](top-features-in-web-pages-2/samples/sample4.cshtml)]

<span data-ttu-id="93ace-201">これらの手順は、サーバー側の検証を実装するために十分です。</span><span class="sxs-lookup"><span data-stu-id="93ace-201">These steps are enough to implement server-side validation.</span></span> <span data-ttu-id="93ace-202">クライアント側の検証を追加するには、さらに、以下を実行する場合は。</span><span class="sxs-lookup"><span data-stu-id="93ace-202">If you want to add client-side validation, do the following in addition.</span></span>

<span data-ttu-id="93ace-203">内では、次のスクリプト ファイル参照を追加、 `<head>` web ページのセクション。</span><span class="sxs-lookup"><span data-stu-id="93ace-203">Add the following script file references inside the `<head>` section of a web page.</span></span> <span data-ttu-id="93ace-204">最初の 2 つのスクリプト参照は、コンテンツ配信ネットワーク (CDN) サーバー上のリモート ファイルをポイントします。</span><span class="sxs-lookup"><span data-stu-id="93ace-204">The first two script references point to remote files on a content delivery network (CDN) server.</span></span> <span data-ttu-id="93ace-205">3 番目の参照は、ローカル スクリプト ファイルを指します。</span><span class="sxs-lookup"><span data-stu-id="93ace-205">The third reference points to a local script file.</span></span> <span data-ttu-id="93ace-206">実稼働アプリは、CDN が利用できない場合、フォールバックを実装する必要があります。</span><span class="sxs-lookup"><span data-stu-id="93ace-206">Production apps should implement a fallback when the CDN is unavailable.</span></span> <span data-ttu-id="93ace-207">フォールバックをテストします。</span><span class="sxs-lookup"><span data-stu-id="93ace-207">Test the fallback.</span></span>

[!code-html[Main](top-features-in-web-pages-2/samples/sample5.html)]

<span data-ttu-id="93ace-208">ローカル コピーを取得する最も簡単な方法、 *jquery.validate.unobtrusive.min.js*ライブラリは、サイト テンプレート (スターター サイト) などのいずれかに基づく新しい Web ページ サイトを作成します。</span><span class="sxs-lookup"><span data-stu-id="93ace-208">The easiest way to get a local copy of the *jquery.validate.unobtrusive.min.js* library is to create a new Web Pages site based on one of the site templates (such as Starter Site).</span></span> <span data-ttu-id="93ace-209">テンプレートによって作成されたサイトが含まれています*jquery.validate.unobtrusive.js* 、元にコピーできますが、サイトの Scripts フォルダー内のファイル。</span><span class="sxs-lookup"><span data-stu-id="93ace-209">The site created by the template includes *jquery.validate.unobtrusive.js* file in its Scripts folder, from which you can copy it to your site.</span></span>

<span data-ttu-id="93ace-210">Web サイトで使用する場合、<em>\_SiteLayout</em>ページ レイアウトを制御するページで、検証をすべてのコンテンツ ページを使用できるように、そのページでこれらのスクリプト参照を含めることができます。</span><span class="sxs-lookup"><span data-stu-id="93ace-210">If your website uses a<em>\_SiteLayout</em> page to control the page layout, you can include these script references in that page so that validation is available to all content pages.</span></span> <span data-ttu-id="93ace-211">特定のページに対してのみ検証を実行する場合は、これらのページだけでスクリプトを登録する資産マネージャーを使用できます。</span><span class="sxs-lookup"><span data-stu-id="93ace-211">If you want to perform validation only on particular pages, you can use the assets manager to register the scripts on only those pages.</span></span> <span data-ttu-id="93ace-212">これを行うには、呼び出す`Assets.AddScript(path)`ページを検証し、各スクリプト ファイルを参照することにします。</span><span class="sxs-lookup"><span data-stu-id="93ace-212">To do this, call `Assets.AddScript(path)` in the page that you want to validate and reference each of the script files.</span></span> <span data-ttu-id="93ace-213">呼び出しを追加し、`Assets.GetScripts`で、  <em>\_SiteLayout</em>登録を表示するためにページ`<script>`タグ。</span><span class="sxs-lookup"><span data-stu-id="93ace-213">Then add a call to `Assets.GetScripts` in the <em>\_SiteLayout</em> page in order to render the registered `<script>` tags.</span></span> <span data-ttu-id="93ace-214">詳細については、セクションをご覧ください。[資産マネージャーを使用してスクリプトを登録する](#resmanagement)します。</span><span class="sxs-lookup"><span data-stu-id="93ace-214">For more information, see the section [Registering Scripts with the Assets Manager](#resmanagement).</span></span>

<span data-ttu-id="93ace-215">個々 の要素のマークアップを呼び出して、`Validation.For`メソッド。</span><span class="sxs-lookup"><span data-stu-id="93ace-215">In the markup for an individual element, call the `Validation.For` method.</span></span> <span data-ttu-id="93ace-216">このメソッドは、属性を出力する jQuery をクライアント側の検証を提供するためにフックできます。</span><span class="sxs-lookup"><span data-stu-id="93ace-216">This method emits attributes that jQuery can hook in order to provide client-side validation.</span></span> <span data-ttu-id="93ace-217">例えば:</span><span class="sxs-lookup"><span data-stu-id="93ace-217">For example:</span></span>

[!code-cshtml[Main](top-features-in-web-pages-2/samples/sample6.cshtml)]

<span data-ttu-id="93ace-218">次の例では、ユーザーがフォームに入力を検証するページを示します。</span><span class="sxs-lookup"><span data-stu-id="93ace-218">The following example shows a page that validates user input on a form.</span></span> <span data-ttu-id="93ace-219">この検証コードを実行し、テスト、これを行います。</span><span class="sxs-lookup"><span data-stu-id="93ace-219">To run and test this validation code, do this:</span></span>

1. <span data-ttu-id="93ace-220">含む WebMatrix 2 サイト テンプレートのいずれかを使用して新しい web サイトを作成、*スクリプト*フォルダーなど、**スターター サイト**テンプレート。</span><span class="sxs-lookup"><span data-stu-id="93ace-220">Create a new web site using one of the WebMatrix 2 site templates that includes a *Scripts* folder, such as the **Starter Site** template.</span></span>
2. <span data-ttu-id="93ace-221">新しいサイトの作成、新しい *.cshtml*ページ、およびページの内容を次のコードに置き換えます。</span><span class="sxs-lookup"><span data-stu-id="93ace-221">In the new site, create a new *.cshtml* page, and replace the contents of the page with the following code.</span></span>
3. <span data-ttu-id="93ace-222">ブラウザーでページを実行します。</span><span class="sxs-lookup"><span data-stu-id="93ace-222">Run the page in a browser.</span></span> <span data-ttu-id="93ace-223">検証の効果を確認の有効および無効な値を入力します。</span><span class="sxs-lookup"><span data-stu-id="93ace-223">Enter valid and invalid values to see the effects on validation.</span></span> <span data-ttu-id="93ace-224">たとえば、必須フィールドを空白のままにやの文字を入力してください、**クレジット**フィールド。</span><span class="sxs-lookup"><span data-stu-id="93ace-224">For example, leave a required field blank or enter a letter in the **Credits** field.</span></span>


[!code-cshtml[Main](top-features-in-web-pages-2/samples/sample7.cshtml)]

<span data-ttu-id="93ace-225">ユーザーが有効な入力を送信するときに次のページに示します。</span><span class="sxs-lookup"><span data-stu-id="93ace-225">Here is the page when a user submits valid input:</span></span>

<span data-ttu-id="93ace-226">[![topSeven-valid-1](top-features-in-web-pages-2/_static/image8.png)](top-features-in-web-pages-2/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-226">[![topSeven-valid-1](top-features-in-web-pages-2/_static/image8.png)](top-features-in-web-pages-2/_static/image7.png)</span></span>

<span data-ttu-id="93ace-227">ユーザーが、必須フィールドが空のままで送信すると次のページに示します。</span><span class="sxs-lookup"><span data-stu-id="93ace-227">Here is the page when a user submits it with a required field left empty:</span></span>

<span data-ttu-id="93ace-228">[![topSeven-valid-2](top-features-in-web-pages-2/_static/image10.png)](top-features-in-web-pages-2/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-228">[![topSeven-valid-2](top-features-in-web-pages-2/_static/image10.png)](top-features-in-web-pages-2/_static/image9.png)</span></span>

<span data-ttu-id="93ace-229">ユーザーが以外の整数で送信すると、ページをここでは、**クレジット**フィールド。</span><span class="sxs-lookup"><span data-stu-id="93ace-229">Here is the page when a user submits it with something other than an integer in the **Credits** field:</span></span>

<span data-ttu-id="93ace-230">[![topSeven-valid-3](top-features-in-web-pages-2/_static/image12.png)](top-features-in-web-pages-2/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-230">[![topSeven-valid-3](top-features-in-web-pages-2/_static/image12.png)](top-features-in-web-pages-2/_static/image11.png)</span></span>

<span data-ttu-id="93ace-231">詳細については、次のブログの投稿を参照してください。</span><span class="sxs-lookup"><span data-stu-id="93ace-231">For more information, see the following blog posts:</span></span>

- <span data-ttu-id="93ace-232">[Web ページ v2 での検証を更新](http://mikepope.com/blog/DisplayBlog.aspx?permalink=2344)検証を使用して追加の基本、`Validation`ヘルパー (サーバー側のみ)</span><span class="sxs-lookup"><span data-stu-id="93ace-232">[Updated validation in Web Pages v2](http://mikepope.com/blog/DisplayBlog.aspx?permalink=2344) Basics of adding validation using the `Validation` helper (server-side only)</span></span>
- <span data-ttu-id="93ace-233">[Web ページ v2、第 2 部での検証を更新](http://www.mikepope.com/blog/DisplayBlog.aspx?permalink=2347)クライアント側の検証を追加します。</span><span class="sxs-lookup"><span data-stu-id="93ace-233">[Updated validation in Web Pages v2, Part 2](http://www.mikepope.com/blog/DisplayBlog.aspx?permalink=2347) Adding client-side validation.</span></span>
- <span data-ttu-id="93ace-234">[Web ページ v2、パート 3 での検証を更新](http://mikepope.com/blog/DisplayBlog.aspx?permalink=2351)検証エラーの書式を設定します。</span><span class="sxs-lookup"><span data-stu-id="93ace-234">[Updated validation in Web Pages v2, Part 3](http://mikepope.com/blog/DisplayBlog.aspx?permalink=2351) Formatting validation errors.</span></span>

<a id="resmanagement"></a>
### <a name="registering-scripts-using-the-assets-manager"></a><span data-ttu-id="93ace-235">資産マネージャーを使用してスクリプトの登録</span><span class="sxs-lookup"><span data-stu-id="93ace-235">Registering Scripts Using the Assets Manager</span></span>

<span data-ttu-id="93ace-236">資産マネージャーは、登録して、クライアント スクリプトをレンダリングするサーバー コードで使用できる新しい機能です。</span><span class="sxs-lookup"><span data-stu-id="93ace-236">The assets manager is a new feature that you can use in server code to register and render client scripts.</span></span> <span data-ttu-id="93ace-237">この機能は、実行時に 1 つのページに結合されます (レイアウト ページ、コンテンツ ページ、ヘルパーなど) などの複数のファイルからコードを使用する場合に便利です。</span><span class="sxs-lookup"><span data-stu-id="93ace-237">This feature is helpful when you are working with code from multiple files (such as layout pages, content pages, helpers, etc.) that are combined into a single page at run time.</span></span> <span data-ttu-id="93ace-238">資産マネージャーは、ソース ファイルまたは確認することのスクリプト ファイルが正しく参照されていると効率的に表示されたページ上から呼び出されたコード ファイルに関係なく呼び出される回数を調整します。</span><span class="sxs-lookup"><span data-stu-id="93ace-238">The assets manager coordinates the source files to make sure that script files are referenced correctly and efficiently on the rendered page, regardless of which code files they are called from or how many times they are called.</span></span> <span data-ttu-id="93ace-239">資産マネージャーもレンダリング`<script>`にすぐに (レンダリング中にスクリプトをダウンロードするには)、ページを読み込むことができ、レンダリングの前にスクリプトが呼び出された場合に発生する可能性があるエラーを回避するためには、完全なように適切な場所にタグを付けます。</span><span class="sxs-lookup"><span data-stu-id="93ace-239">The assets manager also renders `<script>` tags in the right place so that the page can load quickly (without downloading scripts while rendering) and to avoid errors that can occur if scripts are called before rendering is complete.</span></span>

<span data-ttu-id="93ace-240">たとえばを呼び出す JavaScript ファイルでは、カスタム ヘルパーを作成することと、次の 3 つの異なる場所にコンテンツ ページのコードでこのヘルパーを呼び出すことです。</span><span class="sxs-lookup"><span data-stu-id="93ace-240">For example, suppose that you create a custom helper that calls a JavaScript file, and you call this helper at three different places in your content page code.</span></span> <span data-ttu-id="93ace-241">ヘルパーの 3 つの異なる登録資産マネージャーを使用しない場合、スクリプトでは呼び出し`<script>`タグを同じスクリプト ファイルにすべてのポイントは、レンダリングされたページに表示されます。</span><span class="sxs-lookup"><span data-stu-id="93ace-241">If you don't use the assets manager to register the script calls in the helper, three different `<script>` tags that all point to the same script file will appear in your rendered page.</span></span> <span data-ttu-id="93ace-242">また、位置によって、`<script>`タグがレンダリングされたページに挿入される、スクリプトが、ページが完全に読み込まれる前に特定のページ要素にアクセスしようとしたかどうかはエラーが発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="93ace-242">Plus, depending on where the `<script>` tags are inserted in the rendered page, errors may occur if the script tries to access certain page elements before the page fully loads.</span></span> <span data-ttu-id="93ace-243">資産マネージャーを使用してスクリプトを登録する場合は、これらの問題を回避します。</span><span class="sxs-lookup"><span data-stu-id="93ace-243">If you use the assets manager to register the script, you avoid these problems.</span></span>

<span data-ttu-id="93ace-244">これにより、資産マネージャーとスクリプトを登録できます。</span><span class="sxs-lookup"><span data-stu-id="93ace-244">You can register a script with the assets manager by doing this:</span></span>

- <span data-ttu-id="93ace-245">スクリプトを参照する必要があるコードで呼び出し、`Assets.AddScript`メソッド。</span><span class="sxs-lookup"><span data-stu-id="93ace-245">In the code that needs to reference the script, call the `Assets.AddScript` method.</span></span>
- <span data-ttu-id="93ace-246">*\_SiteLayout*  ページで、呼び出し、`Assets.GetScripts`をレンダリングするメソッド、`<script>`タグ。</span><span class="sxs-lookup"><span data-stu-id="93ace-246">In a *\_SiteLayout* page, call the `Assets.GetScripts` method to render the `<script>` tags.</span></span> 

    > [!NOTE]
    > <span data-ttu-id="93ace-247">呼び出し配置`Assets.GetScripts`の非常に最後の項目として、`<body>`の要素、  *\_SiteLayout*ページ。</span><span class="sxs-lookup"><span data-stu-id="93ace-247">Put calls to `Assets.GetScripts` as the very last item in the `<body>` element of the *\_SiteLayout* page.</span></span> <span data-ttu-id="93ace-248">これにより、ページ読み込みも高速とスクリプトのエラーを防ぐことができます。</span><span class="sxs-lookup"><span data-stu-id="93ace-248">This helps the page load faster and can help avoid script errors.</span></span>

<span data-ttu-id="93ace-249">次の例では、資産マネージャーのしくみを示しています。</span><span class="sxs-lookup"><span data-stu-id="93ace-249">The following example shows how the assets manager works.</span></span> <span data-ttu-id="93ace-250">コードには、次のものが含まれています。</span><span class="sxs-lookup"><span data-stu-id="93ace-250">The code contains the following items:</span></span>

- <span data-ttu-id="93ace-251">という名前のカスタム ヘルパー`MakeNote`します。</span><span class="sxs-lookup"><span data-stu-id="93ace-251">A custom helper named `MakeNote`.</span></span> <span data-ttu-id="93ace-252">このヘルパーは、ラップすることで、ボックス内の文字列をレンダリングします。、`div`その周りの要素を境界線でとを追加してスタイルが適用&quot;に注意してください:&quot;にします。</span><span class="sxs-lookup"><span data-stu-id="93ace-252">This helper renders a string inside a box by wrapping a `div` element around it that's styled with a border and by adding &quot;Note:&quot; to it.</span></span> <span data-ttu-id="93ace-253">ヘルパーには、ノートの実行時の動作を追加する JavaScript ファイルも呼び出します。</span><span class="sxs-lookup"><span data-stu-id="93ace-253">The helper also calls a JavaScript file that adds run-time behavior to the note.</span></span> <span data-ttu-id="93ace-254">スクリプトへの参照ではなく、`<script>`タグ ヘルパーは、呼び出すことによって、スクリプトを登録`Assets.AddScript`します。</span><span class="sxs-lookup"><span data-stu-id="93ace-254">Rather than reference the script with a `<script>` tag, the helper registers the script by calling `Assets.AddScript` .</span></span>
- <span data-ttu-id="93ace-255">JavaScript ファイル。</span><span class="sxs-lookup"><span data-stu-id="93ace-255">A JavaScript file.</span></span> <span data-ttu-id="93ace-256">これは、ファイル、ヘルパーによって呼び出され、中にメモ アイテムのフォント サイズを一時的に増加する`mouseover`イベント。</span><span class="sxs-lookup"><span data-stu-id="93ace-256">This is the file that's called by the helper, and it temporarily increases the font size of note items during a `mouseover` event.</span></span>
- <span data-ttu-id="93ace-257">コンテンツ ページを参照して、<em>\_SiteLayout</em>  ページは、本文の一部のコンテンツをレンダリングしを呼び出して、`MakeNote`ヘルパー。</span><span class="sxs-lookup"><span data-stu-id="93ace-257">A content page, which references the<em>\_SiteLayout</em> page, renders some content in the body, and then calls the `MakeNote` helper.</span></span>
- <span data-ttu-id="93ace-258">A  *\_SiteLayout*ページ。</span><span class="sxs-lookup"><span data-stu-id="93ace-258">A *\_SiteLayout* page.</span></span> <span data-ttu-id="93ace-259">このページは、一般的なヘッダーとページ レイアウト構造体を提供します。</span><span class="sxs-lookup"><span data-stu-id="93ace-259">This page provides a common header and a page layout structure.</span></span> <span data-ttu-id="93ace-260">呼び出しも含まれています。 `Assets.GetScripts`、ページの呼び出しは資産マネージャーでのスクリプトの表示方法。</span><span class="sxs-lookup"><span data-stu-id="93ace-260">It also includes a call to `Assets.GetScripts`, which is how the assets manager renders script calls in a page.</span></span>

<span data-ttu-id="93ace-261">サンプルを実行するには</span><span class="sxs-lookup"><span data-stu-id="93ace-261">To run the sample:</span></span>

1. <span data-ttu-id="93ace-262">空の Web ページ 2 の web サイトを作成します。</span><span class="sxs-lookup"><span data-stu-id="93ace-262">Create an empty Web Pages 2 website.</span></span> <span data-ttu-id="93ace-263">WebMatrix を使用する**空のサイト**このテンプレート。</span><span class="sxs-lookup"><span data-stu-id="93ace-263">You can use the WebMatrix **Empty Site** template for this.</span></span>
2. <span data-ttu-id="93ace-264">という名前のフォルダーを作成する*スクリプト*サイト。</span><span class="sxs-lookup"><span data-stu-id="93ace-264">Create a folder named *Scripts* in the site.</span></span>
3. <span data-ttu-id="93ace-265">*スクリプト*フォルダー、という名前のファイルを作成する*Test.js*、コピー、 *Test.js*からこの例では、そこにコンテンツし、ファイルを保存.</span><span class="sxs-lookup"><span data-stu-id="93ace-265">In the *Scripts* folder, create a file named *Test.js*, copy the *Test.js* content into it from the example, and save the file..</span></span>
4. <span data-ttu-id="93ace-266">という名前のフォルダーを作成する*アプリ\_コード*サイト。</span><span class="sxs-lookup"><span data-stu-id="93ace-266">Create a folder named *App\_Code* in the site.</span></span>
5. <span data-ttu-id="93ace-267">*アプリ\_コード*フォルダー、という名前のファイルを作成する*Helpers.cshtml*例のコードをコピー、および、という名前のフォルダーに保存*アプリ\_コード*ルート フォルダーにします。</span><span class="sxs-lookup"><span data-stu-id="93ace-267">In the *App\_Code* folder, create a file named *Helpers.cshtml*, copy the example code into it, and save it in a folder named *App\_Code* in the root folder.</span></span>
6. <span data-ttu-id="93ace-268">サイトのルート フォルダーでは、という名前のファイルを作成 *\_SiteLayout.cshtml、* 例をコピーし、ファイルを保存します。</span><span class="sxs-lookup"><span data-stu-id="93ace-268">In the site's root folder, create a file named *\_SiteLayout.cshtml,* copy the example into it, and save the file.</span></span>
7. <span data-ttu-id="93ace-269">という名前のファイルを作成、サイトのルートで*ContentPage.cshtml*例のコードを追加し、保存します。</span><span class="sxs-lookup"><span data-stu-id="93ace-269">In the site root, create a file named *ContentPage.cshtml*, add the example code, and save it.</span></span>
8. <span data-ttu-id="93ace-270">実行*ContentPage*ブラウザーでします。</span><span class="sxs-lookup"><span data-stu-id="93ace-270">Run *ContentPage* in a browser.</span></span> <span data-ttu-id="93ace-271">渡される文字列、`MakeNote`ヘルパーはボックス化されたメモとしてレンダリングされます。</span><span class="sxs-lookup"><span data-stu-id="93ace-271">The string you passed to the `MakeNote` helper is rendered as a boxed note.</span></span>
9. <span data-ttu-id="93ace-272">メモをマウス ポインターを渡します。</span><span class="sxs-lookup"><span data-stu-id="93ace-272">Pass the mouse pointer over the note.</span></span> <span data-ttu-id="93ace-273">スクリプトは、注釈のフォント サイズを一時的に増加します。</span><span class="sxs-lookup"><span data-stu-id="93ace-273">The script temporarily increases the font size of the note.</span></span>
10. <span data-ttu-id="93ace-274">表示するページのソースを表示します。</span><span class="sxs-lookup"><span data-stu-id="93ace-274">View the source of the rendered page.</span></span> <span data-ttu-id="93ace-275">呼び出しを配置したため`Assets.GetScripts`、レンダリングされた`<script>`を呼び出すタグ*Test.js*ページの本文の最後の項目。</span><span class="sxs-lookup"><span data-stu-id="93ace-275">Because of where you placed the call to `Assets.GetScripts`, the rendered `<script>` tag that calls *Test.js* is the very last item in the body of the page.</span></span>

<span data-ttu-id="93ace-276">*Test.js*</span><span class="sxs-lookup"><span data-stu-id="93ace-276">*Test.js*</span></span>

[!code-javascript[Main](top-features-in-web-pages-2/samples/sample8.js)]

<span data-ttu-id="93ace-277">*Helpers.cshtml*</span><span class="sxs-lookup"><span data-stu-id="93ace-277">*Helpers.cshtml*</span></span>

[!code-cshtml[Main](top-features-in-web-pages-2/samples/sample9.cshtml)]

<span data-ttu-id="93ace-278">*\_SiteLayout.cshtml*</span><span class="sxs-lookup"><span data-stu-id="93ace-278">*\_SiteLayout.cshtml*</span></span>

[!code-html[Main](top-features-in-web-pages-2/samples/sample10.html)]

<span data-ttu-id="93ace-279">*ContentPage.cshtml*</span><span class="sxs-lookup"><span data-stu-id="93ace-279">*ContentPage.cshtml*</span></span>

[!code-cshtml[Main](top-features-in-web-pages-2/samples/sample11.cshtml)]

<span data-ttu-id="93ace-280">次のスクリーン ショット*ContentPage.cshtml*マウス ポインターをメモに置くと、ブラウザーで。</span><span class="sxs-lookup"><span data-stu-id="93ace-280">The following screenshot shows *ContentPage.cshtml* in a browser when you hold the mouse pointer over the note:</span></span>

<span data-ttu-id="93ace-281">[![topSeven-resmgr-1](top-features-in-web-pages-2/_static/image14.png)](top-features-in-web-pages-2/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-281">[![topSeven-resmgr-1](top-features-in-web-pages-2/_static/image14.png)](top-features-in-web-pages-2/_static/image13.png)</span></span>

<a id="oauthsetup"></a>
### <a name="enabling-logins-from-facebook-and-other-sites-using-oauth-and-openid"></a><span data-ttu-id="93ace-282">Facebook と OAuth および OpenID を使用して他のサイトからのログインを有効にします。</span><span class="sxs-lookup"><span data-stu-id="93ace-282">Enabling Logins from Facebook and Other Sites Using OAuth and OpenID</span></span>

<span data-ttu-id="93ace-283">Web ページ 2 では、メンバーシップと認証のオプションの強化を提供します。</span><span class="sxs-lookup"><span data-stu-id="93ace-283">Web Pages 2 provides enhanced options for membership and authentication.</span></span> <span data-ttu-id="93ace-284">主な機能強化は、新しい[OAuth](http://oauth.net/)と[OpenID](http://openid.net/)プロバイダー。</span><span class="sxs-lookup"><span data-stu-id="93ace-284">The main enhancement is that there are new [OAuth](http://oauth.net/) and [OpenID](http://openid.net/) providers.</span></span> <span data-ttu-id="93ace-285">これらのプロバイダーを使用して、Facebook、Twitter、Windows Live、Google、yahoo から既存の資格情報を使用して、サイトに、ユーザーがログインをさせることができます。</span><span class="sxs-lookup"><span data-stu-id="93ace-285">Using these providers, you can let users log into your site using their existing credentials from Facebook, Twitter, Windows Live, Google, and Yahoo.</span></span> <span data-ttu-id="93ace-286">たとえば、Facebook アカウントを使用してログイン、ユーザーことができます選択 Facebook アイコンは、各自のユーザー情報を入力する Facebook ログイン ページにリダイレクトします。</span><span class="sxs-lookup"><span data-stu-id="93ace-286">For example, to log in using a Facebook account, users can just choose a Facebook icon, which redirects them to the Facebook login page where they enter their user information.</span></span> <span data-ttu-id="93ace-287">サイトでユーザーのアカウント、Facebook ログインに関連付けることができます。</span><span class="sxs-lookup"><span data-stu-id="93ace-287">They can then associate the Facebook login with their account on your site.</span></span> <span data-ttu-id="93ace-288">Web ページのメンバーシップ機能に関連する拡張機能は、web サイトの 1 つのアカウントを持つユーザーが複数回のログイン (ソーシャル ネットワーク サイトからのログインを含む) を関連付けることができます。</span><span class="sxs-lookup"><span data-stu-id="93ace-288">A related enhancement to the Web Pages membership features is that users can associate multiple logins (including logins from social networking sites) with a single account on your website.</span></span>

<span data-ttu-id="93ace-289">この図は、ログイン ページから、**スターター サイト**テンプレート、ユーザーが外部のアカウントでログインを有効にする、Facebook、Twitter、または Windows Live のアイコンを選択できます。</span><span class="sxs-lookup"><span data-stu-id="93ace-289">This image shows the Login page from the **Starter Site** template, where a user can choose a Facebook, Twitter, or Windows Live icon to enable logging in with an external account:</span></span>

<span data-ttu-id="93ace-290">[![topSeven-oauth-1](top-features-in-web-pages-2/_static/image16.png)](top-features-in-web-pages-2/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-290">[![topSeven-oauth-1](top-features-in-web-pages-2/_static/image16.png)](top-features-in-web-pages-2/_static/image15.png)</span></span>

<span data-ttu-id="93ace-291">数行のコードを使用して OAuth と OpenID のメンバーシップを有効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="93ace-291">You can enable OAuth and OpenID membership using just a few lines of code.</span></span> <span data-ttu-id="93ace-292">OAuth を使用するように使用するメソッドとプロパティおよび OpenID プロバイダーはで、`WebMatrix.Security.OAuthWebSecurity`クラス。</span><span class="sxs-lookup"><span data-stu-id="93ace-292">The methods and properties you use to work with the OAuth and OpenID providers are in the `WebMatrix.Security.OAuthWebSecurity` class.</span></span>

<span data-ttu-id="93ace-293">しかし、他のサイトからのログインを有効にするコードを使用する代わりに新しいプロバイダーを使用することをお勧め、使用する新しい**スターター サイト**WebMatrix 2 ベータ版に含まれているテンプレートです。</span><span class="sxs-lookup"><span data-stu-id="93ace-293">However, instead of using code to enable logins from other sites, a recommended way to get started with the new providers is to use the new **Starter Site** template that is included with WebMatrix 2 Beta.</span></span> <span data-ttu-id="93ace-294">**スターター サイト**テンプレートには、完全なメンバーシップ インフラストラクチャが含まれています、ログイン ページ、メンバーシップ データベースでは、すべてのコードと完了する必要がありますをローカルの資格情報または別のサイトからこれらのいずれかを使用してサイトに、ユーザーがログインできるようにするには.</span><span class="sxs-lookup"><span data-stu-id="93ace-294">The **Starter Site** template includes a full membership infrastructure, complete with a login page, a membership database, and all the code you need to let users log into your site using either local credentials or those from another site.</span></span>

#### <a name="how-to-enable-logins-using-the-oauth-and-openid-providers"></a><span data-ttu-id="93ace-295">OAuth および OpenID プロバイダーを使用してログインを有効にする方法</span><span class="sxs-lookup"><span data-stu-id="93ace-295">How to Enable Logins using the OAuth and OpenID Providers</span></span>

<span data-ttu-id="93ace-296">このセクションでは、ユーザーから外部のサイト (Facebook、Twitter、Windows Live、Google、または Yahoo) ログインできるようにする方法の例を示しますに基づいているサイトに、**スターター サイト**テンプレート。</span><span class="sxs-lookup"><span data-stu-id="93ace-296">This section provides an example of how to let users log in from external sites (Facebook, Twitter, Windows Live, Google, or Yahoo) to a site that's based on the **Starter Site** template.</span></span> <span data-ttu-id="93ace-297">スターター サイトを作成すると、この (詳細のフォロー) する操作を行います。</span><span class="sxs-lookup"><span data-stu-id="93ace-297">After creating a starter site, you do this (details follow):</span></span>

- <span data-ttu-id="93ace-298">OAuth プロバイダー (Facebook、Twitter、および Windows Live) を使用するサイトでは、外部のサイトにアプリケーションを作成します。</span><span class="sxs-lookup"><span data-stu-id="93ace-298">For the sites that use an OAuth provider (Facebook, Twitter, and Windows Live), create an application on the external site.</span></span> <span data-ttu-id="93ace-299">これにより、それらのサイトのログイン機能を起動するために必要となるアプリケーションのキー。</span><span class="sxs-lookup"><span data-stu-id="93ace-299">This gives you application keys that you'll need in order to invoke the login feature for those sites.</span></span> <span data-ttu-id="93ace-300">(Google、yahoo!)、OpenID プロバイダーを使用して、サイトでは、アプリケーションを作成する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="93ace-300">For sites that use an OpenID provider (Google, Yahoo), you do not have to create an application.</span></span> <span data-ttu-id="93ace-301">これらのサイトのすべてにログインするために、開発者のアプリケーションを作成して、アカウントが必要です。</span><span class="sxs-lookup"><span data-stu-id="93ace-301">For all of these sites, you must have an account in order to log in and to create developer applications.</span></span> 

    > [!NOTE]
    > <span data-ttu-id="93ace-302">Windows Live アプリケーションでは、ログインをテストするため、ローカルの web サイトの URL を使用することはできませんので作業用の web サイトでライブ URL のみ受け入れます。</span><span class="sxs-lookup"><span data-stu-id="93ace-302">Windows Live applications only accept a live URL for a working website, so you cannot use a local website URL for testing logins.</span></span>
- <span data-ttu-id="93ace-303">適切な認証プロバイダーを指定するには、web サイトのいくつかのファイルを編集し、使用すると、サイトへのログインを送信します。</span><span class="sxs-lookup"><span data-stu-id="93ace-303">Edit a few files in your website in order to specify the appropriate authentication provider and to submit a login to the site you want to use.</span></span>

<span data-ttu-id="93ace-304">**Google、Yahoo のログインを有効にする**:</span><span class="sxs-lookup"><span data-stu-id="93ace-304">**To enable Google and Yahoo logins**:</span></span>

1. <span data-ttu-id="93ace-305">Web サイト、編集、  *\_AppStart.cshtml*ページし、呼び出しの後の Razor コード ブロックに次の 2 行のコードを追加、`WebSecurity.InitializeDatabaseConnection`メソッド。</span><span class="sxs-lookup"><span data-stu-id="93ace-305">In your website, edit the *\_AppStart.cshtml* page and add the following two lines of code in the Razor code block after the call to the `WebSecurity.InitializeDatabaseConnection` method.</span></span> <span data-ttu-id="93ace-306">このコードにより、Google と Yahoo OpenID プロバイダーをできます。</span><span class="sxs-lookup"><span data-stu-id="93ace-306">This code enables both the Google and Yahoo OpenID providers.</span></span> 

    [!code-css[Main](top-features-in-web-pages-2/samples/sample12.css)]
2. <span data-ttu-id="93ace-307">*~/Account/Login.cshtml*  ページで、次のコメントを解除して`<fieldset>`ページの末尾付近のマークアップのブロック。</span><span class="sxs-lookup"><span data-stu-id="93ace-307">In the *~/Account/Login.cshtml* page, remove the comments from the following `<fieldset>` block of markup near the end of the page.</span></span> <span data-ttu-id="93ace-308">コードのコメントを解除するには削除、`@*`直前および直後の文字、`<fieldset>`ブロックします。</span><span class="sxs-lookup"><span data-stu-id="93ace-308">To uncomment the code, remove the `@*` characters that precede and follow the `<fieldset>` block.</span></span> <span data-ttu-id="93ace-309">そのコード ブロックのようになります。</span><span class="sxs-lookup"><span data-stu-id="93ace-309">The resulting code block looks like this:</span></span>

    [!code-html[Main](top-features-in-web-pages-2/samples/sample13.html)]
3. <span data-ttu-id="93ace-310">追加、`<input>`要素プロバイダーは、Google、Yahoo、`<fieldset>`グループに、 *~/Account/Login.cshtml*ページ。</span><span class="sxs-lookup"><span data-stu-id="93ace-310">Add an `<input>` element for the Google or Yahoo provider to the `<fieldset>` group in the *~/Account/Login.cshtml* page.</span></span> <span data-ttu-id="93ace-311">更新された`<fieldset>`グループ`<input>`などの次の例を Google と Yahoo の両方の外観の要素。</span><span class="sxs-lookup"><span data-stu-id="93ace-311">The updated `<fieldset>` group with `<input>` elements for both Google and Yahoo looks like the following example:</span></span> 

    [!code-html[Main](top-features-in-web-pages-2/samples/sample14.html)]
4. <span data-ttu-id="93ace-312">*~/Account/AssociateServiceAccount.cshtml*ページで、追加`<input>`Google、Yahoo の要素、`<fieldset>`ファイルの末尾付近のグループ化します。</span><span class="sxs-lookup"><span data-stu-id="93ace-312">In the *~/Account/AssociateServiceAccount.cshtml* page, add `<input>` elements for Google or Yahoo to the `<fieldset>` group near the end of the file.</span></span> <span data-ttu-id="93ace-313">同じをコピーする`<input>`に追加した要素、`<fieldset>`セクション、 *~/Account/Login.cshtml*ページ。</span><span class="sxs-lookup"><span data-stu-id="93ace-313">You can copy the same `<input>` elements that you just added to the `<fieldset>` section in the *~/Account/Login.cshtml* page.</span></span> 

    <span data-ttu-id="93ace-314">*~/Account/AssociateServiceAccount.cshtml*を web サイト上の 1 つのアカウントでの他のサイトから複数のログインを関連付けることができます ページを作成する場合、スターター サイト テンプレートのページを使用できます。</span><span class="sxs-lookup"><span data-stu-id="93ace-314">The *~/Account/AssociateServiceAccount.cshtml* page in the Starter Site template can be used if you want to create a page on which users can associate multiple logins from other sites with a single account on your website.</span></span>

<span data-ttu-id="93ace-315">Google、Yahoo のログインをテストできます。</span><span class="sxs-lookup"><span data-stu-id="93ace-315">Now you can test Google and Yahoo logins.</span></span>

1. <span data-ttu-id="93ace-316">実行、 *default.cshtml*サイトのページを選択し、**ログイン**ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="93ace-316">Run the *default.cshtml* page of your site and choose the **Log in** button.</span></span>
2. <span data-ttu-id="93ace-317">*ログイン*] ページの [、**別のサービスを使用してログイン**セクションで、いずれかを選択、 **Google**または**Yahoo**送信ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="93ace-317">On the *Login* page, in the **Use another service to log in** section, choose either the **Google** or **Yahoo** submit button.</span></span> <span data-ttu-id="93ace-318">この例では、Google ログインを使用します。</span><span class="sxs-lookup"><span data-stu-id="93ace-318">This example uses the Google login.</span></span> 

    <span data-ttu-id="93ace-319">Web ページは、Google ログイン ページに、要求をリダイレクトします。</span><span class="sxs-lookup"><span data-stu-id="93ace-319">The web page redirects the request to the Google login page.</span></span>

    <span data-ttu-id="93ace-320">[![topSeven-oauth-6](top-features-in-web-pages-2/_static/image18.png)](top-features-in-web-pages-2/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-320">[![topSeven-oauth-6](top-features-in-web-pages-2/_static/image18.png)](top-features-in-web-pages-2/_static/image17.png)</span></span>
3. <span data-ttu-id="93ace-321">既存の Google アカウントの資格情報を入力します。</span><span class="sxs-lookup"><span data-stu-id="93ace-321">Enter credentials for an existing Google account.</span></span>
4. <span data-ttu-id="93ace-322">Google は、Localhost をクリックして、アカウントからの情報の使用を許可するかどうかを確認する場合**許可**します。</span><span class="sxs-lookup"><span data-stu-id="93ace-322">If Google asks you whether you want to allow Localhost to use information from the account, click **Allow**.</span></span>

    <span data-ttu-id="93ace-323">コードでは、Google トークンを使用して、ユーザーを認証して、web サイトにこのページに戻ります。</span><span class="sxs-lookup"><span data-stu-id="93ace-323">The code uses the Google token to authenticate the user, and then returns to this page on your website.</span></span> <span data-ttu-id="93ace-324">このページでは、Google ログインを web サイト、既存のアカウントに関連付けるユーザーまたはで外部ログインに関連付けるサイトで新しいアカウントを登録することができます。</span><span class="sxs-lookup"><span data-stu-id="93ace-324">This page lets users associate their Google login with an existing account on your website, or they can register a new account on your site to associate the external login with.</span></span>

    <span data-ttu-id="93ace-325">[![topSeven-oauth-5](top-features-in-web-pages-2/_static/image20.png)](top-features-in-web-pages-2/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-325">[![topSeven-oauth-5](top-features-in-web-pages-2/_static/image20.png)](top-features-in-web-pages-2/_static/image19.png)</span></span>
5. <span data-ttu-id="93ace-326">選択、**関連付ける**ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="93ace-326">Choose the **Associate** button.</span></span> <span data-ttu-id="93ace-327">ブラウザーは、アプリケーションのホーム ページを返します。</span><span class="sxs-lookup"><span data-stu-id="93ace-327">The browser returns to your application's home page.</span></span>

    <span data-ttu-id="93ace-328">[![topSeven-oauth-3](top-features-in-web-pages-2/_static/image22.png)](top-features-in-web-pages-2/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-328">[![topSeven-oauth-3](top-features-in-web-pages-2/_static/image22.png)](top-features-in-web-pages-2/_static/image21.png)</span></span>

    <span data-ttu-id="93ace-329">[![topSeven-oauth-3](top-features-in-web-pages-2/_static/image24.png)](top-features-in-web-pages-2/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-329">[![topSeven-oauth-3](top-features-in-web-pages-2/_static/image24.png)](top-features-in-web-pages-2/_static/image23.png)</span></span>

<span data-ttu-id="93ace-330">**Facebook ログインを有効にする**:</span><span class="sxs-lookup"><span data-stu-id="93ace-330">**To enable Facebook logins**:</span></span>

1. <span data-ttu-id="93ace-331">移動して、 [Facebook 開発者サイト](https://developers.facebook.com/apps)(まだログインしている場合ログ記録)。</span><span class="sxs-lookup"><span data-stu-id="93ace-331">Go to the [Facebook developers site](https://developers.facebook.com/apps) (log in if you're not already logged in).</span></span>
2. <span data-ttu-id="93ace-332">選択、 **Create New App**ボタンをクリックし、新しいアプリケーションを作成して名前を指示に従います。</span><span class="sxs-lookup"><span data-stu-id="93ace-332">Choose the **Create New App** button, and then follow the prompts to name and create the new application.</span></span>
3. <span data-ttu-id="93ace-333">セクションで**アプリを Facebook と統合する方法を選択します。**、選択、 **web サイト**セクション。</span><span class="sxs-lookup"><span data-stu-id="93ace-333">In the section **Select how your app will integrate with Facebook**, choose the **Website** section.</span></span>
4. <span data-ttu-id="93ace-334">入力、**サイトの URL**フィールドに、サイトの URL (たとえば、 [ `http://www.example.com` ](http://www.example.com))。</span><span class="sxs-lookup"><span data-stu-id="93ace-334">Fill in the **Site URL** field with the URL of your site (for example, [`http://www.example.com`](http://www.example.com)).</span></span> <span data-ttu-id="93ace-335">**ドメイン**フィールドはオプションです。 これを使用して、ドメイン全体の認証を提供することができます (など*example.com*)。</span><span class="sxs-lookup"><span data-stu-id="93ace-335">The **Domain** field is optional; you can use this to provide authentication for an entire domain (such as *example.com*).</span></span> 

    > [!NOTE]
    > <span data-ttu-id="93ace-336">などの URL を使用してローカル コンピューターにサイトを実行している場合`http://localhost:12345`(番号が、ローカル ポート番号)、この値を追加することができます、**サイトの URL**サイトのテストに対応するフィールド。</span><span class="sxs-lookup"><span data-stu-id="93ace-336">If you are running a site on your local computer with a URL like `http://localhost:12345` (where the number is a local port number), you can add this value to the **Site URL** field for testing your site.</span></span> <span data-ttu-id="93ace-337">ただし、いつでも、ローカル サイトの変更のポート番号、更新する必要があります、**サイトの URL**アプリケーションのフィールド。</span><span class="sxs-lookup"><span data-stu-id="93ace-337">However, any time the port number of your local site changes, you will need to update the **Site URL** field of your application.</span></span>
5. <span data-ttu-id="93ace-338">選択、**変更の保存**ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="93ace-338">Choose the **Save Changes** button.</span></span>
6. <span data-ttu-id="93ace-339">選択、**アプリ**タブをもう一度、し、アプリケーションのスタート ページを表示します。</span><span class="sxs-lookup"><span data-stu-id="93ace-339">Choose the **Apps** tab again, and then view the start page for your application.</span></span>
7. <span data-ttu-id="93ace-340">コピー、**アプリ ID**と**アプリ シークレット**アプリケーションの値を一時的なテキスト ファイルに貼り付けます。</span><span class="sxs-lookup"><span data-stu-id="93ace-340">Copy the **App ID** and **App Secret** values for your application and paste them into a temporary text file.</span></span> <span data-ttu-id="93ace-341">これらの値は、web サイトのコードに Facebook プロバイダーに渡されます。</span><span class="sxs-lookup"><span data-stu-id="93ace-341">You will pass these values to the Facebook provider in your website code.</span></span>
8. <span data-ttu-id="93ace-342">Facebook の開発者向けサイトを終了します。</span><span class="sxs-lookup"><span data-stu-id="93ace-342">Exit the Facebook developer site.</span></span>

<span data-ttu-id="93ace-343">今すぐに変更を加える 2 つのページ、web サイトのユーザーができるように自分の Facebook アカウントを使用してサイトにログインすること。</span><span class="sxs-lookup"><span data-stu-id="93ace-343">Now you make changes to two pages in your website so that users will able to log into the site using their Facebook accounts.</span></span>

1. <span data-ttu-id="93ace-344">Web サイト、編集、  *\_AppStart.cshtml*ページし、Facebook OAuth プロバイダーのコードをコメント解除します。</span><span class="sxs-lookup"><span data-stu-id="93ace-344">In your website, edit the *\_AppStart.cshtml* page and uncomment the code for the Facebook OAuth provider.</span></span> <span data-ttu-id="93ace-345">コメント解除されたコード ブロックは、次のようになります。</span><span class="sxs-lookup"><span data-stu-id="93ace-345">The uncommented code block looks like the following:</span></span> 

    [!code-xml[Main](top-features-in-web-pages-2/samples/sample15.xml)]
2. <span data-ttu-id="93ace-346">コピー、**アプリ ID**の値としての Facebook アプリケーションからの値、`consumerKey`パラメーター (引用符を除く)。</span><span class="sxs-lookup"><span data-stu-id="93ace-346">Copy the **App ID** value from the Facebook application as the value of the `consumerKey` parameter (inside the quotation marks).</span></span>
3. <span data-ttu-id="93ace-347">コピー**アプリ シークレット**としての Facebook アプリケーションからの値、`consumerSecret`パラメーターの値。</span><span class="sxs-lookup"><span data-stu-id="93ace-347">Copy **App Secret** value from the Facebook application as the `consumerSecret` parameter value.</span></span>
4. <span data-ttu-id="93ace-348">ファイルを保存して閉じます。</span><span class="sxs-lookup"><span data-stu-id="93ace-348">Save and close the file.</span></span>
5. <span data-ttu-id="93ace-349">編集、 *~/Account/Login.cshtml*ページおよびからコメントを削除、`<fieldset>`ページの末尾付近のブロック。</span><span class="sxs-lookup"><span data-stu-id="93ace-349">Edit the *~/Account/Login.cshtml* page and remove the comments from the `<fieldset>` block near the end of the page.</span></span> <span data-ttu-id="93ace-350">コードのコメントを解除するには削除、`@*`直前および直後の文字、`<fieldset>`ブロックします。</span><span class="sxs-lookup"><span data-stu-id="93ace-350">To uncomment the code, remove the `@*` characters that precede and follow the `<fieldset>` block.</span></span> <span data-ttu-id="93ace-351">コメントを使用したコード ブロックには、次のように見えるが削除されます。</span><span class="sxs-lookup"><span data-stu-id="93ace-351">The code block with comments removed looks like the following:</span></span> 

    [!code-html[Main](top-features-in-web-pages-2/samples/sample16.html)]
6. <span data-ttu-id="93ace-352">ファイルを保存して閉じます。</span><span class="sxs-lookup"><span data-stu-id="93ace-352">Save and close the file.</span></span>

<span data-ttu-id="93ace-353">Facebook ログインをテストできます。</span><span class="sxs-lookup"><span data-stu-id="93ace-353">Now you can test the Facebook login.</span></span>

1. <span data-ttu-id="93ace-354">サイトの実行*default.cshtml*ページ、**ログイン**ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="93ace-354">Run the site's *default.cshtml* page and choose the **Login** button.</span></span>
2. <span data-ttu-id="93ace-355">*ログイン*ページで、**別のサービスを使用してログイン**セクションで、選択、 **Facebook**アイコン。</span><span class="sxs-lookup"><span data-stu-id="93ace-355">On the *Login* page, in the **Use another service to log in** section, choose the **Facebook** icon.</span></span> 

    <span data-ttu-id="93ace-356">Web ページは、Facebook のログイン ページに、要求をリダイレクトします。</span><span class="sxs-lookup"><span data-stu-id="93ace-356">The web page redirects the request to the Facebook login page.</span></span>

    <span data-ttu-id="93ace-357">[![topSeven-oauth-2](top-features-in-web-pages-2/_static/image26.png)](top-features-in-web-pages-2/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-357">[![topSeven-oauth-2](top-features-in-web-pages-2/_static/image26.png)](top-features-in-web-pages-2/_static/image25.png)</span></span>
3. <span data-ttu-id="93ace-358">Facebook アカウントにログインします。</span><span class="sxs-lookup"><span data-stu-id="93ace-358">Log into a Facebook account.</span></span> 

    <span data-ttu-id="93ace-359">コードでは、Facebook トークンを使用して、認証し、サイトのログインを持つ、Facebook ログインを関連付けることができますをページに返します。</span><span class="sxs-lookup"><span data-stu-id="93ace-359">The code uses the Facebook token to authenticate you and then returns to a page where you can associate your Facebook login with your site's login.</span></span> <span data-ttu-id="93ace-360">ユーザー名または電子メール アドレスを格納、**電子メール**フォームのフィールド。</span><span class="sxs-lookup"><span data-stu-id="93ace-360">Your user name or email address is filled into the **Email** field on the form.</span></span>

    <span data-ttu-id="93ace-361">[![topSeven-oauth-5](top-features-in-web-pages-2/_static/image28.png)](top-features-in-web-pages-2/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-361">[![topSeven-oauth-5](top-features-in-web-pages-2/_static/image28.png)](top-features-in-web-pages-2/_static/image27.png)</span></span>
4. <span data-ttu-id="93ace-362">選択、**関連付ける**ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="93ace-362">Choose the **Associate** button.</span></span> 

    <span data-ttu-id="93ace-363">ブラウザーがホーム ページに戻るしに記録されます。</span><span class="sxs-lookup"><span data-stu-id="93ace-363">The browser returns to the home page and you are logged in.</span></span>

    <span data-ttu-id="93ace-364">[![topSeven-oauth-3](top-features-in-web-pages-2/_static/image30.png)](top-features-in-web-pages-2/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-364">[![topSeven-oauth-3](top-features-in-web-pages-2/_static/image30.png)](top-features-in-web-pages-2/_static/image29.png)</span></span>

<span data-ttu-id="93ace-365">**Twitter ログインを有効にします。**</span><span class="sxs-lookup"><span data-stu-id="93ace-365">**To enable Twitter logins:**</span></span> 

1. <span data-ttu-id="93ace-366">参照、 [Twitter 開発者サイト](https://dev.twitter.com/)します。</span><span class="sxs-lookup"><span data-stu-id="93ace-366">Browse to the [Twitter developers site](https://dev.twitter.com/).</span></span>
2. <span data-ttu-id="93ace-367">選択、**アプリを作成する**リンクし、サイトにログインします。</span><span class="sxs-lookup"><span data-stu-id="93ace-367">Choose the **Create an App** link and then log into the site.</span></span>
3. <span data-ttu-id="93ace-368">**アプリケーションを作成する**フォームで、入力、**名前**と**説明**フィールド。</span><span class="sxs-lookup"><span data-stu-id="93ace-368">On the **Create an Application** form, fill in the **Name** and **Description** fields.</span></span>
4. <span data-ttu-id="93ace-369">**Web サイト**フィールドに、サイトの URL を入力します (たとえば、 [ `http://www.example.com` ](http://www.example.com))。</span><span class="sxs-lookup"><span data-stu-id="93ace-369">In the **WebSite** field, enter the URL of your site (for example, [`http://www.example.com`](http://www.example.com)).</span></span> 

    > [!NOTE]
    > <span data-ttu-id="93ace-370">サイトをローカルでテストする場合 (ような URL を使用して`http://localhost:12345`)、Twitter の URL を受け付けないことがあります。</span><span class="sxs-lookup"><span data-stu-id="93ace-370">If you're testing your site locally (using a URL like `http://localhost:12345`), Twitter might not accept the URL.</span></span> <span data-ttu-id="93ace-371">ただし、するローカル ループバック IP アドレスを使用することがあります (たとえば`http://127.0.0.1:12345`)。</span><span class="sxs-lookup"><span data-stu-id="93ace-371">However, you might be able to use the local loopback IP address (for example `http://127.0.0.1:12345`).</span></span> <span data-ttu-id="93ace-372">これには、アプリケーションをローカルでのテストのプロセスが簡略化します。</span><span class="sxs-lookup"><span data-stu-id="93ace-372">This simplifies the process of testing your application locally.</span></span> <span data-ttu-id="93ace-373">ただし、ローカル サイトのポート番号が変更されるたびにする必要がありますを更新する、 **web サイト**アプリケーションのフィールド。</span><span class="sxs-lookup"><span data-stu-id="93ace-373">However, every time the port number of your local site changes, you'll need to update the **WebSite** field of your application.</span></span>
5. <span data-ttu-id="93ace-374">**コールバック URL**フィールドに、ユーザーが Twitter にログインした後に戻り、web サイトのページの URL を入力します。</span><span class="sxs-lookup"><span data-stu-id="93ace-374">In the **Callback URL** field, enter a URL for the page in your website that you want users to return to after logging into Twitter.</span></span> <span data-ttu-id="93ace-375">たとえば、スターター サイト (これは、ログイン ステータスが認識されます) のホーム ページにユーザーを送信するで入力したのと同じ URL を入力、 **web サイト**フィールド。</span><span class="sxs-lookup"><span data-stu-id="93ace-375">For example, to send users to the home page of the Starter Site (which will recognize their logged-in status), enter the same URL that you entered in the **WebSite** field.</span></span>
6. <span data-ttu-id="93ace-376">条項に同意し、選択、 **Twitter アプリケーションを作成**ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="93ace-376">Accept the terms and choose the **Create your Twitter application** button.</span></span>
7. <span data-ttu-id="93ace-377">**マイ アプリケーション**ランディング ページで、作成したアプリケーションを選択します。</span><span class="sxs-lookup"><span data-stu-id="93ace-377">On the **My Applications** landing page, choose the application you created.</span></span>
8. <span data-ttu-id="93ace-378">**詳細** タブで、下部までスクロールし、選択、**個人用アクセス トークンを作成**ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="93ace-378">On the **Details** tab, scroll to the bottom and choose the **Create My Access Token** button.</span></span>
9. <span data-ttu-id="93ace-379">**詳細** タブで、コピー、**コンシューマー キー**と**コンシューマー シークレット**アプリケーションの値を一時的なテキスト ファイルに貼り付けます。</span><span class="sxs-lookup"><span data-stu-id="93ace-379">On the **Details** tab, copy the **Consumer Key** and **Consumer Secret** values for your application and paste them into a temporary text file.</span></span> <span data-ttu-id="93ace-380">Web サイトのコードで、Twitter プロバイダーにこれらの値を渡すします。</span><span class="sxs-lookup"><span data-stu-id="93ace-380">You'll pass these values to the Twitter provider in your website code.</span></span>
10. <span data-ttu-id="93ace-381">Twitter サイトを終了します。</span><span class="sxs-lookup"><span data-stu-id="93ace-381">Exit the Twitter site.</span></span>

<span data-ttu-id="93ace-382">今すぐに変更を加える 2 つのページ、web サイトでユーザーが自分の Twitter アカウントを使用してサイトにログインできるようにします。</span><span class="sxs-lookup"><span data-stu-id="93ace-382">Now you make changes to two pages in your website so that users will be able to log into the site using their Twitter accounts.</span></span>

1. <span data-ttu-id="93ace-383">Web サイト、編集、  *\_AppStart.cshtml*ページし、Twitter OAuth プロバイダーのコードをコメント解除します。</span><span class="sxs-lookup"><span data-stu-id="93ace-383">In your website, edit the *\_AppStart.cshtml* page and uncomment the code for the Twitter OAuth provider.</span></span> <span data-ttu-id="93ace-384">コメント解除されたコード ブロックのようになります。</span><span class="sxs-lookup"><span data-stu-id="93ace-384">The uncommented code block looks like this:</span></span> 

    [!code-csharp[Main](top-features-in-web-pages-2/samples/sample17.cs)]
2. <span data-ttu-id="93ace-385">コピー、**コンシューマー キー**の値としての Twitter アプリケーションからの値、`consumerKey`パラメーター (引用符を除く)。</span><span class="sxs-lookup"><span data-stu-id="93ace-385">Copy the **Consumer Key** value from the Twitter application as the value of the `consumerKey` parameter (inside the quotation marks).</span></span>
3. <span data-ttu-id="93ace-386">コピー、**コンシューマー シークレット**の値としての Twitter アプリケーションからの値、`consumerSecret`パラメーター。</span><span class="sxs-lookup"><span data-stu-id="93ace-386">Copy the **Consumer Secret** value from the Twitter application as the value of the `consumerSecret` parameter.</span></span>
4. <span data-ttu-id="93ace-387">ファイルを保存して閉じます。</span><span class="sxs-lookup"><span data-stu-id="93ace-387">Save and close the file.</span></span>
5. <span data-ttu-id="93ace-388">編集、 *~/Account/Login.cshtml*ページおよびからコメントを削除、`<fieldset>`ページの末尾付近のブロック。</span><span class="sxs-lookup"><span data-stu-id="93ace-388">Edit the *~/Account/Login.cshtml* page and remove the comments from the `<fieldset>` block near the end of the page.</span></span> <span data-ttu-id="93ace-389">コードのコメントを解除するには削除、`@*`直前および直後の文字、`<fieldset>`ブロックします。</span><span class="sxs-lookup"><span data-stu-id="93ace-389">To uncomment the code, remove the `@*` characters that precede and follow the `<fieldset>` block.</span></span> <span data-ttu-id="93ace-390">コメントを使用したコード ブロックには、次のように見えるが削除されます。</span><span class="sxs-lookup"><span data-stu-id="93ace-390">The code block with comments removed looks like the following:</span></span> 

    [!code-html[Main](top-features-in-web-pages-2/samples/sample18.html)]
6. <span data-ttu-id="93ace-391">ファイルを保存して閉じます。</span><span class="sxs-lookup"><span data-stu-id="93ace-391">Save and close the file.</span></span>

<span data-ttu-id="93ace-392">Twitter ログインをテストできます。</span><span class="sxs-lookup"><span data-stu-id="93ace-392">Now you can test the Twitter login.</span></span>

1. <span data-ttu-id="93ace-393">実行、 *default.cshtml*サイトのページを選択し、**ログイン**ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="93ace-393">Run the *default.cshtml* page of your site and choose the **Login** button.</span></span>
2. <span data-ttu-id="93ace-394">*ログイン*ページで、**別のサービスを使用してログイン**セクションで、選択、 **Twitter**アイコン。</span><span class="sxs-lookup"><span data-stu-id="93ace-394">On the *Login* page, in the **Use another service to log in** section, choose the **Twitter** icon.</span></span> 

    <span data-ttu-id="93ace-395">Web ページは、要求を作成したアプリケーションの Twitter ログイン ページにリダイレクトします。</span><span class="sxs-lookup"><span data-stu-id="93ace-395">The web page redirects the request to a Twitter login page for the application you created.</span></span>

    <span data-ttu-id="93ace-396">[![topSeven-oauth-4](top-features-in-web-pages-2/_static/image32.png)](top-features-in-web-pages-2/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-396">[![topSeven-oauth-4](top-features-in-web-pages-2/_static/image32.png)](top-features-in-web-pages-2/_static/image31.png)</span></span>
3. <span data-ttu-id="93ace-397">Twitter アカウントにログインします。</span><span class="sxs-lookup"><span data-stu-id="93ace-397">Log into a Twitter account.</span></span>
4. <span data-ttu-id="93ace-398">コードは、ユーザーの認証に Twitter のトークンを使用し、返すページに関連付けることができます、web サイトのアカウントでログイン。</span><span class="sxs-lookup"><span data-stu-id="93ace-398">The code uses the Twitter token to authenticate the user and then returns you to a page where you can associate your login with your website account.</span></span> <span data-ttu-id="93ace-399">名前または電子メール アドレスを格納、**電子メール**フォームのフィールド。</span><span class="sxs-lookup"><span data-stu-id="93ace-399">Your name or email address is filled into the **Email** field on the form.</span></span>

    <span data-ttu-id="93ace-400">[![topSeven-oauth-5](top-features-in-web-pages-2/_static/image34.png)](top-features-in-web-pages-2/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-400">[![topSeven-oauth-5](top-features-in-web-pages-2/_static/image34.png)](top-features-in-web-pages-2/_static/image33.png)</span></span>
5. <span data-ttu-id="93ace-401">選択、**関連付ける**ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="93ace-401">Choose the **Associate** button.</span></span> 

    <span data-ttu-id="93ace-402">ブラウザーがホーム ページに戻るしに記録されます。</span><span class="sxs-lookup"><span data-stu-id="93ace-402">The browser returns to the home page and you are logged in.</span></span>

    <span data-ttu-id="93ace-403">[![topSeven-oauth-3](top-features-in-web-pages-2/_static/image36.png)](top-features-in-web-pages-2/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-403">[![topSeven-oauth-3](top-features-in-web-pages-2/_static/image36.png)](top-features-in-web-pages-2/_static/image35.png)</span></span>

<a id="maphelper"></a>
### <a name="adding-maps-using-the-maps-helper"></a><span data-ttu-id="93ace-404">マップ ヘルパーを使用してマップを追加します。</span><span class="sxs-lookup"><span data-stu-id="93ace-404">Adding Maps Using the Maps Helper</span></span>

<span data-ttu-id="93ace-405">Web ページ 2 には、ASP.NET Web Helpers Library への追加には、Web ページ サイト用のアドインのパッケージが含まれています。</span><span class="sxs-lookup"><span data-stu-id="93ace-405">Web Pages 2 includes additions to the ASP.NET Web Helpers Library, which is a package of add-ins for a Web Pages site.</span></span> <span data-ttu-id="93ace-406">によって提供されるマッピング コンポーネントの 1 つが、`Microsoft.Web.Helpers.Maps`クラス。</span><span class="sxs-lookup"><span data-stu-id="93ace-406">One of these is a mapping component provided by the `Microsoft.Web.Helpers.Maps` class.</span></span> <span data-ttu-id="93ace-407">使用することができます、`Maps`アドレスまたは経度と緯度の座標のセットのいずれかに基づくマップを生成するクラス。</span><span class="sxs-lookup"><span data-stu-id="93ace-407">You can use the `Maps` class to generate maps based either on an address or on a set of longitude and latitude coordinates.</span></span> <span data-ttu-id="93ace-408">`Maps`クラス Bing、Google、MapQuest、Yahoo などの人気のあるマップ エンジンを直接呼び出すことができます。</span><span class="sxs-lookup"><span data-stu-id="93ace-408">The `Maps` class lets you call directly into popular map engines including Bing, Google, MapQuest, and Yahoo.</span></span>

<span data-ttu-id="93ace-409">使用して、新しい`Maps`クラス、web サイトで、Web Helpers Library のバージョン 2 を最初にインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="93ace-409">To use the new `Maps` class in your website, you must first install the version 2 of the Web Helpers Library.</span></span> <span data-ttu-id="93ace-410">これを行うには、現在リリースされているバージョンのインストール手順に移動、 [ASP.NET Web Helpers Library](https://go.microsoft.com/fwlink/?LinkId=202889#webhelpers)とバージョン 2 をインストールします。</span><span class="sxs-lookup"><span data-stu-id="93ace-410">To do this, go to the instructions for installing the currently released version of the [ASP.NET Web Helpers Library](https://go.microsoft.com/fwlink/?LinkId=202889#webhelpers) and install version 2.</span></span>

<span data-ttu-id="93ace-411">ページへのマッピングを追加する手順は、呼び出すことのマップ エンジンに関係なく同じです。</span><span class="sxs-lookup"><span data-stu-id="93ace-411">The steps for adding mapping to a page are the same regardless of which of the map engines you call.</span></span> <span data-ttu-id="93ace-412">マップ ページに JavaScript ファイル参照を追加し、表示する呼び出しを追加する、`<script>`ページにタグを付けます。</span><span class="sxs-lookup"><span data-stu-id="93ace-412">You just add a JavaScript file reference to your mapping page and then add a call that renders the `<script>` tags on your page.</span></span> <span data-ttu-id="93ace-413">マッピング ページで、使用するマップ エンジンを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="93ace-413">Then on your mapping page, call the map engine you want to use.</span></span>

<span data-ttu-id="93ace-414">次の例では、アドレスに基づくマップを表示するページおよび経度と緯度の座標に基づくマップを表示する別のページを作成する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="93ace-414">The following example shows how to create a page that renders a map based on an address, and another page that renders a map based on longitude and latitude coordinates.</span></span> <span data-ttu-id="93ace-415">アドレスのマッピングの例は、Google マップを使用し、座標のマッピングの例は、Bing Maps を使用しています。</span><span class="sxs-lookup"><span data-stu-id="93ace-415">The address mapping example uses Google Maps, and the coordinate mapping example uses Bing Maps.</span></span> <span data-ttu-id="93ace-416">コードでは、次の要素に注意してください。</span><span class="sxs-lookup"><span data-stu-id="93ace-416">Note the following elements in the code:</span></span>

- <span data-ttu-id="93ace-417">呼び出し`Assets.AddScript`マッピングの 2 つのページの上部にあります。</span><span class="sxs-lookup"><span data-stu-id="93ace-417">The call to `Assets.AddScript` at the top of the two mapping pages.</span></span> <span data-ttu-id="93ace-418">このメソッドへの参照の追加、 *jquery 1.6.2.min.js*ファイルに含まれている、**スターター サイト**テンプレートで必要な`Maps`クラス。</span><span class="sxs-lookup"><span data-stu-id="93ace-418">This method adds a reference to the *jquery-1.6.2.min.js* file that is included with the **Starter Site** template and that's required by the `Maps` class.</span></span>
- <span data-ttu-id="93ace-419">呼び出し、`Assets.GetScripts`レイアウト ファイル内のメソッド。</span><span class="sxs-lookup"><span data-stu-id="93ace-419">The call to the `Assets.GetScripts` method in the layout file.</span></span> <span data-ttu-id="93ace-420">このメソッドを表示、`<script>`マッピングの 2 つのページでタグ付けします。</span><span class="sxs-lookup"><span data-stu-id="93ace-420">This method renders the `<script>` tag on the two mapping pages.</span></span>
- <span data-ttu-id="93ace-421">呼び出し、`@Maps.GetGoogleHtml`と`@Maps.GetBingHtml`マッピング ページ内のメソッド。</span><span class="sxs-lookup"><span data-stu-id="93ace-421">The call to the `@Maps.GetGoogleHtml` and the `@Maps.GetBingHtml` methods in the mapping pages.</span></span> <span data-ttu-id="93ace-422">アドレスをマップするには、アドレス文字列を渡す必要があります。</span><span class="sxs-lookup"><span data-stu-id="93ace-422">To map an address, you must pass an address string.</span></span> <span data-ttu-id="93ace-423">座標をマップするには、緯度と経度を渡す必要があります座標。</span><span class="sxs-lookup"><span data-stu-id="93ace-423">To map coordinates, you must pass longitude and latitude coordinates.</span></span> <span data-ttu-id="93ace-424">Bing Maps のエンジンは、キーも渡す必要があります (入手を無料でサインアップすることにより、 [Bing Maps 開発者サイト](https://www.microsoft.com/maps/developers/web.aspx))。</span><span class="sxs-lookup"><span data-stu-id="93ace-424">For the Bing Maps engine, you must also pass a key (which you get for free by signing up at the [Bing Maps Developers site](https://www.microsoft.com/maps/developers/web.aspx)).</span></span> <span data-ttu-id="93ace-425">その他のマップ エンジンのメソッドと同様の方法では動作 (`@Maps.GetYahooHtml`、 `@Maps.GetMapQuestHtml`)。</span><span class="sxs-lookup"><span data-stu-id="93ace-425">The methods for the other map engines work in a similar way (`@Maps.GetYahooHtml`, `@Maps.GetMapQuestHtml`).</span></span>

<span data-ttu-id="93ace-426">マッピングのページを作成します。</span><span class="sxs-lookup"><span data-stu-id="93ace-426">To create mapping pages:</span></span>

1. <span data-ttu-id="93ace-427">に基づいて web サイトを作成、**スターター サイト**テンプレート。</span><span class="sxs-lookup"><span data-stu-id="93ace-427">Create a website based on the **Starter Site** template.</span></span>
2. <span data-ttu-id="93ace-428">という名前のファイルを作成する*MapAddress.cshtml*サイトのルートにします。</span><span class="sxs-lookup"><span data-stu-id="93ace-428">Create a file named *MapAddress.cshtml* in the root of the site.</span></span> <span data-ttu-id="93ace-429">このページに渡すことのできる、アドレスに基づくマップが生成されます。</span><span class="sxs-lookup"><span data-stu-id="93ace-429">This page will generate a map based on an address that you pass to it.</span></span>
3. <span data-ttu-id="93ace-430">既存のコンテンツを上書き、ファイルに次のコードをコピーします。</span><span class="sxs-lookup"><span data-stu-id="93ace-430">Copy the following code into the file, overwriting the existing content.</span></span> 

    [!code-cshtml[Main](top-features-in-web-pages-2/samples/sample19.cshtml)]
4. <span data-ttu-id="93ace-431">という名前のファイルを作成する *\_MapLayout.cshtml*サイトのルートにします。</span><span class="sxs-lookup"><span data-stu-id="93ace-431">Create a file named *\_MapLayout.cshtml* in the root of the site.</span></span> <span data-ttu-id="93ace-432">このページは、このページは、2 つのマップ ページのレイアウト ページになります。</span><span class="sxs-lookup"><span data-stu-id="93ace-432">This page will be the layout page for the two mapping pages.</span></span>
5. <span data-ttu-id="93ace-433">既存のコンテンツを上書き、ファイルに次のコードをコピーします。</span><span class="sxs-lookup"><span data-stu-id="93ace-433">Copy the following code into the file, overwriting the existing content.</span></span> 

    [!code-html[Main](top-features-in-web-pages-2/samples/sample20.html)]
6. <span data-ttu-id="93ace-434">という名前のファイルを作成する*MapCoordinates.cshtml*サイトのルートにします。</span><span class="sxs-lookup"><span data-stu-id="93ace-434">Create a file named *MapCoordinates.cshtml* in the root of the site.</span></span> <span data-ttu-id="93ace-435">このページに渡す座標のセットに基づくマップが生成されます。</span><span class="sxs-lookup"><span data-stu-id="93ace-435">This page will generate a map based on a set of coordinates that you pass to it.</span></span>
7. <span data-ttu-id="93ace-436">既存のコンテンツを上書き、ファイルに次のコードをコピーします。</span><span class="sxs-lookup"><span data-stu-id="93ace-436">Copy the following code into the file, overwriting the existing content.</span></span> 

    [!code-cshtml[Main](top-features-in-web-pages-2/samples/sample21.cshtml)]

<span data-ttu-id="93ace-437">マップ ページをテストします。</span><span class="sxs-lookup"><span data-stu-id="93ace-437">To test your mapping pages:</span></span>

1. <span data-ttu-id="93ace-438">ページの実行*MapAddress.cshtml*ファイル。</span><span class="sxs-lookup"><span data-stu-id="93ace-438">Run the page *MapAddress.cshtml* file.</span></span>
2. <span data-ttu-id="93ace-439">番地、状態または都道府県、郵便番号などの完全なアドレス文字列を入力してから、 **Map It**ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="93ace-439">Enter a full address string including a street address, state or province, and postal code, and then choose the **Map It** button.</span></span> <span data-ttu-id="93ace-440">ページは、Google マップからマップを表示します。</span><span class="sxs-lookup"><span data-stu-id="93ace-440">The page renders a map from Google Maps:</span></span> 

    <span data-ttu-id="93ace-441">[![topseven-maphelper-1](top-features-in-web-pages-2/_static/image38.png)](top-features-in-web-pages-2/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-441">[![topseven-maphelper-1](top-features-in-web-pages-2/_static/image38.png)](top-features-in-web-pages-2/_static/image37.png)</span></span>
3. <span data-ttu-id="93ace-442">特定の場所の緯度と経度の座標のセットを検索します。</span><span class="sxs-lookup"><span data-stu-id="93ace-442">Find a set of latitude and longitude coordinates for a specific location.</span></span>
4. <span data-ttu-id="93ace-443">ページの実行*MapCoordinates.cshtml*します。</span><span class="sxs-lookup"><span data-stu-id="93ace-443">Run the page *MapCoordinates.cshtml*.</span></span> <span data-ttu-id="93ace-444">座標を入力してから、 **Map It**ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="93ace-444">Enter the coordinates and then choose the **Map It** button.</span></span> <span data-ttu-id="93ace-445">ページは、Bing マップからマップを表示します。</span><span class="sxs-lookup"><span data-stu-id="93ace-445">The page renders a map from Bing Maps:</span></span> 

    <span data-ttu-id="93ace-446">[![topseven-maphelper-2](top-features-in-web-pages-2/_static/image40.png)](top-features-in-web-pages-2/_static/image39.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-446">[![topseven-maphelper-2](top-features-in-web-pages-2/_static/image40.png)](top-features-in-web-pages-2/_static/image39.png)</span></span>

<a id="sidebyside"></a>
### <a name="running-web-pages-applications-side-by-side"></a><span data-ttu-id="93ace-447">サイド バイ サイドの Web ページ アプリケーションを実行します。</span><span class="sxs-lookup"><span data-stu-id="93ace-447">Running Web Pages Applications Side by Side</span></span>

<span data-ttu-id="93ace-448">Web ページ 2 では、サイド バイ サイドのアプリケーションを実行する機能を追加します。</span><span class="sxs-lookup"><span data-stu-id="93ace-448">Web Pages 2 adds the ability to run applications side by side.</span></span> <span data-ttu-id="93ace-449">これにより、Web ページ 1 アプリケーションを実行、新しい Web ページ 2 アプリケーションを構築およびそれらのすべてを同じコンピューターで実行を続行できます。</span><span class="sxs-lookup"><span data-stu-id="93ace-449">This lets you continue to run your Web Pages 1 applications, build new Web Pages 2 applications, and run all of them on the same computer.</span></span>

<span data-ttu-id="93ace-450">WebMatrix を使用した Web ページ 2 ベータ版をインストールするときの注意点を次に示します。</span><span class="sxs-lookup"><span data-stu-id="93ace-450">Here are some things to remember when you install the Web Pages 2 Beta with WebMatrix:</span></span>

- <span data-ttu-id="93ace-451">既定では、既存の Web ページ アプリケーションは、コンピューターにバージョン 2 のアプリケーションとして実行されます。</span><span class="sxs-lookup"><span data-stu-id="93ace-451">By default, existing Web Pages applications will run as version 2 applications on your computer.</span></span> <span data-ttu-id="93ace-452">(バージョン 2 のアセンブリは、GAC にインストールおよび自動的に使用されます)。</span><span class="sxs-lookup"><span data-stu-id="93ace-452">(The assemblies for version 2 are installed in the GAC and will be used automatically.)</span></span>
- <span data-ttu-id="93ace-453">(前のポイントのように既定) ではなく、Web ページ バージョン 1 を使用してサイトを実行する場合は、そのためには、サイトを構成できます。</span><span class="sxs-lookup"><span data-stu-id="93ace-453">If you want to run a site using Web Pages version 1 (instead of the default, as in the previous point), you can configure the site to do that.</span></span> <span data-ttu-id="93ace-454">サイトを持っていない場合、 *web.config*サイトのルートにファイル、新しいものを作成および既存のコンテンツを上書きするのには、次の XML をコピーします。</span><span class="sxs-lookup"><span data-stu-id="93ace-454">If your site doesn't already have a *web.config* file in the root of the site, create a new one and copy the following XML into it, overwriting the existing content.</span></span> <span data-ttu-id="93ace-455">サイトが既に含まれている場合、 *web.config*ファイルを追加、`<appSettings>`要素に次のいずれかのように、`<configuration>`セクション。</span><span class="sxs-lookup"><span data-stu-id="93ace-455">If the site already contains a *web.config* file, add an `<appSettings>` element like the following one to the `<configuration>` section.</span></span>

    [!code-xml[Main](top-features-in-web-pages-2/samples/sample22.xml)]
  <span data-ttu-id="93ace-456">'-で、バージョンを指定しない場合、 *web.config*ファイル、サイトはバージョン 2 のサイトとして配置されます。</span><span class="sxs-lookup"><span data-stu-id="93ace-456">\`- If you do not specify a version in the *web.config* file, a site is deployed as a version 2 site.</span></span> <span data-ttu-id="93ace-457">(バージョン 2 のアセンブリにコピー、 *bin*デプロイされたサイトのフォルダーです)。</span><span class="sxs-lookup"><span data-stu-id="93ace-457">(The version 2 assemblies are copied to the *bin* folder in the deployed site.)</span></span>
- <span data-ttu-id="93ace-458">Web Matrix のバージョン 2 ベータ版に含まれる Web ページのバージョン 2 アセンブリで、サイトのサイト テンプレートを使って作成する新しいアプリケーション*bin*フォルダー。</span><span class="sxs-lookup"><span data-stu-id="93ace-458">New applications that you create using the site templates in Web Matrix version 2 Beta include the Web Pages version 2 assemblies in the site's *bin* folder.</span></span>

<span data-ttu-id="93ace-459">サイトに適切なアセンブリをインストールする NuGet を使用して、サイトで使用する Web ページのバージョンを常に制御する一般に、 *bin*フォルダー。</span><span class="sxs-lookup"><span data-stu-id="93ace-459">In general, you can always control which version of Web Pages to use with your site by using NuGet to install the appropriate assemblies into the site's *bin* folder.</span></span> <span data-ttu-id="93ace-460">パッケージを検索するには、次を参照してください。 [NuGet.org](http://NuGet.org)します。</span><span class="sxs-lookup"><span data-stu-id="93ace-460">To find packages, visit [NuGet.org](http://NuGet.org).</span></span>

<a id="mobile"></a>
### <a name="rendering-pages-for-mobile-devices"></a><span data-ttu-id="93ace-461">モバイル デバイス用ページのレンダリング</span><span class="sxs-lookup"><span data-stu-id="93ace-461">Rendering Pages for Mobile Devices</span></span>

<span data-ttu-id="93ace-462">Web ページ 2 では、モバイル デバイスまたはその他のデバイスでコンテンツの描画のカスタムの表示を作成できます。</span><span class="sxs-lookup"><span data-stu-id="93ace-462">Web Pages 2 lets you create custom displays for rendering content on mobile or other devices.</span></span>

<span data-ttu-id="93ace-463">`System.Web.WebPages`名前空間には表示モードを使用することができます、次のクラスが含まれています: `DefaultDisplayMode`、 `DisplayInfo`、および`DisplayModes`します。</span><span class="sxs-lookup"><span data-stu-id="93ace-463">The `System.Web.WebPages` namespace contains the following classes that let you work with display modes: `DefaultDisplayMode`, `DisplayInfo`, and `DisplayModes`.</span></span> <span data-ttu-id="93ace-464">これらのクラスを直接使用し、特定のデバイスの右側の出力をレンダリングするコードを記述できます。</span><span class="sxs-lookup"><span data-stu-id="93ace-464">You can use these classes directly and write code that renders the right output for specific devices.</span></span>

<span data-ttu-id="93ace-465">または、このようなファイルの名前付けパターンを使用してデバイスに固有のページを作成できます<em>ファイル名。</em> 。<em>Mobile</em><em>.cshtml</em>します。</span><span class="sxs-lookup"><span data-stu-id="93ace-465">Alternatively, you can create device-specific pages by using a file-naming pattern like this: <em>FileName.</em><em>Mobile</em><em>.cshtml</em>.</span></span> <span data-ttu-id="93ace-466">たとえば、ページ、という名前の 2 つのバージョンを作成できます<em>MyFile.cshtml</em>という名前の 1 つ<em>MyFile.Mobile.cshtml</em>します。</span><span class="sxs-lookup"><span data-stu-id="93ace-466">For example, you can create two versions of a page, one named <em>MyFile.cshtml</em> and one named <em>MyFile.Mobile.cshtml</em>.</span></span> <span data-ttu-id="93ace-467">実行時に、モバイル デバイスを要求したとき<em>MyFile.cshtml</em>、Web ページからコンテンツをレンダリングする<em>MyFile.Mobile.cshtml</em>します。</span><span class="sxs-lookup"><span data-stu-id="93ace-467">At run time, when a mobile device requests <em>MyFile.cshtml</em>, Web Pages renders the content from <em>MyFile.Mobile.cshtml</em>.</span></span> <span data-ttu-id="93ace-468">それ以外の場合、 <em>MyFile.cshtml</em>を表示します。</span><span class="sxs-lookup"><span data-stu-id="93ace-468">Otherwise, <em>MyFile.cshtml</em> is rendered.</span></span>

<span data-ttu-id="93ace-469">次の例では、モバイル デバイスのコンテンツ ページを追加して、モバイルのレンダリングを有効にする方法を示します。</span><span class="sxs-lookup"><span data-stu-id="93ace-469">The following example shows how to enable mobile rendering by adding a content page for mobile devices.</span></span> <span data-ttu-id="93ace-470">*Page1.cshtml*コンテンツにはナビゲーション サイド バーが含まれています。</span><span class="sxs-lookup"><span data-stu-id="93ace-470">*Page1.cshtml* contains content plus a navigation sidebar.</span></span> <span data-ttu-id="93ace-471">*Page1.Mobile.cshtml* 、同じコンテンツが含まれていますが、サイドバーが省略されます。</span><span class="sxs-lookup"><span data-stu-id="93ace-471">*Page1.Mobile.cshtml* contains the same content, but omits the sidebar.</span></span>

<span data-ttu-id="93ace-472">ビルドして、コード サンプルを実行します。</span><span class="sxs-lookup"><span data-stu-id="93ace-472">To build and run the code sample:</span></span>

1. <span data-ttu-id="93ace-473">という名前のファイルを作成、Web ページ サイトで*Page1.cshtml*をコピーし、 *Page1.cshtml*の例では、そこにコンテンツ。</span><span class="sxs-lookup"><span data-stu-id="93ace-473">In a Web Pages site, create a file named *Page1.cshtml* and copy the *Page1.cshtml* content into it from the example.</span></span>
2. <span data-ttu-id="93ace-474">という名前のファイルを作成する*Page1.Mobile.cshtml*をコピーし、 *Page1.Mobile.cshtml*の例では、そこにコンテンツ。</span><span class="sxs-lookup"><span data-stu-id="93ace-474">Create a file named *Page1.Mobile.cshtml* and copy the *Page1.Mobile.cshtml* content into it from the example.</span></span> <span data-ttu-id="93ace-475">モバイル バージョンのページが小さい画面できれいに表示のナビゲーション セクションを省略することに注意してください。</span><span class="sxs-lookup"><span data-stu-id="93ace-475">Notice that the mobile version of the page omits the navigation section for better rendering on a smaller screen.</span></span>
3. <span data-ttu-id="93ace-476">デスクトップ ブラウザーを実行しを参照*Page1.cshtml*します。</span><span class="sxs-lookup"><span data-stu-id="93ace-476">Run a desktop browser and browse to *Page1.cshtml*.</span></span>
4. <span data-ttu-id="93ace-477">モバイル ブラウザー (または、モバイル デバイス エミュレーター) を実行しを参照*Page1.cshtml*します。</span><span class="sxs-lookup"><span data-stu-id="93ace-477">Run a mobile browser (or a mobile device emulator) and browse to *Page1.cshtml*.</span></span> <span data-ttu-id="93ace-478">今回の Web ページを表示、ページのモバイル バージョンに注意してください。</span><span class="sxs-lookup"><span data-stu-id="93ace-478">Notice that this time Web Pages renders the mobile version of the page.</span></span> 

    > [!NOTE]
    > <span data-ttu-id="93ace-479">モバイル ページをテストするには、デスクトップ コンピューターで実行されているモバイル デバイス シミュレーターを使用できます。</span><span class="sxs-lookup"><span data-stu-id="93ace-479">To test mobile pages, you can use a mobile device simulator that runs on a desktop computer.</span></span> <span data-ttu-id="93ace-480">このツールを使用して、モバイル デバイスでになりますが、web ページをテストできます (つまり、通常ははるかに小さいで領域を表示)。</span><span class="sxs-lookup"><span data-stu-id="93ace-480">This tool lets you test web pages as they would look on mobile devices (that is, typically with a much smaller display area).</span></span> <span data-ttu-id="93ace-481">シミュレーターの 1 つの例は、[ユーザー エージェント切り替えアドオン](http://addons.mozilla.org/en-us/firefox/addon/user-agent-switcher/)、Mozilla firefox に対応することができます Firefox のデスクトップ バージョンからのさまざまなモバイル ブラウザーをエミュレートします。</span><span class="sxs-lookup"><span data-stu-id="93ace-481">One example of a simulator is the [User Agent Switcher add-on](http://addons.mozilla.org/en-us/firefox/addon/user-agent-switcher/) for Mozilla Firefox, which lets you emulate various mobile browsers from a desktop version of Firefox.</span></span>

<span data-ttu-id="93ace-482">*Page1.cshtml*</span><span class="sxs-lookup"><span data-stu-id="93ace-482">*Page1.cshtml*</span></span>

[!code-html[Main](top-features-in-web-pages-2/samples/sample23.html)]

<span data-ttu-id="93ace-483">*Page1.Mobile.cshtml*</span><span class="sxs-lookup"><span data-stu-id="93ace-483">*Page1.Mobile.cshtml*</span></span>

[!code-html[Main](top-features-in-web-pages-2/samples/sample24.html)]

<span data-ttu-id="93ace-484">*Page1.cshtml*デスクトップ ブラウザーで表示されます。</span><span class="sxs-lookup"><span data-stu-id="93ace-484">*Page1.cshtml* rendered in a desktop browser:</span></span>

<span data-ttu-id="93ace-485">[![topseven-displaymodes-1](top-features-in-web-pages-2/_static/image42.png)](top-features-in-web-pages-2/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-485">[![topseven-displaymodes-1](top-features-in-web-pages-2/_static/image42.png)](top-features-in-web-pages-2/_static/image41.png)</span></span>

<span data-ttu-id="93ace-486">*Page1.Mobile.cshtml* Firefox ブラウザーでは、Apple iPhone シミュレーター ビューに表示されます。</span><span class="sxs-lookup"><span data-stu-id="93ace-486">*Page1.Mobile.cshtml* displayed in an Apple iPhone simulator view in the Firefox browser.</span></span> <span data-ttu-id="93ace-487">要求内容がにもかかわらず*Page1.cshtml*、アプリケーションのレンダリング*Page1.Mobile.cshtml*します。</span><span class="sxs-lookup"><span data-stu-id="93ace-487">Even though the request is to *Page1.cshtml*, the application renders *Page1.Mobile.cshtml*.</span></span>

<span data-ttu-id="93ace-488">[![topseven-displaymodes-2](top-features-in-web-pages-2/_static/image44.png)](top-features-in-web-pages-2/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="93ace-488">[![topseven-displaymodes-2](top-features-in-web-pages-2/_static/image44.png)](top-features-in-web-pages-2/_static/image43.png)</span></span>

<a id="resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="93ace-489">その他のリソース</span><span class="sxs-lookup"><span data-stu-id="93ace-489">Additional Resources</span></span>

### <a name="aspnet-web-pages-1-resources"></a><span data-ttu-id="93ace-490">ASP.NET Web ページの 1 つのリソース</span><span class="sxs-lookup"><span data-stu-id="93ace-490">ASP.NET Web Pages 1 Resources</span></span>

> [!NOTE]
> <span data-ttu-id="93ace-491">ほとんどの Web ページ 1 のプログラミングと API のリソースは、Web ページ 2 にも適用されます。</span><span class="sxs-lookup"><span data-stu-id="93ace-491">Most Web Pages 1 programming and API resources still apply to Web Pages 2.</span></span>

- [<span data-ttu-id="93ace-492">ASP.NET Web Pages のプログラミングの概要</span><span class="sxs-lookup"><span data-stu-id="93ace-492">Introduction to ASP.NET Web Pages Programming</span></span>](https://go.microsoft.com/fwlink/?LinkId=202890)

### <a name="webmatrix-resources"></a><span data-ttu-id="93ace-493">WebMatrix のリソース</span><span class="sxs-lookup"><span data-stu-id="93ace-493">WebMatrix Resources</span></span>

- [<span data-ttu-id="93ace-494">WebMatrix 2 はの新機能</span><span class="sxs-lookup"><span data-stu-id="93ace-494">WebMatrix 2 What's New</span></span>](http://webmatrix.com/next)
- [<span data-ttu-id="93ace-495">Microsoft WebMatrix サイト</span><span class="sxs-lookup"><span data-stu-id="93ace-495">Microsoft WebMatrix Site</span></span>](https://go.microsoft.com/fwlink/?LinkID=195076)
- <span data-ttu-id="93ace-496">[Microsoft WebMatrix を使用した Web 開発の開始](https://msdn.microsoft.com/en-us/library/hh145669(v=VS.99).aspx)(サンプルの使い方の Web ページ アプリケーションを含む)</span><span class="sxs-lookup"><span data-stu-id="93ace-496">[Starting Web Development with Microsoft WebMatrix](https://msdn.microsoft.com/en-us/library/hh145669(v=VS.99).aspx)(includes a full-length sample Web Pages application)</span></span>
