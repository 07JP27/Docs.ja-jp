---
title: ASP.NET Core モジュール構成リファレンス
author: guardrex
description: ASP.NET Core アプリをホストするための ASP.NET Core モジュールを構成する方法について説明します。
ms.author: riande
ms.custom: mvc
ms.date: 02/15/2018
uid: host-and-deploy/aspnet-core-module
ms.openlocfilehash: 8d4283c61163a586557135fddfb85440251aaf29
ms.sourcegitcommit: a1afd04758e663d7062a5bfa8a0d4dca38f42afc
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/20/2018
ms.locfileid: "36275620"
---
# <a name="aspnet-core-module-configuration-reference"></a><span data-ttu-id="bcd43-103">ASP.NET Core モジュール構成リファレンス</span><span class="sxs-lookup"><span data-stu-id="bcd43-103">ASP.NET Core Module configuration reference</span></span>

<span data-ttu-id="bcd43-104">著者: [Luke Latham](https://github.com/guardrex)、[Rick Anderson](https://twitter.com/RickAndMSFT)、[Sourabh Shirhatti](https://twitter.com/sshirhatti)</span><span class="sxs-lookup"><span data-stu-id="bcd43-104">By [Luke Latham](https://github.com/guardrex), [Rick Anderson](https://twitter.com/RickAndMSFT), and [Sourabh Shirhatti](https://twitter.com/sshirhatti)</span></span>

<span data-ttu-id="bcd43-105">このドキュメントでは、ASP.NET Core アプリをホストするための ASP.NET Core モジュールの構成方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-105">This document provides instructions on how to configure the ASP.NET Core Module for hosting ASP.NET Core apps.</span></span> <span data-ttu-id="bcd43-106">ASP.NET Core モジュールの概要とインストールの説明については、「[ASP.NET Core モジュール](xref:fundamentals/servers/aspnet-core-module)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="bcd43-106">For an introduction to the ASP.NET Core Module and installation instructions, see the [ASP.NET Core Module overview](xref:fundamentals/servers/aspnet-core-module).</span></span>

## <a name="configuration-with-webconfig"></a><span data-ttu-id="bcd43-107">web.config での構成</span><span class="sxs-lookup"><span data-stu-id="bcd43-107">Configuration with web.config</span></span>

<span data-ttu-id="bcd43-108">ASP.NET Core モジュールは、サイトの *web.config* ファイルの `system.webServer` ノードの `aspNetCore` セクションを使って構成します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-108">The ASP.NET Core Module is configured with the `aspNetCore` section of the `system.webServer` node in the site's *web.config* file.</span></span>

<span data-ttu-id="bcd43-109">次に示す *web.config* ファイルは、[フレームワークに依存する展開](/dotnet/articles/core/deploying/#framework-dependent-deployments-fdd)用に発行されたもので、サイトの要求を処理するように ASP.NET Core モジュールを構成します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-109">The following *web.config* file is published for a [framework-dependent deployment](/dotnet/articles/core/deploying/#framework-dependent-deployments-fdd) and configures the ASP.NET Core Module to handle site requests:</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <system.webServer>
    <handlers>
      <add name="aspNetCore" path="*" verb="*" modules="AspNetCoreModule" resourceType="Unspecified" />
    </handlers>
    <aspNetCore processPath="dotnet" 
                arguments=".\MyApp.dll" 
                stdoutLogEnabled="false" 
                stdoutLogFile=".\logs\stdout" />
  </system.webServer>
</configuration>
```

<span data-ttu-id="bcd43-110">次の *web.config* は、[自己完結型の展開](/dotnet/articles/core/deploying/#self-contained-deployments-scd)用に発行されたものです。</span><span class="sxs-lookup"><span data-stu-id="bcd43-110">The following *web.config* is published for a [self-contained deployment](/dotnet/articles/core/deploying/#self-contained-deployments-scd):</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <system.webServer>
    <handlers>
      <add name="aspNetCore" path="*" verb="*" modules="AspNetCoreModule" resourceType="Unspecified" />
    </handlers>
    <aspNetCore processPath=".\MyApp.exe" 
                stdoutLogEnabled="false" 
                stdoutLogFile=".\logs\stdout" />
  </system.webServer>
</configuration>
```

<span data-ttu-id="bcd43-111">アプリが [Azure App Service](https://azure.microsoft.com/services/app-service/) に対して展開されると、`stdoutLogFile` パスは `\\?\%home%\LogFiles\stdout` に設定されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-111">When an app is deployed to [Azure App Service](https://azure.microsoft.com/services/app-service/), the `stdoutLogFile` path is set to `\\?\%home%\LogFiles\stdout`.</span></span> <span data-ttu-id="bcd43-112">パスは stdout ログを *LogFiles* フォルダーに保存します。これは、サービスによって自動的に作成される場所です。</span><span class="sxs-lookup"><span data-stu-id="bcd43-112">The path saves stdout logs to the *LogFiles* folder, which is a location automatically created by the service.</span></span>

<span data-ttu-id="bcd43-113">サブアプリでの *web.config* ファイルの構成に関する重要な注意事項については、「[サブアプリケーション構成](xref:host-and-deploy/iis/index#sub-application-configuration)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="bcd43-113">See [Sub-application configuration](xref:host-and-deploy/iis/index#sub-application-configuration) for an important note pertaining to the configuration of *web.config* files in sub-apps.</span></span>

### <a name="attributes-of-the-aspnetcore-element"></a><span data-ttu-id="bcd43-114">aspNetCore 要素の属性</span><span class="sxs-lookup"><span data-stu-id="bcd43-114">Attributes of the aspNetCore element</span></span>

::: moniker range="<= aspnetcore-2.0"
| <span data-ttu-id="bcd43-115">属性</span><span class="sxs-lookup"><span data-stu-id="bcd43-115">Attribute</span></span> | <span data-ttu-id="bcd43-116">説明</span><span class="sxs-lookup"><span data-stu-id="bcd43-116">Description</span></span> | <span data-ttu-id="bcd43-117">既定値</span><span class="sxs-lookup"><span data-stu-id="bcd43-117">Default</span></span> |
| --------- | ----------- | :-----: |
| `arguments` | <p><span data-ttu-id="bcd43-118">省略可能な文字列属性。</span><span class="sxs-lookup"><span data-stu-id="bcd43-118">Optional string attribute.</span></span></p><p><span data-ttu-id="bcd43-119">**processPath** において指定されている実行可能ファイルへの引数です。</span><span class="sxs-lookup"><span data-stu-id="bcd43-119">Arguments to the executable specified in **processPath**.</span></span></p>| |
| `disableStartUpErrorPage` | <span data-ttu-id="bcd43-120">true または false。</span><span class="sxs-lookup"><span data-stu-id="bcd43-120">true or false.</span></span></p><p><span data-ttu-id="bcd43-121">true の場合、**502.5 - 処理エラー** ページは抑制され、*web.config* で構成されている 502 状態コード ページが優先されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-121">If true, the **502.5 - Process Failure** page is suppressed, and the 502 status code page configured in the *web.config* takes precedence.</span></span></p> | `false` |
| `forwardWindowsAuthToken` | <span data-ttu-id="bcd43-122">true または false。</span><span class="sxs-lookup"><span data-stu-id="bcd43-122">true or false.</span></span></p><p><span data-ttu-id="bcd43-123">true の場合、トークンは、%ASPNETCORE_PORT% でリッスンしている子プロセスに、要求ごとの 'MS-ASPNETCORE-WINAUTHTOKEN' ヘッダーとして転送されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-123">If true, the token is forwarded to the child process listening on %ASPNETCORE_PORT% as a header 'MS-ASPNETCORE-WINAUTHTOKEN' per request.</span></span> <span data-ttu-id="bcd43-124">要求ごとのこのトークンで CloseHandle を呼び出すのは、そのプロセスの役割です。</span><span class="sxs-lookup"><span data-stu-id="bcd43-124">It's the responsibility of that process to call CloseHandle on this token per request.</span></span></p> | `true` |
| `processPath` | <p><span data-ttu-id="bcd43-125">必須の文字列属性です。</span><span class="sxs-lookup"><span data-stu-id="bcd43-125">Required string attribute.</span></span></p><p><span data-ttu-id="bcd43-126">HTTP 要求をリッスンするプロセスを起動する実行可能ファイルへのパスです。</span><span class="sxs-lookup"><span data-stu-id="bcd43-126">Path to the executable that launches a process listening for HTTP requests.</span></span> <span data-ttu-id="bcd43-127">相対パスがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="bcd43-127">Relative paths are supported.</span></span> <span data-ttu-id="bcd43-128">パスが `.` で始まる場合、パスはサイトのルートを基準とする相対パスであると見なされます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-128">If the path begins with `.`, the path is considered to be relative to the site root.</span></span></p> | |
| `rapidFailsPerMinute` | <p><span data-ttu-id="bcd43-129">省略可能な整数属性</span><span class="sxs-lookup"><span data-stu-id="bcd43-129">Optional integer attribute.</span></span></p><p><span data-ttu-id="bcd43-130">**processPath** で指定されているプロセスが 1 分間にクラッシュできる回数を指定します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-130">Specifies the number of times the process specified in **processPath** is allowed to crash per minute.</span></span> <span data-ttu-id="bcd43-131">この制限を超えた場合、モジュールは、1 分間の残りの間、プロセスの起動を停止します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-131">If this limit is exceeded, the module stops launching the process for the remainder of the minute.</span></span></p> | `10` |
| `requestTimeout` | <p><span data-ttu-id="bcd43-132">省略可能な期間属性。</span><span class="sxs-lookup"><span data-stu-id="bcd43-132">Optional timespan attribute.</span></span></p><p><span data-ttu-id="bcd43-133">%ASPNETCORE_PORT% でリッスンしているプロセスからの応答を ASP.NET Core モジュールが待機する期間を指定します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-133">Specifies the duration for which the ASP.NET Core Module waits for a response from the process listening on %ASPNETCORE_PORT%.</span></span></p><p><span data-ttu-id="bcd43-134">ASP.NET Core 2.0 以前のリリースに付属する ASP.NET Core モジュールのバージョンでは、`requestTimeout` は整数でのみ指定する必要があります。そうしないと、既定値の 2 分に設定されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-134">In versions of the ASP.NET Core Module that shipped with the release of ASP.NET Core 2.0 or earlier, the `requestTimeout` must be specified in whole minutes only, otherwise it defaults to 2 minutes.</span></span></p> | `00:02:00` |
| `shutdownTimeLimit` | <p><span data-ttu-id="bcd43-135">省略可能な整数属性</span><span class="sxs-lookup"><span data-stu-id="bcd43-135">Optional integer attribute.</span></span></p><p><span data-ttu-id="bcd43-136">*app_offline.htm* ファイルが検出されたときに、モジュールが実行可能ファイルの正常なシャットダウンを待機する秒単位の期間です。</span><span class="sxs-lookup"><span data-stu-id="bcd43-136">Duration in seconds that the module waits for the executable to gracefully shutdown when the *app_offline.htm* file is detected.</span></span></p> | `10` |
| `startupTimeLimit` | <p><span data-ttu-id="bcd43-137">省略可能な整数属性</span><span class="sxs-lookup"><span data-stu-id="bcd43-137">Optional integer attribute.</span></span></p><p><span data-ttu-id="bcd43-138">ポートでリッスンするプロセスを実行可能ファイルが開始するのをモジュールが待機する秒単位の期間です。</span><span class="sxs-lookup"><span data-stu-id="bcd43-138">Duration in seconds that the module waits for the executable to start a process listening on the port.</span></span> <span data-ttu-id="bcd43-139">この制限時間を超えた場合、モジュールはプロセスを強制終了します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-139">If this time limit is exceeded, the module kills the process.</span></span> <span data-ttu-id="bcd43-140">最後のローリング分においてアプリが **rapidFailsPerMinute** 回だけ開始を失敗しているのでないかぎり、モジュールは、新しい要求を受け取るとプロセスの再起動を試み、それ以降に受信した要求に対してプロセスの再起動を試み続けます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-140">The module attempts to relaunch the process when it receives a new request and continues to attempt to restart the process on subsequent incoming requests unless the app fails to start **rapidFailsPerMinute** number of times in the last rolling minute.</span></span></p> | `120` |
| `stdoutLogEnabled` | <p><span data-ttu-id="bcd43-141">省略可能な Boolean 属性です。</span><span class="sxs-lookup"><span data-stu-id="bcd43-141">Optional Boolean attribute.</span></span></p><p><span data-ttu-id="bcd43-142">true の場合、**processPath** で指定されているプロセスの **stdout** と **stderr** は、**stdoutLogFile** で指定されているファイルにリダイレクトされます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-142">If true, **stdout** and **stderr** for the process specified in **processPath** are redirected to the file specified in **stdoutLogFile**.</span></span></p> | `false` |
| `stdoutLogFile` | <p><span data-ttu-id="bcd43-143">省略可能な文字列属性。</span><span class="sxs-lookup"><span data-stu-id="bcd43-143">Optional string attribute.</span></span></p><p><span data-ttu-id="bcd43-144">**processPath** で指定されているプロセスからの **stdout** と **stderr** がログに記録される相対ファイル パスまたは絶対ファイル パスを指定します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-144">Specifies the relative or absolute file path for which **stdout** and **stderr** from the process specified in **processPath** are logged.</span></span> <span data-ttu-id="bcd43-145">相対パスの基準はサイトのルートです。</span><span class="sxs-lookup"><span data-stu-id="bcd43-145">Relative paths are relative to the root of the site.</span></span> <span data-ttu-id="bcd43-146">`.` で始まっているパスはすべてサイト ルートに対する相対パスであり、他のすべてのパスは絶対パスとして扱われます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-146">Any path starting with `.` are relative to the site root and all other paths are treated as absolute paths.</span></span> <span data-ttu-id="bcd43-147">モジュールがログ ファイルを作成するためには、パスで指定されているすべてのフォルダーが存在する必要があります。</span><span class="sxs-lookup"><span data-stu-id="bcd43-147">Any folders provided in the path must exist in order for the module to create the log file.</span></span> <span data-ttu-id="bcd43-148">アンダースコアの区切り記号を使って、タイムスタンプ、プロセス ID、およびファイル拡張子 (*.log*) が、**stdoutLogFile** パスの最後のセグメントに追加されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-148">Using underscore delimiters, a timestamp, process ID, and file extension (*.log*) are added to the last segment of the **stdoutLogFile** path.</span></span> <span data-ttu-id="bcd43-149">たとえば、値として `.\logs\stdout` を指定し、2018 年 2 月 5 日の 19:41:32 にプロセス ID 1934 で保存すると、stdout ログは *logs* フォルダーに *stdout_20180205194132_1934.log* として保存されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-149">If `.\logs\stdout` is supplied as a value, an example stdout log is saved as *stdout_20180205194132_1934.log* in the *logs* folder when saved on 2/5/2018 at 19:41:32 with a process ID of 1934.</span></span></p> | `aspnetcore-stdout` |
::: moniker-end
::: moniker range=">= aspnetcore-2.1"
| <span data-ttu-id="bcd43-150">属性</span><span class="sxs-lookup"><span data-stu-id="bcd43-150">Attribute</span></span> | <span data-ttu-id="bcd43-151">説明</span><span class="sxs-lookup"><span data-stu-id="bcd43-151">Description</span></span> | <span data-ttu-id="bcd43-152">既定値</span><span class="sxs-lookup"><span data-stu-id="bcd43-152">Default</span></span> |
| --------- | ----------- | :-----: |
| `arguments` | <p><span data-ttu-id="bcd43-153">省略可能な文字列属性。</span><span class="sxs-lookup"><span data-stu-id="bcd43-153">Optional string attribute.</span></span></p><p><span data-ttu-id="bcd43-154">**processPath** において指定されている実行可能ファイルへの引数です。</span><span class="sxs-lookup"><span data-stu-id="bcd43-154">Arguments to the executable specified in **processPath**.</span></span></p>| |
| `disableStartUpErrorPage` | <span data-ttu-id="bcd43-155">true または false。</span><span class="sxs-lookup"><span data-stu-id="bcd43-155">true or false.</span></span></p><p><span data-ttu-id="bcd43-156">true の場合、**502.5 - 処理エラー** ページは抑制され、*web.config* で構成されている 502 状態コード ページが優先されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-156">If true, the **502.5 - Process Failure** page is suppressed, and the 502 status code page configured in the *web.config* takes precedence.</span></span></p> | `false` |
| `forwardWindowsAuthToken` | <span data-ttu-id="bcd43-157">true または false。</span><span class="sxs-lookup"><span data-stu-id="bcd43-157">true or false.</span></span></p><p><span data-ttu-id="bcd43-158">true の場合、トークンは、%ASPNETCORE_PORT% でリッスンしている子プロセスに、要求ごとの 'MS-ASPNETCORE-WINAUTHTOKEN' ヘッダーとして転送されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-158">If true, the token is forwarded to the child process listening on %ASPNETCORE_PORT% as a header 'MS-ASPNETCORE-WINAUTHTOKEN' per request.</span></span> <span data-ttu-id="bcd43-159">要求ごとのこのトークンで CloseHandle を呼び出すのは、そのプロセスの役割です。</span><span class="sxs-lookup"><span data-stu-id="bcd43-159">It's the responsibility of that process to call CloseHandle on this token per request.</span></span></p> | `true` |
| `processPath` | <p><span data-ttu-id="bcd43-160">必須の文字列属性です。</span><span class="sxs-lookup"><span data-stu-id="bcd43-160">Required string attribute.</span></span></p><p><span data-ttu-id="bcd43-161">HTTP 要求をリッスンするプロセスを起動する実行可能ファイルへのパスです。</span><span class="sxs-lookup"><span data-stu-id="bcd43-161">Path to the executable that launches a process listening for HTTP requests.</span></span> <span data-ttu-id="bcd43-162">相対パスがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="bcd43-162">Relative paths are supported.</span></span> <span data-ttu-id="bcd43-163">パスが `.` で始まる場合、パスはサイトのルートを基準とする相対パスであると見なされます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-163">If the path begins with `.`, the path is considered to be relative to the site root.</span></span></p> | |
| `rapidFailsPerMinute` | <p><span data-ttu-id="bcd43-164">省略可能な整数属性</span><span class="sxs-lookup"><span data-stu-id="bcd43-164">Optional integer attribute.</span></span></p><p><span data-ttu-id="bcd43-165">**processPath** で指定されているプロセスが 1 分間にクラッシュできる回数を指定します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-165">Specifies the number of times the process specified in **processPath** is allowed to crash per minute.</span></span> <span data-ttu-id="bcd43-166">この制限を超えた場合、モジュールは、1 分間の残りの間、プロセスの起動を停止します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-166">If this limit is exceeded, the module stops launching the process for the remainder of the minute.</span></span></p> | `10` |
| `requestTimeout` | <p><span data-ttu-id="bcd43-167">省略可能な期間属性。</span><span class="sxs-lookup"><span data-stu-id="bcd43-167">Optional timespan attribute.</span></span></p><p><span data-ttu-id="bcd43-168">%ASPNETCORE_PORT% でリッスンしているプロセスからの応答を ASP.NET Core モジュールが待機する期間を指定します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-168">Specifies the duration for which the ASP.NET Core Module waits for a response from the process listening on %ASPNETCORE_PORT%.</span></span></p><p><span data-ttu-id="bcd43-169">ASP.NET Core 2.1 以降のリリースに付属する ASP.NET Core モジュールのバージョンでは、`requestTimeout` は時間、分、および秒単位で指定します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-169">In versions of the ASP.NET Core Module that shipped with the release of ASP.NET Core 2.1 or later, the `requestTimeout` is specified in hours, minutes, and seconds.</span></span></p> | `00:02:00` |
| `shutdownTimeLimit` | <p><span data-ttu-id="bcd43-170">省略可能な整数属性</span><span class="sxs-lookup"><span data-stu-id="bcd43-170">Optional integer attribute.</span></span></p><p><span data-ttu-id="bcd43-171">*app_offline.htm* ファイルが検出されたときに、モジュールが実行可能ファイルの正常なシャットダウンを待機する秒単位の期間です。</span><span class="sxs-lookup"><span data-stu-id="bcd43-171">Duration in seconds that the module waits for the executable to gracefully shutdown when the *app_offline.htm* file is detected.</span></span></p> | `10` |
| `startupTimeLimit` | <p><span data-ttu-id="bcd43-172">省略可能な整数属性</span><span class="sxs-lookup"><span data-stu-id="bcd43-172">Optional integer attribute.</span></span></p><p><span data-ttu-id="bcd43-173">ポートでリッスンするプロセスを実行可能ファイルが開始するのをモジュールが待機する秒単位の期間です。</span><span class="sxs-lookup"><span data-stu-id="bcd43-173">Duration in seconds that the module waits for the executable to start a process listening on the port.</span></span> <span data-ttu-id="bcd43-174">この制限時間を超えた場合、モジュールはプロセスを強制終了します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-174">If this time limit is exceeded, the module kills the process.</span></span> <span data-ttu-id="bcd43-175">最後のローリング分においてアプリが **rapidFailsPerMinute** 回だけ開始を失敗しているのでないかぎり、モジュールは、新しい要求を受け取るとプロセスの再起動を試み、それ以降に受信した要求に対してプロセスの再起動を試み続けます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-175">The module attempts to relaunch the process when it receives a new request and continues to attempt to restart the process on subsequent incoming requests unless the app fails to start **rapidFailsPerMinute** number of times in the last rolling minute.</span></span></p> | `120` |
| `stdoutLogEnabled` | <p><span data-ttu-id="bcd43-176">省略可能な Boolean 属性です。</span><span class="sxs-lookup"><span data-stu-id="bcd43-176">Optional Boolean attribute.</span></span></p><p><span data-ttu-id="bcd43-177">true の場合、**processPath** で指定されているプロセスの **stdout** と **stderr** は、**stdoutLogFile** で指定されているファイルにリダイレクトされます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-177">If true, **stdout** and **stderr** for the process specified in **processPath** are redirected to the file specified in **stdoutLogFile**.</span></span></p> | `false` |
| `stdoutLogFile` | <p><span data-ttu-id="bcd43-178">省略可能な文字列属性。</span><span class="sxs-lookup"><span data-stu-id="bcd43-178">Optional string attribute.</span></span></p><p><span data-ttu-id="bcd43-179">**processPath** で指定されているプロセスからの **stdout** と **stderr** がログに記録される相対ファイル パスまたは絶対ファイル パスを指定します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-179">Specifies the relative or absolute file path for which **stdout** and **stderr** from the process specified in **processPath** are logged.</span></span> <span data-ttu-id="bcd43-180">相対パスの基準はサイトのルートです。</span><span class="sxs-lookup"><span data-stu-id="bcd43-180">Relative paths are relative to the root of the site.</span></span> <span data-ttu-id="bcd43-181">`.` で始まっているパスはすべてサイト ルートに対する相対パスであり、他のすべてのパスは絶対パスとして扱われます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-181">Any path starting with `.` are relative to the site root and all other paths are treated as absolute paths.</span></span> <span data-ttu-id="bcd43-182">モジュールがログ ファイルを作成するためには、パスで指定されているすべてのフォルダーが存在する必要があります。</span><span class="sxs-lookup"><span data-stu-id="bcd43-182">Any folders provided in the path must exist in order for the module to create the log file.</span></span> <span data-ttu-id="bcd43-183">アンダースコアの区切り記号を使って、タイムスタンプ、プロセス ID、およびファイル拡張子 (*.log*) が、**stdoutLogFile** パスの最後のセグメントに追加されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-183">Using underscore delimiters, a timestamp, process ID, and file extension (*.log*) are added to the last segment of the **stdoutLogFile** path.</span></span> <span data-ttu-id="bcd43-184">たとえば、値として `.\logs\stdout` を指定し、2018 年 2 月 5 日の 19:41:32 にプロセス ID 1934 で保存すると、stdout ログは *logs* フォルダーに *stdout_20180205194132_1934.log* として保存されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-184">If `.\logs\stdout` is supplied as a value, an example stdout log is saved as *stdout_20180205194132_1934.log* in the *logs* folder when saved on 2/5/2018 at 19:41:32 with a process ID of 1934.</span></span></p> | `aspnetcore-stdout` |
::: moniker-end

### <a name="setting-environment-variables"></a><span data-ttu-id="bcd43-185">環境変数の設定</span><span class="sxs-lookup"><span data-stu-id="bcd43-185">Setting environment variables</span></span>

<span data-ttu-id="bcd43-186">`processPath` 属性で、プロセスに対する環境変数を指定できます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-186">Environment variables can be specified for the process in the `processPath` attribute.</span></span> <span data-ttu-id="bcd43-187">`environmentVariables` コレクション要素の `environmentVariable` 子要素で、環境変数を指定します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-187">Specify an environment variable with the `environmentVariable` child element of an `environmentVariables` collection element.</span></span> <span data-ttu-id="bcd43-188">このセクションで設定された環境変数は、システム環境変数より優先されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-188">Environment variables set in this section take precedence over system environment variables.</span></span>

<span data-ttu-id="bcd43-189">次の例では、2 つの環境変数を設定しています。</span><span class="sxs-lookup"><span data-stu-id="bcd43-189">The following example sets two environment variables.</span></span> <span data-ttu-id="bcd43-190">`ASPNETCORE_ENVIRONMENT` は、`Development` に対するアプリの環境を構成します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-190">`ASPNETCORE_ENVIRONMENT` configures the app's environment to `Development`.</span></span> <span data-ttu-id="bcd43-191">開発者は、アプリの例外をデバッグするときに[開発者例外ページ](xref:fundamentals/error-handling)を強制的に読み込むため、*web.config* ファイルでこの値を一時的に設定できます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-191">A developer may temporarily set this value in the *web.config* file in order to force the [Developer Exception Page](xref:fundamentals/error-handling) to load when debugging an app exception.</span></span> <span data-ttu-id="bcd43-192">`CONFIG_DIR` はユーザー定義の環境変数の例です。開発者はここに、アプリの構成ファイルを読み込むためのパスを形成するために起動時に値を読み取るコードを記述してあります。</span><span class="sxs-lookup"><span data-stu-id="bcd43-192">`CONFIG_DIR` is an example of a user-defined environment variable, where the developer has written code that reads the value on startup to form a path for loading the app's configuration file.</span></span>

```xml
<aspNetCore processPath="dotnet"
      arguments=".\MyApp.dll"
      stdoutLogEnabled="false"
      stdoutLogFile="\\?\%home%\LogFiles\stdout">
  <environmentVariables>
    <environmentVariable name="ASPNETCORE_ENVIRONMENT" value="Development" />
    <environmentVariable name="CONFIG_DIR" value="f:\application_config" />
  </environmentVariables>
</aspNetCore>
```

> [!WARNING]
> <span data-ttu-id="bcd43-193">インターネットなどの信頼されていないネットワークにアクセスできないステージング サーバーやテスト サーバーでは、`ASPNETCORE_ENVIRONMENT` 環境変数を `Development` に設定するだけです。</span><span class="sxs-lookup"><span data-stu-id="bcd43-193">Only set the `ASPNETCORE_ENVIRONMENT` envirnonment variable to `Development` on staging and testing servers that aren't accessible to untrusted networks, such as the Internet.</span></span>

## <a name="appofflinehtm"></a><span data-ttu-id="bcd43-194">app_offline.htm</span><span class="sxs-lookup"><span data-stu-id="bcd43-194">app_offline.htm</span></span>

<span data-ttu-id="bcd43-195">*app_offline.htm* という名前のファイルがアプリのルート ディレクトリで検出された場合、ASP.NET Core モジュールはアプリを正常にシャットダウンし、受信要求の処理を停止することを試みます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-195">If a file with the name *app_offline.htm* is detected in the root directory of an app, the ASP.NET Core Module attempts to gracefully shutdown the app and stop processing incoming requests.</span></span> <span data-ttu-id="bcd43-196">`shutdownTimeLimit` で定義されている秒数が経過してもまだアプリが実行している場合、ASP.NET Core モジュールは実行中のプロセスを強制終了します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-196">If the app is still running after the number of seconds defined in `shutdownTimeLimit`, the ASP.NET Core Module kills the running process.</span></span>

<span data-ttu-id="bcd43-197">*app_offline.htm* ファイルが存在している間、ASP.NET Core モジュールは、*app_offline.htm* ファイルの内容を返送することで、要求に応答します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-197">While the *app_offline.htm* file is present, the ASP.NET Core Module responds to requests by sending back the contents of the *app_offline.htm* file.</span></span> <span data-ttu-id="bcd43-198">*app_offline.htm* ファイルが削除されると、次の要求によってアプリが起動されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-198">When the *app_offline.htm* file is removed, the next request starts the app.</span></span>

## <a name="start-up-error-page"></a><span data-ttu-id="bcd43-199">起動エラー ページ</span><span class="sxs-lookup"><span data-stu-id="bcd43-199">Start-up error page</span></span>

<span data-ttu-id="bcd43-200">ASP.NET Core モジュールが、バックエンド プロセスの起動に失敗した場合、またはバックエンド プロセスは開始しても構成されているポートでのリッスンに失敗した場合は、*502.5 処理エラー*状態コード ページが表示されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-200">If the ASP.NET Core Module fails to launch the backend process or the backend process starts but fails to listen on the configured port, a *502.5 Process Failure* status code page appears.</span></span> <span data-ttu-id="bcd43-201">このページを抑制して、既定の IIS 502 状態コード ページに戻すには、`disableStartUpErrorPage` 属性を使います。</span><span class="sxs-lookup"><span data-stu-id="bcd43-201">To suppress this page and revert to the default IIS 502 status code page, use the `disableStartUpErrorPage` attribute.</span></span> <span data-ttu-id="bcd43-202">カスタム エラー メッセージの構成方法について詳しくは、[HTTP エラー `<httpErrors>`](/iis/configuration/system.webServer/httpErrors/) に関するページをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="bcd43-202">For more information on configuring custom error messages, see [HTTP Errors `<httpErrors>`](/iis/configuration/system.webServer/httpErrors/).</span></span>

![502.5 処理エラーの状態コード ページ](aspnet-core-module/_static/ANCM-502_5.png)

## <a name="log-creation-and-redirection"></a><span data-ttu-id="bcd43-204">ログの作成とリダイレクト</span><span class="sxs-lookup"><span data-stu-id="bcd43-204">Log creation and redirection</span></span>

<span data-ttu-id="bcd43-205">`aspNetCore` 要素の `stdoutLogEnabled` および `stdoutLogFile` 属性が設定されている場合、ASP.NET Core モジュールは stdout と stderr のログをディスクにリダイレクトします。</span><span class="sxs-lookup"><span data-stu-id="bcd43-205">The ASP.NET Core Module redirects stdout and stderr logs to disk if the `stdoutLogEnabled` and `stdoutLogFile` attributes of the `aspNetCore` element are set.</span></span> <span data-ttu-id="bcd43-206">モジュールがログ ファイルを作成するためには、`stdoutLogFile` パスのすべてのフォルダーが存在している必要があります。</span><span class="sxs-lookup"><span data-stu-id="bcd43-206">Any folders in the `stdoutLogFile` path must exist in order for the module to create the log file.</span></span> <span data-ttu-id="bcd43-207">アプリ プールは、ログが書き込まれる場所への書き込みアクセス権を持っている必要があります (書き込みアクセス許可を提供するには、`IIS AppPool\<app_pool_name>` を使います)。</span><span class="sxs-lookup"><span data-stu-id="bcd43-207">The app pool must have write access to the location where the logs are written (use `IIS AppPool\<app_pool_name>` to provide write permission).</span></span>

<span data-ttu-id="bcd43-208">プロセスのリサイクル/再起動が発生しない場合、ログは循環されません。</span><span class="sxs-lookup"><span data-stu-id="bcd43-208">Logs aren't rotated, unless process recycling/restart occurs.</span></span> <span data-ttu-id="bcd43-209">ログが使用するディスク領域を制限するのは、ホストの役割です。</span><span class="sxs-lookup"><span data-stu-id="bcd43-209">It's the responsibility of the hoster to limit the disk space the logs consume.</span></span>

<span data-ttu-id="bcd43-210">stdout ログの使用は、アプリ起動時の問題をトラブルシューティングする場合にのみ推奨されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-210">Using the stdout log is only recommended for troubleshooting app startup issues.</span></span> <span data-ttu-id="bcd43-211">一般的なアプリ ログの目的には、stdout ログを使わないでください。</span><span class="sxs-lookup"><span data-stu-id="bcd43-211">Don't use the stdout log for general app logging purposes.</span></span> <span data-ttu-id="bcd43-212">ASP.NET Core アプリでのルーチン ログの場合は、ログ ファイルのサイズを制限し、ログをローテーションするログ ライブラリを使います。</span><span class="sxs-lookup"><span data-stu-id="bcd43-212">For routine logging in an ASP.NET Core app, use a logging library that limits log file size and rotates logs.</span></span> <span data-ttu-id="bcd43-213">詳しくは、「[サードパーティ製のログ プロバイダー](xref:fundamentals/logging/index#third-party-logging-providers)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="bcd43-213">For more information, see [third-party logging providers](xref:fundamentals/logging/index#third-party-logging-providers).</span></span>

<span data-ttu-id="bcd43-214">ログ ファイルの作成時には、タイムスタンプとファイルの拡張子が自動的に追加されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-214">A timestamp and file extension are added automatically when the log file is created.</span></span> <span data-ttu-id="bcd43-215">ログ ファイル名は、タイムスタンプ、プロセス ID、およびファイル拡張子 (*.log*) を `stdoutLogFile` パスの最後のセグメント (通常は *stdout*) にアンダースコアで区切って追加することで構成されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-215">The log file name is composed by appending the timestamp, process ID, and file extension (*.log*) to the last segment of the `stdoutLogFile` path (typically *stdout*) delimited by underscores.</span></span> <span data-ttu-id="bcd43-216">`stdoutLogFile` パスが *stdout* で終わっている場合、PID が 1934 で 2018 年 2 月 5 日の 19:42:32 に作成されたアプリのログのファイル名は、*stdout_20180205194132_1934.log* になります。</span><span class="sxs-lookup"><span data-stu-id="bcd43-216">If the `stdoutLogFile` path ends with *stdout*, a log for an app with a PID of 1934 created on 2/5/2018 at 19:42:32 has the file name *stdout_20180205194132_1934.log*.</span></span>

<span data-ttu-id="bcd43-217">次の `aspNetCore` 要素の例では、Azure App Service でホストされているアプリの stdout ログを構成しています。</span><span class="sxs-lookup"><span data-stu-id="bcd43-217">The following sample `aspNetCore` element configures stdout logging for an app hosted in Azure App Service.</span></span> <span data-ttu-id="bcd43-218">ローカル ログには、ローカル パスまたはネットワーク共有パスを使用できます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-218">A local path or network share path is acceptable for local logging.</span></span> <span data-ttu-id="bcd43-219">AppPool のユーザー ID に、指定されたパスへの書き込みアクセス許可があることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="bcd43-219">Confirm that the AppPool user identity has permission to write to the path provided.</span></span>

```xml
<aspNetCore processPath="dotnet"
    arguments=".\MyApp.dll"
    stdoutLogEnabled="true"
    stdoutLogFile="\\?\%home%\LogFiles\stdout">
</aspNetCore>
```

<span data-ttu-id="bcd43-220">*web.config* ファイルでの `aspNetCore` 要素の例については、「[web.config での構成](#configuration-with-webconfig)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="bcd43-220">See [Configuration with web.config](#configuration-with-webconfig) for an example of the `aspNetCore` element in the *web.config* file.</span></span>

## <a name="proxy-configuration-uses-http-protocol-and-a-pairing-token"></a><span data-ttu-id="bcd43-221">プロキシの構成で HTTP プロトコルとペアリング トークンを使用する</span><span class="sxs-lookup"><span data-stu-id="bcd43-221">Proxy configuration uses HTTP protocol and a pairing token</span></span>

<span data-ttu-id="bcd43-222">ASP.NET Core モジュールと Kestrel の間に作成されるプロキシは、HTTP プロトコルを使います。</span><span class="sxs-lookup"><span data-stu-id="bcd43-222">The proxy created between the ASP.NET Core Module and Kestrel uses the HTTP protocol.</span></span> <span data-ttu-id="bcd43-223">HTTP を使うと、パフォーマンスが最適化されます。この場合、モジュールと Kestrel の間のトラフィックは、ネットワーク インターフェイスから切り離されたループバック アドレスで発生します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-223">Using HTTP is a performance optimization, where the traffic between the module and Kestrel takes place on a loopback address off of the network interface.</span></span> <span data-ttu-id="bcd43-224">モジュールと Kestrel の間のトラフィックが、サーバーから離れた場所で傍受される危険はありません。</span><span class="sxs-lookup"><span data-stu-id="bcd43-224">There's no risk of eavesdropping the traffic between the module and Kestrel from a location off of the server.</span></span>

<span data-ttu-id="bcd43-225">ペアリング トークンを使用すると、Kestrel によって受信される要求が IIS によってプロキシされたものであり、他のソースからのものでないことを保証できます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-225">A pairing token is used to guarantee that the requests received by Kestrel were proxied by IIS and didn't come from some other source.</span></span> <span data-ttu-id="bcd43-226">ペアリング トークンは、モジュールによって作成されて、環境変数 (`ASPNETCORE_TOKEN`) に設定されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-226">The pairing token is created and set into an environment variable (`ASPNETCORE_TOKEN`) by the module.</span></span> <span data-ttu-id="bcd43-227">ペアリング トークンはまた、プロキシされたすべての要求のヘッダー (`MSAspNetCoreToken`) にも設定されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-227">The pairing token is also set into a header (`MSAspNetCoreToken`) on every proxied request.</span></span> <span data-ttu-id="bcd43-228">IIS ミドルウェアは、受信した各要求をチェックし、ペアリング トークン ヘッダーの値が環境変数の値と一致することを確認します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-228">IIS Middleware checks each request it receives to confirm that the pairing token header value matches the environment variable value.</span></span> <span data-ttu-id="bcd43-229">トークンの値が一致しない場合、要求はログに記録され、拒否されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-229">If the token values are mismatched, the request is logged and rejected.</span></span> <span data-ttu-id="bcd43-230">ペアリング トークン環境変数およびモジュールと Kestrel の間のトラフィックには、サーバーから離れた場所からアクセスすることはできません。</span><span class="sxs-lookup"><span data-stu-id="bcd43-230">The pairing token environment variable and the traffic between the module and Kestrel aren't accessible from a location off of the server.</span></span> <span data-ttu-id="bcd43-231">ペアリング トークンの値がわからなければ、攻撃者は IIS ミドルウェアのチェックをバイパスする要求を送信できません。</span><span class="sxs-lookup"><span data-stu-id="bcd43-231">Without knowing the pairing token value, an attacker can't submit requests that bypass the check in the IIS Middleware.</span></span>

## <a name="aspnet-core-module-with-an-iis-shared-configuration"></a><span data-ttu-id="bcd43-232">IIS 共有構成での ASP.NET Core モジュール</span><span class="sxs-lookup"><span data-stu-id="bcd43-232">ASP.NET Core Module with an IIS Shared Configuration</span></span>

<span data-ttu-id="bcd43-233">ASP.NET Core モジュールのインストーラーは、**SYSTEM** アカウントのアクセス許可を使って実行します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-233">The ASP.NET Core Module installer runs with the privileges of the **SYSTEM** account.</span></span> <span data-ttu-id="bcd43-234">ローカル システム アカウントには、IIS 共有構成によって使われる共有パスに対する変更アクセス許可がないため、インストーラーが共有上の *applicationHost.config* 内のモジュール設定を構成しようとすると、アクセス拒否エラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-234">Because the local system account doesn't have modify permission for the share path used by the IIS Shared Configuration, the installer hits an access denied error when attempting to configure the module settings in *applicationHost.config* on the share.</span></span> <span data-ttu-id="bcd43-235">IIS 共有構成を使うときは、次の手順で行います。</span><span class="sxs-lookup"><span data-stu-id="bcd43-235">When using an IIS Shared Configuration, follow these steps:</span></span>

1. <span data-ttu-id="bcd43-236">IIS 共有構成を無効にします。</span><span class="sxs-lookup"><span data-stu-id="bcd43-236">Disable the IIS Shared Configuration.</span></span>
1. <span data-ttu-id="bcd43-237">インストーラーを実行します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-237">Run the installer.</span></span>
1. <span data-ttu-id="bcd43-238">更新された *applicationHost.config* ファイルを共有にエクスポートします。</span><span class="sxs-lookup"><span data-stu-id="bcd43-238">Export the updated *applicationHost.config* file to the share.</span></span>
1. <span data-ttu-id="bcd43-239">IIS 共有構成を再び有効にします。</span><span class="sxs-lookup"><span data-stu-id="bcd43-239">Re-enable the IIS Shared Configuration.</span></span>

## <a name="module-version-and-hosting-bundle-installer-logs"></a><span data-ttu-id="bcd43-240">モジュールのバージョンとホスティング バンドル インストーラーのログ</span><span class="sxs-lookup"><span data-stu-id="bcd43-240">Module version and Hosting Bundle installer logs</span></span>

<span data-ttu-id="bcd43-241">インストールされている ASP.NET Core モジュールのバージョンを確認するには:</span><span class="sxs-lookup"><span data-stu-id="bcd43-241">To determine the version of the installed ASP.NET Core Module:</span></span>

1. <span data-ttu-id="bcd43-242">ホスティング システム上で、*%windir%\System32\inetsrv* に移動します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-242">On the hosting system, navigate to *%windir%\System32\inetsrv*.</span></span>
1. <span data-ttu-id="bcd43-243">*aspnetcore.dll* ファイルを探します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-243">Locate the *aspnetcore.dll* file.</span></span>
1. <span data-ttu-id="bcd43-244">ファイルを右クリックし、コンテキスト メニューの **[プロパティ]** を選びます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-244">Right-click the file and select **Properties** from the contextual menu.</span></span>
1. <span data-ttu-id="bcd43-245">**[詳細]** タブを選びます。**[ファイル バージョン]** と **[製品バージョン]** が、インストールされているモジュールのバージョンを表します。</span><span class="sxs-lookup"><span data-stu-id="bcd43-245">Select the **Details** tab. The **File version** and **Product version** represent the installed version of the module.</span></span>

<span data-ttu-id="bcd43-246">モジュールのホスティング バンドル インストーラーのログは、*C:\\Users\\%UserName%\\AppData\\Local\\Temp* にあります。ファイルの名前は、*dd_DotNetCoreWinSvrHosting__\<タイムスタンプ>_000_AspNetCoreModule_x64.log* です。</span><span class="sxs-lookup"><span data-stu-id="bcd43-246">The Hosting Bundle installer logs for the module are found at *C:\\Users\\%UserName%\\AppData\\Local\\Temp*. The file is named *dd_DotNetCoreWinSvrHosting__\<timestamp>_000_AspNetCoreModule_x64.log*.</span></span>

## <a name="module-schema-and-configuration-file-locations"></a><span data-ttu-id="bcd43-247">モジュール、スキーマ、構成ファイルの場所</span><span class="sxs-lookup"><span data-stu-id="bcd43-247">Module, schema, and configuration file locations</span></span>

### <a name="module"></a><span data-ttu-id="bcd43-248">Module</span><span class="sxs-lookup"><span data-stu-id="bcd43-248">Module</span></span>

<span data-ttu-id="bcd43-249">**IIS (x86/amd64):**</span><span class="sxs-lookup"><span data-stu-id="bcd43-249">**IIS (x86/amd64):**</span></span>

   * <span data-ttu-id="bcd43-250">%windir%\System32\inetsrv\aspnetcore.dll</span><span class="sxs-lookup"><span data-stu-id="bcd43-250">%windir%\System32\inetsrv\aspnetcore.dll</span></span>

   * <span data-ttu-id="bcd43-251">%windir%\SysWOW64\inetsrv\aspnetcore.dll</span><span class="sxs-lookup"><span data-stu-id="bcd43-251">%windir%\SysWOW64\inetsrv\aspnetcore.dll</span></span>

<span data-ttu-id="bcd43-252">**IIS Express (x86/amd64):**</span><span class="sxs-lookup"><span data-stu-id="bcd43-252">**IIS Express (x86/amd64):**</span></span>

   * <span data-ttu-id="bcd43-253">%ProgramFiles%\IIS Express\aspnetcore.dll</span><span class="sxs-lookup"><span data-stu-id="bcd43-253">%ProgramFiles%\IIS Express\aspnetcore.dll</span></span>

   * <span data-ttu-id="bcd43-254">%ProgramFiles(x86)%\IIS Express\aspnetcore.dll</span><span class="sxs-lookup"><span data-stu-id="bcd43-254">%ProgramFiles(x86)%\IIS Express\aspnetcore.dll</span></span>

### <a name="schema"></a><span data-ttu-id="bcd43-255">Schema</span><span class="sxs-lookup"><span data-stu-id="bcd43-255">Schema</span></span>

<span data-ttu-id="bcd43-256">**IIS**</span><span class="sxs-lookup"><span data-stu-id="bcd43-256">**IIS**</span></span>

   * <span data-ttu-id="bcd43-257">%windir%\System32\inetsrv\config\schema\aspnetcore_schema.xml</span><span class="sxs-lookup"><span data-stu-id="bcd43-257">%windir%\System32\inetsrv\config\schema\aspnetcore_schema.xml</span></span>

<span data-ttu-id="bcd43-258">**IIS Express**</span><span class="sxs-lookup"><span data-stu-id="bcd43-258">**IIS Express**</span></span>

   * <span data-ttu-id="bcd43-259">%ProgramFiles%\IIS Express\config\schema\aspnetcore_schema.xml</span><span class="sxs-lookup"><span data-stu-id="bcd43-259">%ProgramFiles%\IIS Express\config\schema\aspnetcore_schema.xml</span></span>

### <a name="configuration"></a><span data-ttu-id="bcd43-260">構成</span><span class="sxs-lookup"><span data-stu-id="bcd43-260">Configuration</span></span>

<span data-ttu-id="bcd43-261">**IIS**</span><span class="sxs-lookup"><span data-stu-id="bcd43-261">**IIS**</span></span>

   * <span data-ttu-id="bcd43-262">%windir%\System32\inetsrv\config\applicationHost.config</span><span class="sxs-lookup"><span data-stu-id="bcd43-262">%windir%\System32\inetsrv\config\applicationHost.config</span></span>

<span data-ttu-id="bcd43-263">**IIS Express**</span><span class="sxs-lookup"><span data-stu-id="bcd43-263">**IIS Express**</span></span>

   * <span data-ttu-id="bcd43-264">.vs\config\applicationHost.config</span><span class="sxs-lookup"><span data-stu-id="bcd43-264">.vs\config\applicationHost.config</span></span>

<span data-ttu-id="bcd43-265">ファイルは、*applicationHost.config* ファイルで *aspnetcore.dll* を検索することにより見つかります。</span><span class="sxs-lookup"><span data-stu-id="bcd43-265">The files can be found by searching for *aspnetcore.dll* in the *applicationHost.config* file.</span></span> <span data-ttu-id="bcd43-266">IIS Express の場合、*applicationHost.config* ファイルは既定では存在しません。</span><span class="sxs-lookup"><span data-stu-id="bcd43-266">For IIS Express, the *applicationHost.config* file won't exist by default.</span></span> <span data-ttu-id="bcd43-267">ファイルは、Visual Studio ソリューションにおいて Web アプリ プロジェクトを開始すると、*\<アプリケーション ルート>\\.vs\\config* に作成されます。</span><span class="sxs-lookup"><span data-stu-id="bcd43-267">The file is created at *\<application_root>\\.vs\\config* when starting any web app project in the Visual Studio solution.</span></span>
