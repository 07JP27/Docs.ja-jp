---
title: "部分ビュー"
author: ardalis
description: "ASP.NET Core mvc 部分ビューを使用します。"
keywords: "ASP.NET Core、部分ビュー、部分"
ms.author: riande
manager: wpickett
ms.date: 03/14/2017
ms.topic: article
ms.assetid: 4be1b12c-b74e-44ff-826b-99ce86e8d464
ms.technology: aspnet
ms.prod: asp.net-core
uid: mvc/views/partial
ms.openlocfilehash: 777c4d663f646f3bc3fbe6da0b537d651a1fb4d8
ms.sourcegitcommit: 9cdbfd0d670d70b9c354216aabee260c52dad5ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/12/2017
---
# <a name="partial-views"></a><span data-ttu-id="1f94a-104">部分ビュー</span><span class="sxs-lookup"><span data-stu-id="1f94a-104">Partial Views</span></span>

<span data-ttu-id="1f94a-105">によって[Steve Smith](https://ardalis.com/)、 [Maher JENDOUBI](https://twitter.com/maherjend)、および[Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="1f94a-105">By [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), and [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

<span data-ttu-id="1f94a-106">ASP.NET Core MVC には、部分ビューは、さまざまなビューの間で共有したい web ページの再利用可能な部分がある場合に便利ですがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="1f94a-106">ASP.NET Core MVC supports partial views, which are useful when you have reusable parts of web pages you want to share between different views.</span></span>

[<span data-ttu-id="1f94a-107">サンプル コードを表示またはダウンロードする</span><span class="sxs-lookup"><span data-stu-id="1f94a-107">View or download sample code</span></span>](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample)

## <a name="what-are-partial-views"></a><span data-ttu-id="1f94a-108">部分ビューとは</span><span class="sxs-lookup"><span data-stu-id="1f94a-108">What are Partial Views?</span></span>

<span data-ttu-id="1f94a-109">部分ビューは、別のビュー内で表示されるビューです。</span><span class="sxs-lookup"><span data-stu-id="1f94a-109">A partial view is a view that is rendered within another view.</span></span> <span data-ttu-id="1f94a-110">部分ビューを実行することによって生成された HTML 出力は、呼び出し元 (親) のビューに表示されます。</span><span class="sxs-lookup"><span data-stu-id="1f94a-110">The HTML output generated by executing the partial view is rendered into the calling (or parent) view.</span></span> <span data-ttu-id="1f94a-111">部分ビューを使用して、ビューと同様に、 *.cshtml*ファイル拡張子。</span><span class="sxs-lookup"><span data-stu-id="1f94a-111">Like views, partial views use the *.cshtml* file extension.</span></span>

## <a name="when-should-i-use-partial-views"></a><span data-ttu-id="1f94a-112">部分ビューを使用するか。</span><span class="sxs-lookup"><span data-stu-id="1f94a-112">When Should I Use Partial Views?</span></span>

<span data-ttu-id="1f94a-113">部分ビューは、効果的な方法を小さな要素に大規模なビューを互換性に影響するのです。</span><span class="sxs-lookup"><span data-stu-id="1f94a-113">Partial views are an effective way of breaking up large views into smaller components.</span></span> <span data-ttu-id="1f94a-114">コンテンツの表示の重複を減らすし、ビューの要素を再利用を許可できます。</span><span class="sxs-lookup"><span data-stu-id="1f94a-114">They can reduce duplication of view content and allow view elements to be reused.</span></span> <span data-ttu-id="1f94a-115">一般的なレイアウト要素を指定する必要があります[_Layout.cshtml](layout.md)です。</span><span class="sxs-lookup"><span data-stu-id="1f94a-115">Common layout elements should be specified in [_Layout.cshtml](layout.md).</span></span> <span data-ttu-id="1f94a-116">非レイアウトの再利用可能なコンテンツは、部分ビューにカプセル化されることができます。</span><span class="sxs-lookup"><span data-stu-id="1f94a-116">Non-layout reusable content can be encapsulated into partial views.</span></span>

<span data-ttu-id="1f94a-117">いくつかの論理的な部分から成る複雑なページがある場合は、それぞれのピースとして独自の部分ビューを使用すると便利ができます。</span><span class="sxs-lookup"><span data-stu-id="1f94a-117">If you have a complex page made up of several logical pieces, it can be helpful to work with each piece as its own partial view.</span></span> <span data-ttu-id="1f94a-118">ページの各部分は、ページの残りの部分から分離で表示できるし、全体のページ構造と、部分ビューを表示するために呼び出しのみが含まれるため、ページ自体のビューをより簡単になります。</span><span class="sxs-lookup"><span data-stu-id="1f94a-118">Each piece of the page can be viewed in isolation from the rest of the page, and the view for the page itself becomes much simpler since it only contains the overall page structure and calls to render the partial views.</span></span>

<span data-ttu-id="1f94a-119">ヒント: 次の[しない繰り返します自分で原則](http://deviq.com/don-t-repeat-yourself/)ビューにします。</span><span class="sxs-lookup"><span data-stu-id="1f94a-119">Tip: Follow the [Don't Repeat Yourself Principle](http://deviq.com/don-t-repeat-yourself/) in your views.</span></span>

## <a name="declaring-partial-views"></a><span data-ttu-id="1f94a-120">部分ビューの宣言</span><span class="sxs-lookup"><span data-stu-id="1f94a-120">Declaring Partial Views</span></span>

<span data-ttu-id="1f94a-121">部分ビューを他のビューと同様に作成されます: を作成する、 *.cshtml*ファイルの場所、*ビュー*フォルダーです。</span><span class="sxs-lookup"><span data-stu-id="1f94a-121">Partial views are created like any other view: you create a *.cshtml* file within the *Views* folder.</span></span> <span data-ttu-id="1f94a-122">部分ビューと通常のビューの間のセマンティックの違いはありません - 異なる方法で、レンダリングされるだけです。</span><span class="sxs-lookup"><span data-stu-id="1f94a-122">There is no semantic difference between a partial view and a regular view - they are just rendered differently.</span></span> <span data-ttu-id="1f94a-123">コント ローラーから直接返されるビューを持つことができます`ViewResult`、同じビューは、部分ビューとして使用できます。</span><span class="sxs-lookup"><span data-stu-id="1f94a-123">You can have a view that is returned directly from a controller's `ViewResult`, and the same view can be used as a partial view.</span></span> <span data-ttu-id="1f94a-124">ビューと、部分ビューをレンダリングする方法の主な違いは、部分ビューが実行しない*は _viewstart.vbhtml* (ビュー-詳細については、*は _viewstart.vbhtml*で[レイアウト](layout.md)).</span><span class="sxs-lookup"><span data-stu-id="1f94a-124">The main difference between how a view and a partial view are rendered is that partial views do not run *_ViewStart.cshtml* (while views do - learn more about *_ViewStart.cshtml* in [Layout](layout.md)).</span></span>

## <a name="referencing-a-partial-view"></a><span data-ttu-id="1f94a-125">部分ビューを参照します。</span><span class="sxs-lookup"><span data-stu-id="1f94a-125">Referencing a Partial View</span></span>

<span data-ttu-id="1f94a-126">表示 ページでは、いくつか方法は、部分ビューをレンダリングできます。</span><span class="sxs-lookup"><span data-stu-id="1f94a-126">From within a view page, there are several ways in which you can render a partial view.</span></span> <span data-ttu-id="1f94a-127">使用する最も単純な`Html.Partial`、返された、`IHtmlString`の呼び出しを付けることで参照できます`@`:</span><span class="sxs-lookup"><span data-stu-id="1f94a-127">The simplest is to use `Html.Partial`, which returns an `IHtmlString` and can be referenced by prefixing the call with `@`:</span></span>

<span data-ttu-id="1f94a-128">[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=9)]</span><span class="sxs-lookup"><span data-stu-id="1f94a-128">[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=9)]</span></span>

<span data-ttu-id="1f94a-129">`PartialAsync`メソッドは、部分ビューの非同期コードを含む (ただし、ビュー内のコードは通常、推奨されません) の使用。</span><span class="sxs-lookup"><span data-stu-id="1f94a-129">The `PartialAsync` method is available for partial views containing asynchronous code (although code in views is generally discouraged):</span></span>

<span data-ttu-id="1f94a-130">[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=8)]</span><span class="sxs-lookup"><span data-stu-id="1f94a-130">[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=8)]</span></span>

<span data-ttu-id="1f94a-131">部分ビューをレンダリングする`RenderPartial`です。</span><span class="sxs-lookup"><span data-stu-id="1f94a-131">You can render a partial view with `RenderPartial`.</span></span> <span data-ttu-id="1f94a-132">このメソッドは、結果を返さない応答に直接表示される出力をストリームします。</span><span class="sxs-lookup"><span data-stu-id="1f94a-132">This method doesn't return a result; it streams the rendered output directly to the response.</span></span> <span data-ttu-id="1f94a-133">これは結果を返さないため Razor コード ブロック内で呼び出す必要があります (を呼び出すことも`RenderPartialAsync`必要な場合)。</span><span class="sxs-lookup"><span data-stu-id="1f94a-133">Because it doesn't return a result, it must be called within a Razor code block (you can also call `RenderPartialAsync` if necessary):</span></span>

<span data-ttu-id="1f94a-134">[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=10-12)]</span><span class="sxs-lookup"><span data-stu-id="1f94a-134">[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=10-12)]</span></span>

<span data-ttu-id="1f94a-135">ストリーム出力し、結果を直接ため`RenderPartial`と`RenderPartialAsync`一部のシナリオでパフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="1f94a-135">Because it streams the result directly, `RenderPartial` and `RenderPartialAsync` may perform better in some scenarios.</span></span> <span data-ttu-id="1f94a-136">ただし、ことをお勧めするほとんどの場合で次のように使用します。`Partial`と`PartialAsync`です。</span><span class="sxs-lookup"><span data-stu-id="1f94a-136">However, in most cases it's recommended you use `Partial` and `PartialAsync`.</span></span>

> [!NOTE]
> <span data-ttu-id="1f94a-137">使用する、推奨パターンは、ビューは、ユーザーは、コードを実行する必要がある場合、[ビュー コンポーネント](view-components.md)部分ビューの代わりにします。</span><span class="sxs-lookup"><span data-stu-id="1f94a-137">If your views need to execute code, the recommended pattern is to use a [view component](view-components.md) instead of a partial view.</span></span>

### <a name="partial-view-discovery"></a><span data-ttu-id="1f94a-138">部分ビューの検出</span><span class="sxs-lookup"><span data-stu-id="1f94a-138">Partial View Discovery</span></span>

<span data-ttu-id="1f94a-139">部分ビューを参照するときに、いくつかの方法でその場所を参照することができます。</span><span class="sxs-lookup"><span data-stu-id="1f94a-139">When referencing a partial view, you can refer to its location in several ways:</span></span>

```text
// Uses a view in current folder with this name
// If none is found, searches the Shared folder
@Html.Partial("ViewName")

// A view with this name must be in the same folder
@Html.Partial("ViewName.cshtml")

// Locate the view based on the application root
// Paths that start with "/" or "~/" refer to the application root
@Html.Partial("~/Views/Folder/ViewName.cshtml")
@Html.Partial("/Views/Folder/ViewName.cshtml")

// Locate the view using relative paths
@Html.Partial("../Account/LoginPartial.cshtml")
```

<span data-ttu-id="1f94a-140">別のビューのフォルダーに同じ名前の別の部分ビューを設定できます。</span><span class="sxs-lookup"><span data-stu-id="1f94a-140">You can have different partial views with the same name in different view folders.</span></span> <span data-ttu-id="1f94a-141">参照する場合、ビュー名 (ファイル拡張子なし) で、各フォルダー内のビューはそれらの同じフォルダーに、部分ビューを使用します。</span><span class="sxs-lookup"><span data-stu-id="1f94a-141">When referencing the views by name (without file extension), views in each folder will use the partial view in the same folder with them.</span></span> <span data-ttu-id="1f94a-142">指定することも、既定の部分ビューを使用するのに配置することで、 *Shared*フォルダーです。</span><span class="sxs-lookup"><span data-stu-id="1f94a-142">You can also specify a default partial view to use, placing it in the *Shared* folder.</span></span> <span data-ttu-id="1f94a-143">共有部分ビューは、部分ビューの独自のバージョンがないすべてのビューで使用されます。</span><span class="sxs-lookup"><span data-stu-id="1f94a-143">The shared partial view will be used by any views that don't have their own version of the partial view.</span></span> <span data-ttu-id="1f94a-144">既定の部分ビューを持つことができます (で*Shared*)、これは、親ビューと同じフォルダーに同じ名前の部分ビューによってオーバーライドします。</span><span class="sxs-lookup"><span data-stu-id="1f94a-144">You can have a default partial view (in *Shared*), which is overridden by a partial view with the same name in the same folder as the parent view.</span></span>

<span data-ttu-id="1f94a-145">部分ビューは、*チェーン*です。</span><span class="sxs-lookup"><span data-stu-id="1f94a-145">Partial views can be *chained*.</span></span> <span data-ttu-id="1f94a-146">つまり、部分ビューは、(限りループを作成しない)、別の部分ビューを呼び出すことができます。</span><span class="sxs-lookup"><span data-stu-id="1f94a-146">That is, a partial view can call another partial view (as long as you don't create a loop).</span></span> <span data-ttu-id="1f94a-147">各ビューまたは部分ビュー内の相対パスは常にそのルートまたは親ではない、ビューのビューです。</span><span class="sxs-lookup"><span data-stu-id="1f94a-147">Within each view or partial view, relative paths are always relative to that view, not the root or parent view.</span></span>

> [!NOTE]
> <span data-ttu-id="1f94a-148">宣言する場合、 [Razor](razor.md) `section`部分ビューで、表示されませんをその親です。 これは、部分ビューに限定されます。</span><span class="sxs-lookup"><span data-stu-id="1f94a-148">If you declare a [Razor](razor.md) `section` in a partial view, it will not be visible to its parent(s); it will be limited to the partial view.</span></span>

## <a name="accessing-data-from-partial-views"></a><span data-ttu-id="1f94a-149">部分ビューからデータにアクセスします。</span><span class="sxs-lookup"><span data-stu-id="1f94a-149">Accessing Data From Partial Views</span></span>

<span data-ttu-id="1f94a-150">親ビューのコピー、部分ビューをインスタンス化時に取得`ViewData`ディクショナリ。</span><span class="sxs-lookup"><span data-stu-id="1f94a-150">When a partial view is instantiated, it gets a copy of the parent view's `ViewData` dictionary.</span></span> <span data-ttu-id="1f94a-151">親ビューには、部分ビュー内のデータに対して加えた更新は保持されません。</span><span class="sxs-lookup"><span data-stu-id="1f94a-151">Updates made to the data within the partial view are not persisted to the parent view.</span></span> <span data-ttu-id="1f94a-152">`ViewData`部分で変更された部分ビューが返されるときに、ビューは失われます。</span><span class="sxs-lookup"><span data-stu-id="1f94a-152">`ViewData` changed in a partial view is lost when the partial view returns.</span></span>

<span data-ttu-id="1f94a-153">インスタンスを渡すことができます`ViewDataDictionary`部分ビューへ。</span><span class="sxs-lookup"><span data-stu-id="1f94a-153">You can pass an instance of `ViewDataDictionary` to the partial view:</span></span>

```csharp
@Html.Partial("PartialName", customViewData)
   ```

<span data-ttu-id="1f94a-154">部分ビューにモデルを渡すこともできます。</span><span class="sxs-lookup"><span data-stu-id="1f94a-154">You can also pass a model into a partial view.</span></span> <span data-ttu-id="1f94a-155">ページのビュー モデル、またはの一部またはカスタム オブジェクトを指定できます。</span><span class="sxs-lookup"><span data-stu-id="1f94a-155">This can be the page's view model, or some portion of it, or a custom object.</span></span> <span data-ttu-id="1f94a-156">モデルを渡すことができます`Partial`、`PartialAsync`、 `RenderPartial`、または`RenderPartialAsync`:</span><span class="sxs-lookup"><span data-stu-id="1f94a-156">You can pass a model to `Partial`,`PartialAsync`, `RenderPartial`, or `RenderPartialAsync`:</span></span>

```csharp
@Html.Partial("PartialName", viewModel)
   ```

<span data-ttu-id="1f94a-157">インスタンスを渡すことができます`ViewDataDictionary`と、部分ビューをビュー モデル。</span><span class="sxs-lookup"><span data-stu-id="1f94a-157">You can pass an instance of `ViewDataDictionary` and a view model to a partial view:</span></span>

<span data-ttu-id="1f94a-158">[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml?range=15-16)]</span><span class="sxs-lookup"><span data-stu-id="1f94a-158">[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml?range=15-16)]</span></span>

<span data-ttu-id="1f94a-159">マークアップを示しています、 *Views/Articles/Read.cshtml*ビューには 2 つの部分ビューが含まれています。</span><span class="sxs-lookup"><span data-stu-id="1f94a-159">The markup below shows the *Views/Articles/Read.cshtml* view which contains two partial views.</span></span> <span data-ttu-id="1f94a-160">2 番目の部分ビューは、モデル内に渡しますと`ViewData`部分の表示にします。</span><span class="sxs-lookup"><span data-stu-id="1f94a-160">The second partial view passes in a model and `ViewData` to the partial view.</span></span> <span data-ttu-id="1f94a-161">新規に渡すことができます`ViewData`既存を維持したままディクショナリ`ViewData`のコンス トラクター オーバー ロードを使用する場合、`ViewDataDictionary`下強調表示されています。</span><span class="sxs-lookup"><span data-stu-id="1f94a-161">You can pass new `ViewData` dictionary while retaining the existing `ViewData` if you use the constructor overload of the `ViewDataDictionary` highlighted below:</span></span>

<span data-ttu-id="1f94a-162">[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml)]</span><span class="sxs-lookup"><span data-stu-id="1f94a-162">[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml)]</span></span>

<span data-ttu-id="1f94a-163">*ビュー/共有/AuthorPartial*:</span><span class="sxs-lookup"><span data-stu-id="1f94a-163">*Views/Shared/AuthorPartial*:</span></span>

<span data-ttu-id="1f94a-164">[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Shared/AuthorPartial.cshtml)]</span><span class="sxs-lookup"><span data-stu-id="1f94a-164">[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Shared/AuthorPartial.cshtml)]</span></span>

<span data-ttu-id="1f94a-165">*ArticleSection*部分。</span><span class="sxs-lookup"><span data-stu-id="1f94a-165">The *ArticleSection* partial:</span></span>

<span data-ttu-id="1f94a-166">[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Articles/ArticleSection.cshtml)]</span><span class="sxs-lookup"><span data-stu-id="1f94a-166">[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Articles/ArticleSection.cshtml)]</span></span>

<span data-ttu-id="1f94a-167">パーシャルのレンダリング時に、それ自体が表示される親ビューに、共有内*_Layout.cshtml*</span><span class="sxs-lookup"><span data-stu-id="1f94a-167">At runtime, the partials are rendered into the parent view, which itself is rendered within the shared *_Layout.cshtml*</span></span>

![部分ビューの出力](partial/_static/output.png)
