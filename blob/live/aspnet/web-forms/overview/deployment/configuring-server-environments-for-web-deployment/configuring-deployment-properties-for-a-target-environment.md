---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment
title: "ターゲット環境の展開のプロパティの構成 |Microsoft ドキュメント"
author: jrjlee
description: "このトピックでは、連絡先のマネージャーのサンプル ソリューションを特定のターゲット環境に展開するために環境固有のプロパティを構成する方法について説明しています."
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/04/2012
ms.topic: article
ms.assetid: b5b86e03-b8ed-46e6-90fa-e1da88ef34e9
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment
msc.type: authoredcontent
ms.openlocfilehash: f27b8376b332ff21185be0fd5c00ced7d40a20bd
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/10/2017
---
<a name="configuring-deployment-properties-for-a-target-environment"></a><span data-ttu-id="9f3be-103">ターゲット環境の展開のプロパティを構成します。</span><span class="sxs-lookup"><span data-stu-id="9f3be-103">Configuring Deployment Properties for a Target Environment</span></span>
====================
<span data-ttu-id="9f3be-104">によって[Jason lee 著](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="9f3be-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="9f3be-105">PDF をダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="9f3be-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="9f3be-106">このトピックでは、連絡先のマネージャーのサンプル ソリューションを特定のターゲット環境に展開するために環境固有のプロパティを構成する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="9f3be-106">This topic describes how to configure environment-specific properties in order to deploy the sample Contact Manager solution to a specific target environment.</span></span>


<span data-ttu-id="9f3be-107">このトピックの Fabrikam, Inc. という架空の会社のエンタープライズ展開の要件に関するチュートリアル シリーズの一部を形成します。このチュートリアルのシリーズを使用してサンプル ソリューション & #x 2014;、[連絡先のマネージャー](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)複雑さ、ASP.NET MVC 3 アプリケーション、Windows などの現実的なレベルで web アプリケーションを表すためには、ソリューション & #x 2014;Communication Foundation (WCF) サービスとデータベース プロジェクト。</span><span class="sxs-lookup"><span data-stu-id="9f3be-107">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) solution&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="9f3be-108">説明されている分割プロジェクト ファイル アプローチに基づいて、これらのチュートリアルの中心に配置メソッド[ビルド プロセスの理解](../web-deployment-in-the-enterprise/understanding-the-build-process.md)、によって制御されるビルド プロセスで 2 つのプロジェクト ファイル & #x 2014; 1 つを含む各配置先の環境と環境固有のビルドと配置の設定を含む 1 つに適用される手順をビルドします。</span><span class="sxs-lookup"><span data-stu-id="9f3be-108">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Build Process](../web-deployment-in-the-enterprise/understanding-the-build-process.md), in which the build process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="9f3be-109">ビルド時に環境固有のプロジェクト ファイルは、ビルドの手順の完全なセットを形成する環境に依存しないプロジェクト ファイルにマージされます。</span><span class="sxs-lookup"><span data-stu-id="9f3be-109">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="process-overview"></a><span data-ttu-id="9f3be-110">プロセスの概要</span><span class="sxs-lookup"><span data-stu-id="9f3be-110">Process Overview</span></span>

<span data-ttu-id="9f3be-111">ビルドし、連絡先のマネージャー ソリューションの配置に使用するプロジェクト ファイルは、2 つの物理ファイルに分かれています。</span><span class="sxs-lookup"><span data-stu-id="9f3be-111">The project file that you'll use to build and deploy the Contact Manager solution is split into two physical files:</span></span>

- <span data-ttu-id="9f3be-112">ユニバーサルが含まれているビルド設定と指示 (、 *Publish.proj*ファイル)。</span><span class="sxs-lookup"><span data-stu-id="9f3be-112">One that contains universal build settings and instructions (the *Publish.proj* file).</span></span>
- <span data-ttu-id="9f3be-113">ビルド設定のいずれかの特定環境にはが含まれています (*Env Dev.proj*、 *Env Stage.proj*など)。</span><span class="sxs-lookup"><span data-stu-id="9f3be-113">One that contains environment-specific build settings (*Env-Dev.proj*, *Env-Stage.proj*, and so on).</span></span>

<span data-ttu-id="9f3be-114">ビルド時に適切な環境に固有のプロジェクト ファイルが、汎用にマージ*Publish.proj*ビルド手順の完全なセットを形成するファイル。</span><span class="sxs-lookup"><span data-stu-id="9f3be-114">At build time, the appropriate environment-specific project file is merged into the universal *Publish.proj* file to form a complete set of build instructions.</span></span> <span data-ttu-id="9f3be-115">作成するか、独自の展開シナリオを説明する設定と環境固有のプロジェクト ファイルをカスタマイズする、特定の展開先環境への展開を構成できます。</span><span class="sxs-lookup"><span data-stu-id="9f3be-115">You can configure deployment to specific destination environments by creating or customizing environment-specific project files with settings that describe your own deployment scenario.</span></span>

<span data-ttu-id="9f3be-116">これらの値の多くは、送信先の環境を構成する方法 & #x 2014 で決定されます。 Web Deployment Agent サービス (リモート エージェント) または Web デプロイ ハンドラーを使用する、ターゲット web サーバーが構成されているかどうかに具体的には。</span><span class="sxs-lookup"><span data-stu-id="9f3be-116">Lots of these values are determined by how your destination environment is configured&#x2014;in particular, whether your target web server is configured to use the Web Deployment Agent Service (the remote agent) or the Web Deploy Handler.</span></span> <span data-ttu-id="9f3be-117">これらの方法の詳細については、ご使用の環境にとって適切なアプローチを選択するためのガイダンスについては、次を参照してください。 [Web 配置を右側の方法を選択する](choosing-the-right-approach-to-web-deployment.md)です。</span><span class="sxs-lookup"><span data-stu-id="9f3be-117">For more information on these approaches, and for guidance on choosing the right approach for your own environment, see [Choosing the Right Approach to Web Deployment](choosing-the-right-approach-to-web-deployment.md).</span></span>

<span data-ttu-id="9f3be-118">[連絡先のマネージャーのシナリオ](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md)2 つの環境に固有のプロジェクト ファイルが必要です。</span><span class="sxs-lookup"><span data-stu-id="9f3be-118">The [Contact Manager scenario](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md) requires two environment-specific project files:</span></span>

- <span data-ttu-id="9f3be-119">開発者のテスト環境に展開 (*Env Dev.proj*)。</span><span class="sxs-lookup"><span data-stu-id="9f3be-119">Deployment to a developer test environment (*Env-Dev.proj*).</span></span> <span data-ttu-id="9f3be-120">開発者のテスト環境が」の説明に従って、リモート エージェントを使用してリモート展開を受け入れるように構成されている[シナリオ: Web 配置用のテスト環境構成](scenario-configuring-a-test-environment-for-web-deployment.md)です。</span><span class="sxs-lookup"><span data-stu-id="9f3be-120">The developer test environment is configured to accept remote deployments using the remote agent, as described in [Scenario: Configuring a Test Environment for Web Deployment](scenario-configuring-a-test-environment-for-web-deployment.md).</span></span> <span data-ttu-id="9f3be-121">このファイルは、エンドポイントのアドレスだけでなく接続文字列などのサービス エンドポイントの場所に固有の設定は、リモート エージェントを提供する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9f3be-121">This file needs to provide the remote agent endpoint address as well as location-specific settings like connection strings and service endpoints.</span></span>
- <span data-ttu-id="9f3be-122">ステージング環境にデプロイ (*Env Stage.proj*)。</span><span class="sxs-lookup"><span data-stu-id="9f3be-122">Deployment to a staging environment (*Env-Stage.proj*).</span></span> <span data-ttu-id="9f3be-123">ステージング環境が」の説明に従って、Web の展開のハンドラーを使用してリモート展開を受け入れるように構成されている[シナリオ: Web 配置用のステージング環境構成](scenario-configuring-a-staging-environment-for-web-deployment.md)です。</span><span class="sxs-lookup"><span data-stu-id="9f3be-123">The staging environment is configured to accept remote deployments using the Web Deploy Handler, as described in [Scenario: Configuring a Staging Environment for Web Deployment](scenario-configuring-a-staging-environment-for-web-deployment.md).</span></span> <span data-ttu-id="9f3be-124">このファイルは、Web 配置ハンドラー エンドポイント アドレスと接続文字列のような場所に固有の設定を提供し、サービス エンドポイントに必要です。</span><span class="sxs-lookup"><span data-stu-id="9f3be-124">This file needs to provide the Web Deploy Handler endpoint address as well as location-specific settings like connection strings and service endpoints.</span></span>

<span data-ttu-id="9f3be-125">これが重要です自体 & #x 2014 に web の内容がパッケージを環境に固有のプロジェクト ファイルで構成した設定に影響しないことに注意してください制御代わりに、パッケージを展開する方法およびどのようなパラメーター値が提供されるときに、。パッケージが抽出されます。</span><span class="sxs-lookup"><span data-stu-id="9f3be-125">It's important to note that the settings you configure in the environment-specific project file don't affect the contents of the web package itself&#x2014;instead, they control how the package is deployed and what parameter values are provided when the package is extracted.</span></span> <span data-ttu-id="9f3be-126">」の説明に従って、手動で web パッケージを実稼働環境にインポートしている[シナリオ: Web 配置の実稼働環境を構成する](scenario-configuring-a-production-environment-for-web-deployment.md)と[Web パッケージを手動でインストールする](../web-deployment-in-the-enterprise/manually-installing-web-packages.md)、どのような設定にかかわらずで使用した環境固有のプロジェクト ファイル、パッケージを生成したときにします。</span><span class="sxs-lookup"><span data-stu-id="9f3be-126">You're importing the web package into the production environment manually, as described in [Scenario: Configuring a Production Environment for Web Deployment](scenario-configuring-a-production-environment-for-web-deployment.md) and [Manually Installing Web Packages](../web-deployment-in-the-enterprise/manually-installing-web-packages.md), so it doesn't matter what settings you used in the environment-specific project file when you generated the package.</span></span> <span data-ttu-id="9f3be-127">パッケージをインポートするときに、接続文字列と、サービス エンドポイントなど、任意のパラメーター化された値を要求インターネット インフォメーション サービス (IIS) マネージャーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="9f3be-127">Internet Information Services (IIS) Manager will prompt you for any parameterized values, like connection strings and service endpoints, when you import the package.</span></span>

<span data-ttu-id="9f3be-128">に独自のターゲット環境を、連絡先のマネージャー ソリューションを配置するには、か、このファイルをカスタマイズまたはテンプレートとして使用でき、独自のファイルを作成できます。</span><span class="sxs-lookup"><span data-stu-id="9f3be-128">To deploy the Contact Manager solution to your own target environment, you can either customize this file or use it as a template and create your own file.</span></span>

<span data-ttu-id="9f3be-129">**連絡先のマネージャー ソリューションの特定の環境のデプロイ設定を構成するには**</span><span class="sxs-lookup"><span data-stu-id="9f3be-129">**To configure environment-specific deployment settings for the Contact Manager solution**</span></span>

1. <span data-ttu-id="9f3be-130">Visual Studio 2010 で ContactManager WCF ソリューションを開きます。</span><span class="sxs-lookup"><span data-stu-id="9f3be-130">Open the ContactManager-WCF solution in Visual Studio 2010.</span></span>
2. <span data-ttu-id="9f3be-131">**ソリューション エクスプ ローラー**ウィンドウで、展開、**発行**フォルダーで、展開、 **EnvConfig**フォルダー、およびをダブルクリック**Env Dev.proj**.</span><span class="sxs-lookup"><span data-stu-id="9f3be-131">In the **Solution Explorer** window, expand the **Publish** folder, expand the **EnvConfig** folder, and then double-click **Env-Dev.proj**.</span></span>

    ![](configuring-deployment-properties-for-a-target-environment/_static/image1.png)
3. <span data-ttu-id="9f3be-132">内のプロパティ値を置き換える、 *Env Dev.proj*テスト環境の適切な値を持つファイルです。</span><span class="sxs-lookup"><span data-stu-id="9f3be-132">Replace the property values in the *Env-Dev.proj* file with the correct values for your own test environment.</span></span>

    > [!NOTE]
    > <span data-ttu-id="9f3be-133">この手順を次の表は、これらの各プロパティの詳細を提供します。</span><span class="sxs-lookup"><span data-stu-id="9f3be-133">The table that follows this procedure provides more information on each of these properties.</span></span>
4. <span data-ttu-id="9f3be-134">作業内容を保存し、閉じます、 *Env Dev.proj*ファイル。</span><span class="sxs-lookup"><span data-stu-id="9f3be-134">Save your work, and then close the *Env-Dev.proj* file.</span></span>

## <a name="choosing-the-right-deployment-properties"></a><span data-ttu-id="9f3be-135">適切な展開のプロパティ を選択</span><span class="sxs-lookup"><span data-stu-id="9f3be-135">Choosing the Right Deployment Properties</span></span>

<span data-ttu-id="9f3be-136">次の表は、サンプルの環境に固有のプロジェクト ファイル内の各プロパティの目的を説明*Env Dev.proj*と指定する必要があります値をいくつかのガイダンスを提供します。</span><span class="sxs-lookup"><span data-stu-id="9f3be-136">This table describes the purpose of each property in the sample environment-specific project file, *Env-Dev.proj*, and provides some guidance on the values you should provide.</span></span>

| <span data-ttu-id="9f3be-137">プロパティ名</span><span class="sxs-lookup"><span data-stu-id="9f3be-137">Property Name</span></span> | <span data-ttu-id="9f3be-138">詳細</span><span class="sxs-lookup"><span data-stu-id="9f3be-138">Details</span></span> |
| --- | --- |
| <span data-ttu-id="9f3be-139">**MSDeployComputerName**先の web サーバーまたはサービス エンドポイントの名前。</span><span class="sxs-lookup"><span data-stu-id="9f3be-139">**MSDeployComputerName** The name of the destination web server or service endpoint.</span></span> | <span data-ttu-id="9f3be-140">を、ターゲット web サーバー上のリモート エージェント サービスに配置する場合は、対象コンピューターの名前を指定できます (たとえば、 **TESTWEB1**または**TESTWEB1.fabrikam.net**)、またはリモートを指定することができますエージェントのエンドポイント (たとえば、 `http://TESTWEB1/MSDEPLOYAGENTSERVICE`)。</span><span class="sxs-lookup"><span data-stu-id="9f3be-140">If you're deploying to the remote agent service on the destination web server, you can specify the target computer name (for example, **TESTWEB1** or **TESTWEB1.fabrikam.net**), or you can specify the remote agent endpoint (for example, `http://TESTWEB1/MSDEPLOYAGENTSERVICE`).</span></span> <span data-ttu-id="9f3be-141">各ケースで同じように動作して展開します。</span><span class="sxs-lookup"><span data-stu-id="9f3be-141">The deployment works the same way in each case.</span></span> <span data-ttu-id="9f3be-142">を、Web 展開ハンドラーで、ターゲット web サーバー上に配置する場合、サービス エンドポイントを指定し、クエリ文字列パラメーターとして、IIS web サイトの名前を含めます (たとえば、 `https://STAGEWEB1:8172/MSDeploy.axd?site=DemoSite`)。</span><span class="sxs-lookup"><span data-stu-id="9f3be-142">If you're deploying to the Web Deploy Handler on the destination web server, you should specify the service endpoint and include the name of the IIS website as a query string parameter (for example, `https://STAGEWEB1:8172/MSDeploy.axd?site=DemoSite`).</span></span> |
| <span data-ttu-id="9f3be-143">**MSDeployAuth** Web Deploy がリモート コンピューターへの認証に使用するメソッド。</span><span class="sxs-lookup"><span data-stu-id="9f3be-143">**MSDeployAuth** The method that Web Deploy should use to authenticate to the remote computer.</span></span> | <span data-ttu-id="9f3be-144">これに設定する必要があります**NTLM**または**基本**です。</span><span class="sxs-lookup"><span data-stu-id="9f3be-144">This should be set to **NTLM** or **Basic**.</span></span> <span data-ttu-id="9f3be-145">通常、使用する**NTLM**リモート エージェント サービスを配置する場合と**基本的な**Web 展開ハンドラーを配置する場合。</span><span class="sxs-lookup"><span data-stu-id="9f3be-145">Typically, you'll use **NTLM** if you're deploying to the remote agent service and **Basic** if you're deploying to the Web Deploy Handler.</span></span> <span data-ttu-id="9f3be-146">基本認証を使用する場合は、ユーザー名とパスワード (Web 配置) IIS Web 配置ツールの展開を実行するために権限を借用する必要がありますを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9f3be-146">If you use basic authentication, you also need to specify the user name and password that the IIS Web Deployment Tool (Web Deploy) should impersonate in order to perform the deployment.</span></span> <span data-ttu-id="9f3be-147">この例では、これらの値がによって提供される、 **MSDeployUsername**と**MSDeployPassword**プロパティです。</span><span class="sxs-lookup"><span data-stu-id="9f3be-147">In this example, these values are provided through the **MSDeployUsername** and **MSDeployPassword** properties.</span></span> <span data-ttu-id="9f3be-148">NTLM 認証を使用する場合は、これらのプロパティを省略するか、空白のままにします。</span><span class="sxs-lookup"><span data-stu-id="9f3be-148">If you use NTLM authentication, you can omit these properties or leave them blank.</span></span> |
| <span data-ttu-id="9f3be-149">**MSDeployUsername**基本認証を使用する場合は、Web Deploy はこのアカウントを使用、リモート コンピューター上です。</span><span class="sxs-lookup"><span data-stu-id="9f3be-149">**MSDeployUsername** If you use basic authentication, Web Deploy will use this account on the remote computer.</span></span> | <span data-ttu-id="9f3be-150">これは、フォームにかける*ドメイン*\*username * (たとえば、 **FABRIKAM\matt**)。</span><span class="sxs-lookup"><span data-stu-id="9f3be-150">This should take the form *DOMAIN*\*username* (for example, **FABRIKAM\matt**).</span></span> <span data-ttu-id="9f3be-151">この値は、基本認証を指定する場合にのみ使用します。</span><span class="sxs-lookup"><span data-stu-id="9f3be-151">This value is only used if you specify basic authentication.</span></span> <span data-ttu-id="9f3be-152">NTLM 認証を使用する場合、プロパティを省略できます。</span><span class="sxs-lookup"><span data-stu-id="9f3be-152">If you use NTLM authentication, the property can be omitted.</span></span> <span data-ttu-id="9f3be-153">値を指定する場合は無視されます。</span><span class="sxs-lookup"><span data-stu-id="9f3be-153">If a value is supplied, it will be ignored.</span></span> |
| <span data-ttu-id="9f3be-154">**MSDeployPassword**基本認証を使用する場合は、Web Deploy はパスワードを使ってこの、リモート コンピューター上です。</span><span class="sxs-lookup"><span data-stu-id="9f3be-154">**MSDeployPassword** If you use basic authentication, Web Deploy will use this password on the remote computer.</span></span> | <span data-ttu-id="9f3be-155">これで指定したユーザー アカウントのパスワード、 **MSDeployUsername**プロパティです。</span><span class="sxs-lookup"><span data-stu-id="9f3be-155">This is the password for the user account you specified in the **MSDeployUsername** property.</span></span> <span data-ttu-id="9f3be-156">この値は、基本認証を指定する場合にのみ使用します。</span><span class="sxs-lookup"><span data-stu-id="9f3be-156">This value is only used if you specify basic authentication.</span></span> <span data-ttu-id="9f3be-157">NTLM 認証を使用する場合、プロパティを省略できます。</span><span class="sxs-lookup"><span data-stu-id="9f3be-157">If you use NTLM authentication, the property can be omitted.</span></span> <span data-ttu-id="9f3be-158">値を指定する場合は無視されます。</span><span class="sxs-lookup"><span data-stu-id="9f3be-158">If a value is supplied, it will be ignored.</span></span> |
| <span data-ttu-id="9f3be-159">**ContactManagerIisPath**連絡先のマネージャーの MVC アプリケーションを展開する、IIS パス。</span><span class="sxs-lookup"><span data-stu-id="9f3be-159">**ContactManagerIisPath** The IIS path on which you want to deploy the Contact Manager MVC application.</span></span> | <span data-ttu-id="9f3be-160">これは、パスになります、IIS マネージャーで、フォームに表示される [*IIS web サイト名*]/[*web**アプリケーション名*] です。</span><span class="sxs-lookup"><span data-stu-id="9f3be-160">This should be the path as it appears in IIS Manager, in the form [*IIS website name*]/[*web**application name*].</span></span> <span data-ttu-id="9f3be-161">IIS web サイトが、アプリケーションを展開する前に存在する必要があることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="9f3be-161">Remember that the IIS website needs to exist before you deploy your application.</span></span> <span data-ttu-id="9f3be-162">たとえば、DemoSite という IIS の web サイトを作成してある場合は、DemoSite/ContactManager として MVC アプリケーション用 IIS パスを指定可能性があります。</span><span class="sxs-lookup"><span data-stu-id="9f3be-162">For example, if you've created an IIS website named DemoSite, you could specify the IIS path for the MVC application as DemoSite/ContactManager.</span></span> |
| <span data-ttu-id="9f3be-163">**ContactManagerServiceIisPath**連絡先のマネージャーの WCF サービスを展開する、IIS パス。</span><span class="sxs-lookup"><span data-stu-id="9f3be-163">**ContactManagerServiceIisPath** The IIS path on which you want to deploy the Contact Manager WCF service.</span></span> | <span data-ttu-id="9f3be-164">たとえば、DemoSite という IIS の web サイトを作成した場合は、として WCF サービスの IIS パスを指定でした**DemoSite/ContactManagerService**です。</span><span class="sxs-lookup"><span data-stu-id="9f3be-164">For example, if you've created an IIS website named DemoSite, you could specify the IIS path for the WCF service as **DemoSite/ContactManagerService**.</span></span> |
| <span data-ttu-id="9f3be-165">**ContactManagerTargetUrl**を WCF サービスに到達できる URL。</span><span class="sxs-lookup"><span data-stu-id="9f3be-165">**ContactManagerTargetUrl** The URL at which the WCF service can be reached.</span></span> | <span data-ttu-id="9f3be-166">これには、フォームをかかります [*IIS web サイトのルート URL*]/[*サービス アプリケーションの名前*]/[*サービス エンドポイント*]。</span><span class="sxs-lookup"><span data-stu-id="9f3be-166">This will take the form [*IIS website root URL*]/[*service application name*]/[*service endpoint*].</span></span> <span data-ttu-id="9f3be-167">たとえば、IIS の web サイトをポート 85 で作成した場合、URL 夥しいフォーム`http://localhost:85/ContactManagerService/ContactService.svc`です。</span><span class="sxs-lookup"><span data-stu-id="9f3be-167">For example, if you've created an IIS website on port 85, the URL would take the form `http://localhost:85/ContactManagerService/ContactService.svc`.</span></span> <span data-ttu-id="9f3be-168">同じサーバーに、MVC アプリケーションと WCF サービスが展開されていることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="9f3be-168">Remember that the MVC application and the WCF service are deployed to the same server.</span></span> <span data-ttu-id="9f3be-169">その結果、この URL がインストールされているコンピューターからアクセスだけです。</span><span class="sxs-lookup"><span data-stu-id="9f3be-169">As a result, this URL is only ever accessed from the machine on which it's installed.</span></span> <span data-ttu-id="9f3be-170">このため、URL で localhost または IP アドレスではなく、コンピューター名またはホスト ヘッダーを使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="9f3be-170">Because of this, it's better to use localhost or the IP address, rather than the machine name or a host header, in the URL.</span></span> <span data-ttu-id="9f3be-171">コンピューター名またはホスト ヘッダーを使用する場合、[ループバック チェック](https://go.microsoft.com/?linkid=9805131)IIS のセキュリティ機能が、URL をブロックし、返す可能性があります、 **HTTP 401.1 - 権限がありません**エラーです。</span><span class="sxs-lookup"><span data-stu-id="9f3be-171">If you use the machine name or a host header, the [loopback check](https://go.microsoft.com/?linkid=9805131) security feature in IIS may block the URL and return an **HTTP 401.1 - Unauthorized** error.</span></span> |
| <span data-ttu-id="9f3be-172">**CmDatabaseConnectionString**データベース サーバーの接続文字列。</span><span class="sxs-lookup"><span data-stu-id="9f3be-172">**CmDatabaseConnectionString** The connection string for the database server.</span></span> | <span data-ttu-id="9f3be-173">接続文字列では、両方の VSDBCMD に使う資格情報をデータベース サーバーに接続し、データベースと web サーバーのアプリケーション プールが、データベース サーバーに接続し、データベースとの対話に使用する資格情報の作成を決定します。</span><span class="sxs-lookup"><span data-stu-id="9f3be-173">The connection string determines both the credentials that VSDBCMD will use to contact the database server and create the database and the credentials that the web server application pool will use to contact the database server and interact with the database.</span></span> <span data-ttu-id="9f3be-174">基本的には、ここにある 2 つの選択肢です。</span><span class="sxs-lookup"><span data-stu-id="9f3be-174">Essentially you have two choices here.</span></span> <span data-ttu-id="9f3be-175">指定できます**統合セキュリティ = true**、統合 Windows 認証を使用する場合:**データ ソース = TESTDB1; Integrated Security = true**を使用して、データベースを作成、ここでは、VSDBCMD 実行可能ファイルを実行しているユーザーおよびアプリケーションの資格情報は、web サーバーのコンピューター アカウントの id を使用してデータベースにアクセスされます。</span><span class="sxs-lookup"><span data-stu-id="9f3be-175">You can specify **Integrated Security=true**, in which case integrated Windows authentication is used: **Data Source=TESTDB1;Integrated Security=true** In this case, the database will be created using the credentials of the user who runs the VSDBCMD executable, and the application will access the database using the identity of the web server machine account.</span></span> <span data-ttu-id="9f3be-176">または、ユーザー名と SQL Server アカウントのパスワードを指定することができます。</span><span class="sxs-lookup"><span data-stu-id="9f3be-176">Alternatively, you can specify the user name and password of a SQL Server account.</span></span> <span data-ttu-id="9f3be-177">VSDBCMD データベースを作成して、データベースとやり取りするアプリケーション プールの両方に、ここでは、SQL Server 資格情報が使用される:**データ ソース = TESTDB1 です。ユーザー Id = ASqlUser です。パスワード = Pa$ $w0rd**のチュートリアルでは、このトピックでは、統合 Windows 認証を使用することを前提としています。</span><span class="sxs-lookup"><span data-stu-id="9f3be-177">In this case, the SQL Server credentials are used both by VSDBCMD to create the database and by the application pool to interact with the database: **Data Source=TESTDB1;User Id=ASqlUser; Password=Pa$$w0rd** The walkthroughs in this topic assume that you'll use integrated Windows authentication.</span></span> |
| <span data-ttu-id="9f3be-178">**CmTargetDatabase**データベース サーバーで作成するデータベースを提供する名前。</span><span class="sxs-lookup"><span data-stu-id="9f3be-178">**CmTargetDatabase** The name you want to give the database you'll create on the database server.</span></span> | <span data-ttu-id="9f3be-179">ここで指定する値は、パラメーターとして VSDBCMD コマンドに追加されます。</span><span class="sxs-lookup"><span data-stu-id="9f3be-179">The value you provide here is added to the VSDBCMD command as a parameter.</span></span> <span data-ttu-id="9f3be-180">Web サーバー上のアプリケーション プールは、データベースとの対話に使用できる完全な接続文字列を作成することも使用されます。</span><span class="sxs-lookup"><span data-stu-id="9f3be-180">It's also used to build a full connection string that the application pool on the web server can use to interact with the database.</span></span> |
  

<span data-ttu-id="9f3be-181">これらの例では、特定の展開シナリオのこれらのプロパティを構成する方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="9f3be-181">These examples show how you might configure these properties for specific deployment scenarios.</span></span>

### <a name="example-1x2014deployment-to-the-remote-agent-service"></a><span data-ttu-id="9f3be-182">例 1 & #x 2014 以外の場合は、リモート エージェント サービスへの展開</span><span class="sxs-lookup"><span data-stu-id="9f3be-182">Example 1&#x2014;Deployment to the Remote Agent Service</span></span>

<span data-ttu-id="9f3be-183">この例では、次のように記述されています。</span><span class="sxs-lookup"><span data-stu-id="9f3be-183">In this example:</span></span>

- <span data-ttu-id="9f3be-184">TESTWEB1 上のリモート エージェント サービスを配置します。</span><span class="sxs-lookup"><span data-stu-id="9f3be-184">You're deploying to the remote agent service on TESTWEB1.</span></span>
- <span data-ttu-id="9f3be-185">Web デプロイの NTLM 認証を使用することを指示するしています。</span><span class="sxs-lookup"><span data-stu-id="9f3be-185">You're instructing Web Deploy to use NTLM authentication.</span></span> <span data-ttu-id="9f3be-186">Web Deploy は、Microsoft Build Engine (MSBuild) を呼び出すために使用する資格情報を使用して実行されます。</span><span class="sxs-lookup"><span data-stu-id="9f3be-186">Web Deploy will run using the credentials you used to invoke the Microsoft Build Engine (MSBuild).</span></span>
- <span data-ttu-id="9f3be-187">展開する統合認証を使用している、 **ContactManager** TESTDB1 をデータベースします。</span><span class="sxs-lookup"><span data-stu-id="9f3be-187">You're using integrated authentication to deploy the **ContactManager** database to TESTDB1.</span></span> <span data-ttu-id="9f3be-188">データベースは、MSBuild を呼び出すために使用する資格情報を使って展開されます。</span><span class="sxs-lookup"><span data-stu-id="9f3be-188">The database will be deployed using the credentials you used to invoke MSBuild.</span></span>


[!code-xml[Main](configuring-deployment-properties-for-a-target-environment/samples/sample1.xml)]


### <a name="example-2x2014deployment-to-the-web-deploy-handler-endpoint"></a><span data-ttu-id="9f3be-189">例 2 & #x 2014; ハンドラー エンドポイント展開 Web への展開</span><span class="sxs-lookup"><span data-stu-id="9f3be-189">Example 2&#x2014;Deployment to the Web Deploy Handler Endpoint</span></span>

<span data-ttu-id="9f3be-190">この例では、次のように記述されています。</span><span class="sxs-lookup"><span data-stu-id="9f3be-190">In this example:</span></span>

- <span data-ttu-id="9f3be-191">STAGEWEB1 の Web 展開ハンドラーのサービス エンドポイントに配置します。</span><span class="sxs-lookup"><span data-stu-id="9f3be-191">You're deploying to the Web Deploy Handler service endpoint on STAGEWEB1.</span></span>
- <span data-ttu-id="9f3be-192">Web デプロイの基本認証を使用することを指示するしています。</span><span class="sxs-lookup"><span data-stu-id="9f3be-192">You're instructing Web Deploy to use basic authentication.</span></span>
- <span data-ttu-id="9f3be-193">Web 配置でリモート コンピューターで FABRIKAM\stagingdeployer アカウントを借用する必要があることを指定します。</span><span class="sxs-lookup"><span data-stu-id="9f3be-193">You're specifying that Web Deploy should impersonate the FABRIKAM\stagingdeployer account on the remote computer.</span></span>
- <span data-ttu-id="9f3be-194">展開する SQL Server 認証を使用している、 **ContactManager** STAGEDB1 へのデータベースです。</span><span class="sxs-lookup"><span data-stu-id="9f3be-194">You're using SQL Server authentication to deploy the **ContactManager** database to STAGEDB1.</span></span>


[!code-xml[Main](configuring-deployment-properties-for-a-target-environment/samples/sample2.xml)]


## <a name="conclusion"></a><span data-ttu-id="9f3be-195">まとめ</span><span class="sxs-lookup"><span data-stu-id="9f3be-195">Conclusion</span></span>

<span data-ttu-id="9f3be-196">この時点で、プロジェクト ファイルは完全をビルドし、1 つまたは複数の展開先環境への連絡先のマネージャー ソリューションの配置構成します。</span><span class="sxs-lookup"><span data-stu-id="9f3be-196">At this point, your project files are fully configured to build and deploy the Contact Manager solution to one or more destination environments.</span></span>

<span data-ttu-id="9f3be-197">をシングル ステップ、反復可能な展開プロセスの一環としてこれらのプロジェクト ファイルを使用するのには、を実行する必要があります、 *Publish.proj* MSBuild を使用してファイルし、環境固有のプロジェクト ファイルの場所をパラメーターとして渡します。</span><span class="sxs-lookup"><span data-stu-id="9f3be-197">To use these project files as part of a single-step, repeatable deployment process, you need to execute the *Publish.proj* file using MSBuild and pass in the location of the environment-specific project file as a parameter.</span></span> <span data-ttu-id="9f3be-198">これは、さまざまな方法で行うことができます。</span><span class="sxs-lookup"><span data-stu-id="9f3be-198">You can do this in various ways:</span></span>

- <span data-ttu-id="9f3be-199">MSBuild とカスタム プロジェクト ファイルの概要についての概要については、次を参照してください。[プロジェクト ファイルを理解する](../web-deployment-in-the-enterprise/understanding-the-project-file.md)です。</span><span class="sxs-lookup"><span data-stu-id="9f3be-199">For an overview of MSBuild and an introduction to custom project files, see [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span></span>
- <span data-ttu-id="9f3be-200">カスタム プロジェクト ファイルを実行する MSBuild コマンドを作成する方法については、次を参照してください。 [Web パッケージを展開する](../web-deployment-in-the-enterprise/deploying-web-packages.md)です。</span><span class="sxs-lookup"><span data-stu-id="9f3be-200">For information on how to formulate an MSBuild command that executes your custom project files, see [Deploying Web Packages](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span></span>
- <span data-ttu-id="9f3be-201">シングル ステップで反復可能な展開でコマンド ファイルに、MSBuild コマンドを組み込む方法については、次を参照してください。[の作成と展開コマンド ファイルを実行している](../web-deployment-in-the-enterprise/creating-and-running-a-deployment-command-file.md)です。</span><span class="sxs-lookup"><span data-stu-id="9f3be-201">For information on how to incorporate your MSBuild commands into a command file for single-step, repeatable deployments, see [Creating and Running a Deployment Command File](../web-deployment-in-the-enterprise/creating-and-running-a-deployment-command-file.md).</span></span>
- <span data-ttu-id="9f3be-202">チーム ビルドからのカスタム プロジェクトのファイルを実行する方法については、次を参照してください。[ビルド定義をサポートする展開を作成する](../configuring-team-foundation-server-for-web-deployment/creating-a-build-definition-that-supports-deployment.md)です。</span><span class="sxs-lookup"><span data-stu-id="9f3be-202">For information on how to execute your custom project files from Team Build, see [Creating a Build Definition that Supports Deployment](../configuring-team-foundation-server-for-web-deployment/creating-a-build-definition-that-supports-deployment.md).</span></span>

>[!div class="step-by-step"]
[<span data-ttu-id="9f3be-203">前へ</span><span class="sxs-lookup"><span data-stu-id="9f3be-203">Previous</span></span>](creating-a-server-farm-with-the-web-farm-framework.md)
